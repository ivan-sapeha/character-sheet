import{r as a,N as I}from"./index-CmCXFA1Y.js";import"./react-B3v7JCnE.js";var U=e=>{throw TypeError(e)},S=(e,t,r)=>t.has(e)||U("Cannot "+r),A=(e,t,r)=>(S(e,t,"read from private field"),r?r.call(e):t.get(e)),T=(e,t,r)=>t.has(e)?U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),M=(e,t,r,l)=>(S(e,t,"write to private field"),t.set(e,r),r),E=(e,t,r)=>(S(e,t,"access private method"),r),g={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x;function k(){if(x)return O;x=1;var e=I,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function s(f,i,p){var n,u={},o=null,m=null;p!==void 0&&(o=""+p),i.key!==void 0&&(o=""+i.key),i.ref!==void 0&&(m=i.ref);for(n in i)l.call(i,n)&&!h.hasOwnProperty(n)&&(u[n]=i[n]);if(f&&f.defaultProps)for(n in i=f.defaultProps,i)u[n]===void 0&&(u[n]=i[n]);return{$$typeof:t,type:f,key:o,ref:m,props:u,_owner:c.current}}return O.Fragment=r,O.jsx=s,O.jsxs=s,O}var P;function L(){return P||(P=1,g.exports=k()),g.exports}var F=L();const Z=Object.freeze({color:"rgba(255, 255, 255, 0.8)",maxParticles:50,speed:"DEFAULT"}),Y={DEFAULT:33,FAST:20,FASTER:10},j=2**31-1,D=50,b=`(function(){"use strict";const g=Object.freeze({color:"rgba(255, 255, 255, 0.8)",maxParticles:50,speed:"DEFAULT"}),u={DEFAULT:33,FAST:20,FASTER:10},x=t=>t.type===0,M=t=>t.type===1,w=t=>t.type===2,P=t=>t.type===3,A=t=>t.type===4,F=t=>typeof t=="object"?t.msBetweenUpdates:u[t];let r={...g},o,d=0,y=-1/0,l=null,s,i,h=!1;self.onmessage=t=>{const{data:a}=t;if(x(a))s=a.canvas,i=s.getContext("2d"),s.width=a.width,s.height=a.height,r={...g,...a.options},o=Array.from({length:r.maxParticles},S);else if(M(a))s.width=a.width,s.height=a.height;else if(P(a)){const{type:m,...c}=a;r={...r,...c.options},O(r.maxParticles)}else if(w(a)){h=!0;const{width:m,height:c}=i.canvas;i.clearRect(0,0,m,c),l&&cancelAnimationFrame(l);return}else A(a)&&(h=!1);const p=()=>{const m=F(r.speed);if(performance.now()-y<m){l=requestAnimationFrame(p);return}const{width:c,height:f}=i.canvas;i.clearRect(0,0,c,f),i.fillStyle=r.color,i.beginPath();for(let n=0;n<r.maxParticles;n++){const e=o[n];i.moveTo(e.x,e.y),i.arc(e.x,e.y,e.r,0,Math.PI*2,!0)}i.fill(),d=(d+.01)%360;for(let n=0;n<r.maxParticles;n++){const e=o[n];e.y+=Math.cos(d+e.d)+1+e.r/2,e.x+=Math.sin(d)*2,(e.x>c+5||e.x<-5||e.y>f)&&(n%3>0?o[n]={x:Math.random()*c,y:-10,r:e.r,d:e.d}:Math.sin(d)>0?o[n]={x:-5,y:Math.random()*f,r:e.r,d:e.d}:o[n]={x:c+5,y:Math.random()*f,r:e.r,d:e.d})}y=performance.now(),h||(l=requestAnimationFrame(p))};l&&cancelAnimationFrame(l),h||requestAnimationFrame(p)};const O=t=>{const a=o.length;if(t!==a){if(t<a)return o.splice(t,a-t);o.push(...Array.from({length:t-a},S))}},S=()=>({x:Math.random()*s.width,y:Math.random()*-s.height,r:Math.random()*4+1,d:Math.random()*r.maxParticles})})();
`,R=typeof self<"u"&&self.Blob&&new Blob([b],{type:"text/javascript;charset=utf-8"});function N(e){let t;try{if(t=R&&(self.URL||self.webkitURL).createObjectURL(R),!t)throw"";const r=new Worker(t,{name:e==null?void 0:e.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),r}catch{return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(b),{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}var y=(e=>(e[e.INIT=0]="INIT",e[e.UPDATE_SIZE=1]="UPDATE_SIZE",e[e.STOP=2]="STOP",e[e.UPDATE_OPTIONS=3]="UPDATE_OPTIONS",e[e.RESUME=4]="RESUME",e))(y||{}),v,d,w;class W{constructor(t){T(this,d),T(this,v),M(this,v,t)}init(t){E(this,d,w).call(this,{...t,type:y.INIT},[t.canvas])}updateSize(t){E(this,d,w).call(this,{...t,type:y.UPDATE_SIZE})}stop(){E(this,d,w).call(this,{type:y.STOP})}resume(){E(this,d,w).call(this,{type:y.RESUME})}updateOptions(t){E(this,d,w).call(this,{...t,type:y.UPDATE_OPTIONS})}terminate(){A(this,v).terminate()}}v=new WeakMap,d=new WeakSet,w=function(e,t){A(this,v).postMessage(e,{transfer:t})};const C=(e,t)=>{const r=a.useRef(null),l=a.useCallback((...c)=>{r.current!==null&&clearTimeout(r.current),r.current=window.setTimeout(()=>{e(...c)},t)},[e,t]);return a.useEffect(()=>()=>void(r.current!==null&&clearTimeout(r.current))),l},z=(e,t)=>{const r=a.useRef();return(!r.current||!_(t,r.current.key))&&(r.current={key:t,value:e()}),r.current.value},_=(e,t)=>{if(e===t)return!0;if(e===null||t===null||typeof e!="object"||typeof t!="object")return!1;const r=Object.keys(e),l=Object.keys(t);return!(r.length!==l.length||r.some(c=>!l.includes(c)||!_(e[c],t[c])))},$=a.memo(function({zIndex:e=j,disabled:t,disabledOnSingleCpuDevices:r,...l}){const c=a.useRef(null),h=a.useRef(null),s=a.useRef(null),[f,i]=a.useReducer(()=>!0,!1),p=z(()=>l,[l]),n=C(()=>{var o;if(!(typeof window>"u"||!((o=c.current)!=null&&o.transferControlToOffscreen))){if(h.current??(h.current=c.current.transferControlToOffscreen()),!s.current){s.current=new W(new N),i();const m=h.current;return s.current.init({canvas:m,width:window.innerWidth,height:window.innerHeight,options:p})}s.current.updateSize({width:window.innerWidth,height:window.innerHeight})}},D);a.useEffect(()=>(n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[n]);const u=a.useMemo(()=>{const o=!!t,m=r&&typeof navigator<"u"&&navigator.hardwareConcurrency===1;return o||m},[r,t]);return a.useEffect(()=>{if(!(!f||!h.current||!s.current)){if(u)return s.current.stop();s.current.updateOptions({options:p})}},[u,p,f]),a.useEffect(()=>{var o;(o=s.current)==null||o[u?"stop":"resume"]()},[u]),a.useEffect(()=>{var o;return(o=s.current)==null?void 0:o.terminate},[]),F.jsx("canvas",{"aria-hidden":"true",ref:c,style:{zIndex:e,pointerEvents:"none",userSelect:"none",position:"fixed",top:0,right:0,bottom:0,left:0,...u&&{display:"none"}}})});export{Z as DEFAULT_SNOW_OPTIONS,Y as SNOW_OPTIONS_SPEED_MAP,$ as SnowOverlay};
