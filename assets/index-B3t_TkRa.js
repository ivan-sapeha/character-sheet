var Ft=Object.defineProperty;var Ht=(t,n,s)=>n in t?Ft(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var Be=(t,n,s)=>Ht(t,typeof n!="symbol"?n+"":n,s);import{r as w,g as Wt,c as ue,R as Me,a as Gt,b as Vt}from"./react-B7fAzt2i.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&e(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();var mt={exports:{}},xe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=w,$t=Symbol.for("react.element"),Xt=Symbol.for("react.fragment"),Jt=Object.prototype.hasOwnProperty,Kt=qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zt={key:!0,ref:!0,__self:!0,__source:!0};function ht(t,n,s){var e,r={},l=null,a=null;s!==void 0&&(l=""+s),n.key!==void 0&&(l=""+n.key),n.ref!==void 0&&(a=n.ref);for(e in n)Jt.call(n,e)&&!Zt.hasOwnProperty(e)&&(r[e]=n[e]);if(t&&t.defaultProps)for(e in n=t.defaultProps,n)r[e]===void 0&&(r[e]=n[e]);return{$$typeof:$t,type:t,key:l,ref:a,props:r,_owner:Kt.current}}xe.Fragment=Xt;xe.jsx=ht;xe.jsxs=ht;mt.exports=xe;var o=mt.exports,ft={exports:{}};(()=>{var t={675:(e,r)=>{function l(a,i){return a.objectStoreNames.contains(i)}Object.defineProperty(r,"__esModule",{value:!0}),r.optionsGenerator=r.createTransaction=r.validateBeforeTransaction=r.validateStoreName=void 0,r.validateStoreName=l,r.validateBeforeTransaction=function(a,i,c){a||c("You need to use the openDatabase function to create a database before you query it!"),l(a,i)||c("objectStore does not exists: ".concat(i))},r.createTransaction=function(a,i){var c=a.transaction(i.storeName,i.dbMode);return c.onerror=i.error,c.oncomplete=i.complete,c.onabort=i.abort,c},r.optionsGenerator=function(a,i,c,d){return{storeName:i,dbMode:a,error:function(m){c(m)},complete:function(){d()},abort:function(m){c(m)}}}},823:(e,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createDatabaseTransaction=void 0;var a=l(675);r.createDatabaseTransaction=function(i,c,d,m,h,f,p){f===void 0&&(f=a.createTransaction),p===void 0&&(p=a.optionsGenerator);var g=f(i,p(c,d,h,m));return{store:g.objectStore(d),transaction:g}}},401:(e,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createReadonlyTransaction=void 0;var a=l(84),i=l(823);r.createReadonlyTransaction=function(c,d,m,h){return(0,i.createDatabaseTransaction)(c,a.DBMode.readonly,d,m,h)}},987:(e,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createReadwriteTransaction=void 0;var a=l(84),i=l(823);r.createReadwriteTransaction=function(c,d,m,h){return(0,i.createDatabaseTransaction)(c,a.DBMode.readwrite,d,m,h)}},629:function(e,r,l){var a=this&&this.__createBinding||(Object.create?function(d,m,h,f){f===void 0&&(f=h);var p=Object.getOwnPropertyDescriptor(m,h);p&&!("get"in p?!m.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return m[h]}}),Object.defineProperty(d,f,p)}:function(d,m,h,f){f===void 0&&(f=h),d[f]=m[h]}),i=this&&this.__exportStar||function(d,m){for(var h in d)h==="default"||Object.prototype.hasOwnProperty.call(m,h)||a(m,d,h)};Object.defineProperty(r,"__esModule",{value:!0}),r.IndexedDB=r.AccessDB=void 0;var c=l(7);Object.defineProperty(r,"AccessDB",{enumerable:!0,get:function(){return c.AccessDB}}),Object.defineProperty(r,"IndexedDB",{enumerable:!0,get:function(){return c.IndexedDB}}),i(l(157),r)},7:function(e,r,l){var a=this&&this.__assign||function(){return a=Object.assign||function(S){for(var u,v=1,x=arguments.length;v<x;v++)for(var b in u=arguments[v])Object.prototype.hasOwnProperty.call(u,b)&&(S[b]=u[b]);return S},a.apply(this,arguments)},i=this&&this.__awaiter||function(S,u,v,x){return new(v||(v=Promise))(function(b,j){function C(I){try{y(x.next(I))}catch(_){j(_)}}function A(I){try{y(x.throw(I))}catch(_){j(_)}}function y(I){var _;I.done?b(I.value):(_=I.value,_ instanceof v?_:new v(function(O){O(_)})).then(C,A)}y((x=x.apply(S,u||[])).next())})},c=this&&this.__generator||function(S,u){var v,x,b,j,C={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return j={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(j[Symbol.iterator]=function(){return this}),j;function A(y){return function(I){return function(_){if(v)throw new TypeError("Generator is already executing.");for(;C;)try{if(v=1,x&&(b=2&_[0]?x.return:_[0]?x.throw||((b=x.return)&&b.call(x),0):x.next)&&!(b=b.call(x,_[1])).done)return b;switch(x=0,b&&(_=[2&_[0],b.value]),_[0]){case 0:case 1:b=_;break;case 4:return C.label++,{value:_[1],done:!1};case 5:C.label++,x=_[1],_=[0];continue;case 7:_=C.ops.pop(),C.trys.pop();continue;default:if(!((b=(b=C.trys).length>0&&b[b.length-1])||_[0]!==6&&_[0]!==2)){C=0;continue}if(_[0]===3&&(!b||_[1]>b[0]&&_[1]<b[3])){C.label=_[1];break}if(_[0]===6&&C.label<b[1]){C.label=b[1],b=_;break}if(b&&C.label<b[2]){C.label=b[2],C.ops.push(_);break}b[2]&&C.ops.pop(),C.trys.pop();continue}_=u.call(S,C)}catch(O){_=[6,O],x=0}finally{v=b=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([y,I])}}},d=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(r,"__esModule",{value:!0}),r.AccessDB=r.IndexedDB=void 0;var m=d(l(689)),h=l(84),f=m.default.createContext({db:null,name:null,version:null}),p=f.Provider,g=f.Consumer;r.IndexedDB=function(S){var u=this,v=S.name,x=S.version,b=S.children;return S.objectStoresMeta.forEach(function(j){return i(u,void 0,void 0,function(){return c(this,function(C){switch(C.label){case 0:return[4,(0,h.openDatabase)(v,x,function(A){var y=A.currentTarget.result.createObjectStore(j.store,j.storeConfig);j.storeSchema.forEach(function(I){y.createIndex(I.name,I.keypath,I.options)})})];case 1:return C.sent(),[2]}})})}),m.default.createElement(p,{value:{db:null,name:v,version:x}},b)},r.AccessDB=function(S){var u=S.children,v=S.objectStore;return m.default.createElement(g,null,function(x){var b=x.db,j=x.name,C=x.version;return u(a({db:b},(0,h.DBOperations)(j,C,v)))})}},84:(e,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DBMode=r.DBOperations=r.CreateObjectStore=r.openDatabase=void 0;var a,i=l(675),c=l(987),d=l(401),m=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;function h(f,p,g){return new Promise(function(S,u){var v,x=m.open(f,p);x.onsuccess=function(){v=x.result,S(v)},x.onerror=function(){u("IndexedDB error: ".concat(x.error))},typeof g=="function"&&(x.onupgradeneeded=function(b){g(b,v)})})}r.openDatabase=h,r.CreateObjectStore=function(f,p,g){var S=m.open(f,p);S.onupgradeneeded=function(u){var v=u.target.result;g.forEach(function(x){if(!v.objectStoreNames.contains(x.store)){var b=v.createObjectStore(x.store,x.storeConfig);x.storeSchema.forEach(function(j){b.createIndex(j.name,j.keypath,j.options)})}}),v.close()},S.onsuccess=function(u){u.target.result.close()}},r.DBOperations=function(f,p,g){return{add:function(S,u){return new Promise(function(v,x){h(f,p).then(function(b){var j=(0,c.createReadwriteTransaction)(b,g,v,x).store.add(S,u);j.onsuccess=function(C){u=C.target.result,v(u)},j.onerror=function(C){return x(C)}})})},getByID:function(S){return new Promise(function(u,v){h(f,p).then(function(x){(0,i.validateBeforeTransaction)(x,g,v),(0,d.createReadonlyTransaction)(x,g,u,v).store.get(S).onsuccess=function(b){u(b.target.result)}})})},getAll:function(){return new Promise(function(S,u){h(f,p).then(function(v){(0,i.validateBeforeTransaction)(v,g,u);var x=(0,d.createReadonlyTransaction)(v,g,S,u).store.getAll();x.onerror=function(b){return u(b)},x.onsuccess=function(b){var j=b.target.result;S(j)}})})},update:function(S,u){return new Promise(function(v,x){h(f,p).then(function(b){(0,i.validateBeforeTransaction)(b,g,x);var j=(0,c.createReadwriteTransaction)(b,g,v,x),C=j.transaction,A=j.store;C.oncomplete=function(y){return v(y)},A.put(S,u)})})},deleteRecord:function(S){return new Promise(function(u,v){h(f,p).then(function(x){(0,i.validateBeforeTransaction)(x,g,v),(0,c.createReadwriteTransaction)(x,g,u,v).store.delete(S).onsuccess=function(b){return u(b)}})})},clear:function(){return new Promise(function(S,u){h(f,p).then(function(v){(0,i.validateBeforeTransaction)(v,g,u);var x=(0,c.createReadwriteTransaction)(v,g,S,u),b=x.store;x.transaction.oncomplete=function(){return S()},b.clear()})})},openCursor:function(S,u){return new Promise(function(v,x){h(f,p).then(function(b){(0,i.validateBeforeTransaction)(b,g,x),(0,d.createReadonlyTransaction)(b,g,v,x).store.openCursor(u).onsuccess=function(j){S(j),v()}})})},getByIndex:function(S,u){return new Promise(function(v,x){h(f,p).then(function(b){(0,i.validateBeforeTransaction)(b,g,x),(0,d.createReadonlyTransaction)(b,g,v,x).store.index(S).get(u).onsuccess=function(j){v(j.target.result)}})})}}},(a=r.DBMode||(r.DBMode={})).readonly="readonly",a.readwrite="readwrite"},157:(e,r,l)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.useIndexedDB=r.initDB=void 0;var a=l(689),i=l(84),c={version:null,name:null};r.initDB=function(d){var m=d.name,h=d.version,f=d.objectStoresMeta;c.name=m,c.version=h,Object.freeze(c),(0,i.CreateObjectStore)(m,h,f)},r.useIndexedDB=function(d){if(!c.name||!c.version)throw new Error("Please, initialize the DB before the use.");return(0,a.useMemo)(function(){return(0,i.DBOperations)(c.name,c.version,d)},[c,d])}},689:e=>{e.exports=w}},n={},s=function e(r){var l=n[r];if(l!==void 0)return l.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}(629);ft.exports=s})();var q=ft.exports,pt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function s(){for(var l="",a=0;a<arguments.length;a++){var i=arguments[a];i&&(l=r(l,e(i)))}return l}function e(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return s.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var a="";for(var i in l)n.call(l,i)&&l[i]&&(a=r(a,i));return a}function r(l,a){return a?l?l+" "+a:l+a:l}t.exports?(s.default=s,t.exports=s):window.classNames=s})()})(pt);var Yt=pt.exports;const k=Wt(Yt),Qt="_A4_hnln6_1",en={A4:Qt},tn=({children:t,className:n,background:s})=>{const e=s?{backgroundImage:`url(${s})`}:void 0;return o.jsx("div",{className:k(en.A4,n),style:e,children:t})},nn="_button_l2hlt_1",sn={button:nn},se=({children:t,...n})=>o.jsx("button",{...n,type:"button",className:k(sn.button,n.className),children:t});var on=typeof ue=="object"&&ue&&ue.Object===Object&&ue,rn=typeof self=="object"&&self&&self.Object===Object&&self;on||rn||Function("return this")();var gt=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Ue(t,n,s,e){const r=w.useRef(n);gt(()=>{r.current=n},[n]),w.useEffect(()=>{const l=window;if(!(l&&l.addEventListener))return;const a=i=>{r.current(i)};return l.addEventListener(t,a,e),()=>{l.removeEventListener(t,a,e)}},[t,s,e])}function Fe(t){const n=w.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return gt(()=>{n.current=t},[t]),w.useCallback((...s)=>{var e;return(e=n.current)==null?void 0:e.call(n,...s)},[n])}var Ce=typeof window>"u";function Z(t,n,s={}){const{initializeWithValue:e=!0}=s,r=w.useCallback(f=>s.serializer?s.serializer(f):JSON.stringify(f),[s]),l=w.useCallback(f=>{if(s.deserializer)return s.deserializer(f);if(f==="undefined")return;const p=n instanceof Function?n():n;let g;try{g=JSON.parse(f)}catch(S){return console.error("Error parsing JSON:",S),p}return g},[s,n]),a=w.useCallback(()=>{const f=n instanceof Function?n():n;if(Ce)return f;try{const p=window.localStorage.getItem(t);return p?l(p):f}catch(p){return console.warn(`Error reading localStorage key “${t}”:`,p),f}},[n,t,l]),[i,c]=w.useState(()=>e?a():n instanceof Function?n():n),d=Fe(f=>{Ce&&console.warn(`Tried setting localStorage key “${t}” even though environment is not a client`);try{const p=f instanceof Function?f(a()):f;window.localStorage.setItem(t,r(p)),c(p),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))}catch(p){console.warn(`Error setting localStorage key “${t}”:`,p)}}),m=Fe(()=>{Ce&&console.warn(`Tried removing localStorage key “${t}” even though environment is not a client`);const f=n instanceof Function?n():n;window.localStorage.removeItem(t),c(f),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))});w.useEffect(()=>{c(a())},[t]);const h=w.useCallback(f=>{f.key&&f.key!==t||c(a())},[t,a]);return Ue("storage",h),Ue("local-storage",h),[i,d,m]}const vt={name:"Name",surname:"Surname",dice:"Dice",background:"Background",print:"Print/Export",printPassives:"Print passives",edit:"Edit",save:"Save",manaTracker:"Mana tracker",manaSlots:"Mana slots",changeCharacter:"Change character",language:"Language",passives:"Passive Effects",passiveName:"Name",preview:"Preview",passivesGallery:"Passives Gallery",addPassive:"Add Passive",search:"Search",defaultPassive:"Passive",icon:"Icon",description:"Description",random:"Generate random",supportMe:"Support my work",guide:{howToSave:{title:"Guide on how to save",content:["— You'll need to use desktop Chrome browser. As it's the only browser that enables beautiful export of this character sheet.","— After you click print, wait for 5 seconds and Export to PDF/Print will start automatically.","— If you don't want to wait, just click on the appeared page.","— I recommend printing on thick photo paper as it better retains colors. But when printing, please DON'T use maximum quality. ","— For better text visibility recommend using pastel pencils.","— The screenshot below shows which setting you should select for the best printing results."],checkbox:"Don't show this again"}}},xt={race:"Race",class:"Class",age:"Age",height:"Height",weight:"Weight",background:"Background",languages:"Languages"},St={successes:"Successes",failures:"Failures"},bt={title:"Attacks and Weapons",name:"Name",attackBonus:"Attack Bonus",damageType:"Damage/Type",spellSlots:"Spell slot tracker"},wt={strength:"Str",constitution:"Con",dexterity:"Dex",intelligence:"Int",wisdom:"Wis",charisma:"Cha"},Ct={athletics:"Athletics",acrobatics:"Acrobatics",stealth:"Stealth",sleightOfHand:"Sleight of Hand",history:"History",arcana:"Arcana",investigation:"Investigation",nature:"Nature",religion:"Religion",insight:"Insight",survival:"Survival",animalHandling:"Animal Handling",medicine:"Medicine",perception:"Perception",persuasion:"Persuasion",intimidation:"Intimidation",performance:"Performance",deception:"Deception"},yt={title:"Speed",walk:"Walk",run:"Run",climb:"Climb",swim:"Swim",mount:"Mount"},_t={title:"Skills",initiative:"Initiative",proficiency:"Proficiency",perception:"Perception",inspiration:"Inspiration"},jt={title:"Inventory",money:{copper:"CP",silver:"SP",gold:"GP",electrum:"EP",platinum:"PP"}},At={title:"Notes"},ge={UI:vt,miniLore:xt,deathSaves:St,weapons:bt,stats:wt,checks:Ct,speed:yt,skills:_t,inventory:jt,notes:At},an=Object.freeze(Object.defineProperty({__proto__:null,UI:vt,checks:Ct,deathSaves:St,default:ge,inventory:jt,miniLore:xt,notes:At,skills:_t,speed:yt,stats:wt,weapons:bt},Symbol.toStringTag,{value:"Module"})),ln="modulepreload",cn=function(t){return"/character-sheet/"+t},He={},We=function(n,s,e){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(s.map(c=>{if(c=cn(c),c in He)return;He[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":ln,d||(h.as="script"),h.crossOrigin="",h.href=c,i&&h.setAttribute("nonce",i),document.head.appendChild(h),d)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&l(i.reason);return n().catch(l)})},dn={en:()=>We(()=>Promise.resolve().then(()=>an),void 0),ukr:()=>We(()=>import("./ukr-TfMaz3OK.js"),[])},un={ukr:"Українська 🇺🇦",en:"English 🇬🇧"},Tt=Me.createContext({translations:{},defaultLocale:"en",currentLocale:"en",setCurrentLocale:()=>{},loadedTranslations:{},setLoadedTranslations:()=>{},tokens:ge,setTokens:()=>{}}),mn=({children:t,translations:n,defaultLocale:s})=>{const[e,r]=Z("locale",s),[l,a]=w.useState({en:ge}),[i,c]=w.useState(ge);return o.jsx(Tt.Provider,{value:{translations:n,defaultLocale:s,currentLocale:e,setCurrentLocale:r,loadedTranslations:l,setLoadedTranslations:a,tokens:i,setTokens:c},children:t})};function D(){const{translations:t,setLoadedTranslations:n,loadedTranslations:s,setCurrentLocale:e,tokens:r,setTokens:l,currentLocale:a}=w.useContext(Tt),i=c=>{s[c]?(e(c),l(s[c??"en"])):t[c]().then(d=>{n({...s,[c]:d}),e(c),l(d)})};return w.useEffect(()=>{i(a)},[a]),{tokens:r,load:i,availableLanguages:un,currentLocale:a}}const hn="data:image/svg+xml,%3csvg%20stroke='%23fff'%20fill='%23fff'%20stroke-width='0'%20viewBox='0%200%20512%20512'%20height='1em'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M494.25%2021.125l-164.53%201.25c-15.463%2027.984-33.913%2052.67-54.163%2075.8%206.012%201.497%2012.073%202.995%2018.027%204.497l13.69%203.453-8.528%2011.254c-50.415%2066.503-44.632%20142.087-27.36%20213.694l-18.17%204.383c-16.838-69.817-23.528-148.192%2022.64-217.94-88.07-21.897-183.62-43.434-253.374-89.38-1.77%204.89-1.01%2010.187%202.262%2017.23%202.427%205.222%206.516%2011.043%2012.14%2017.117%2053.162%2037.938%20130.458%2065.946%20189.778%2075.168l-2.87%2018.467c-61.85-9.616-139.642-37.397-196.036-77.227.61%205.953%202.61%2012.393%206.387%2019.36%206.918%2012.758%2019.275%2026.49%2035.7%2038.907.84.635%201.697%201.265%202.557%201.893%2042.555%2022.677%2093.696%2038.914%20140.737%2042.164l-1.287%2018.644c-61.147-4.222-126.33-28.22-175.672-60.745%201.03%204.922%203.253%2010.397%206.885%2016.38%207.367%2012.14%2020.078%2025.484%2036.23%2037.675%2039.264%2017.838%2081.604%2032.938%20128.62%2036.473l-1.4%2018.636C150.41%20244.06%20101.38%20224.536%2057.41%20203.57c3.7%2019.623%2017.285%2034.4%2038.926%2046.805%2026.818%2015.373%2065.26%2025.424%20105.822%2031.328l7.457%201.086.52%207.517c1.074%2015.51%204.568%2022.832%209.742%2031.672l-16.13%209.438c-4.93-8.426-9.286-18.45-11.292-32.436-32.304-5.087-63.402-12.616-89.365-24.265-6.44%207.75-12.784%2015.74-18.994%2024.033%2016.515%2023.758%2030.6%2043.036%2052.78%2065.78l27.095-9.467%209.343-3.25%202.718%209.53c15.066%2053.052%2059.564%2093.564%20113.595%20113.813%2048.005%2017.99%20103.003%2019.633%20150.063.594-68.673-37.578-114.617-123.708-135.782-199.875l-1.125-4.156%202.376-3.564C348.53%20203.283%20425.85%20148.88%20494.25%20123.97V21.124z'%3e%3c/path%3e%3c/svg%3e",fn="data:image/svg+xml,%3csvg%20stroke='%23fff'%20fill='%23fff'%20stroke-width='0'%20viewBox='0%200%20512%20512'%20height='1em'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M256%2033c-20.835%200-39%2020.24-39%2047s18.165%2047%2039%2047%2039-20.24%2039-47-18.165-47-39-47zM110.258%2054.934l-16.99%208.496c14.917%2022.147%2032.213%2047.013%2049.76%2068.947%2019.707%2024.634%2039.95%2045.048%2052.997%2051.572l4.975%202.488v39.478c27.13%203.608%2046.516%204.982%2067.875%204.09-.66-.49-1.316-.98-1.95-1.48-4.915-3.88-9.18-8.206-12.5-12.856-5.87-.587-10.577-4.374-13.392-8.65-3.063-4.65-4.57-10.242-4.57-16.262s1.507-11.612%204.57-16.264c3.064-4.65%208.364-8.736%2014.967-8.736s11.903%204.085%2014.967%208.736c3.063%204.652%204.57%2010.244%204.57%2016.264s-1.507%2011.612-4.57%2016.263c-.06.094-.13.185-.192.277%201.92%202.358%204.335%204.758%207.303%207.1%206.283%204.962%2014.722%209.46%2024.75%2012.66%202.65-.324%205.366-.67%208.172-1.04v-39.58l4.975-2.488c13.048-6.525%2033.29-26.94%2052.998-51.573%2017.546-21.934%2034.842-46.8%2049.76-68.947l-16.99-8.496C355.066%20101.422%20307.792%20145%20256%20145c-51.792%200-99.067-43.578-145.742-90.066zm29.094%20179.93l12.152%2060.763c101.057%209.362%20107.935%209.362%20208.992%200l12.147-60.734c-110.08%2017.448-123.22%2017.163-233.29-.03zm39.244%2081.335l13.35%20106.8h128.11l13.348-106.8c-67.76%206.032-87.047%206.032-154.808%200zM137%20441v20h238v-20H137zM16%20478v18h480v-18H16z'%3e%3c/path%3e%3c/svg%3e",pn="/character-sheet/assets/con-kboUn7gZ.svg",gn="data:image/svg+xml,%3csvg%20stroke='%23fff'%20fill='%23fff'%20stroke-width='0'%20viewBox='0%200%20512%20512'%20height='1em'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M241.063%2054.406c-2.31.008-4.61.032-6.907.094-1.805.05-3.61.106-5.406.188-8.814%201.567-12.884%205.426-15.094%209.843-2.435%204.87-2.34%2011.423.375%2017.25%202.717%205.83%207.7%2010.596%2014.657%2012.376%206.958%201.78%2016.536.86%2029.125-7.187l10.063%2015.75c-15.818%2010.11-31.124%2012.777-43.813%209.53-12.688-3.247-22.103-12.123-26.968-22.563-4.584-9.836-5.426-21.376-1.03-31.624-42.917%206.94-81.777%2023.398-111.626%2046.562-9.81%2010.688-10.77%2023.11-6.47%2031.594%204.83%209.526%2016.21%2016.48%2038.97%209.28l5.656%2017.813c-28.58%209.04-52.137-.588-61.28-18.625-2.23-4.397-3.592-9.156-4.127-14.063-4.814%205.712-9.16%2011.658-13%2017.844l.126.06c-8.614%2019.616-8.81%2033.203-5.376%2042.032%203.436%208.83%2010.635%2014.44%2021.72%2017.532%2022.168%206.18%2058.065-1.277%2083.343-20.156%2010.82-8.08%2021.077-27.677%2021.97-42.875.445-7.6-1.165-13.604-4.345-17.438-3.18-3.834-8.272-6.703-18.813-6.594l-.187-18.686c14.487-.15%2026.25%204.754%2033.375%2013.344%207.124%208.59%209.26%2019.652%208.625%2030.468-1.27%2021.633-12.595%2044.172-29.438%2056.75-29.876%2022.314-69.336%2031.606-99.53%2023.188-13.988-3.9-26.37-12.386-32.75-25.53-9.546%2045.446%204.323%2087.66%2030.718%20116.874%203.45%203.82%207.122%207.43%2010.97%2010.78-2.754-7.887-4.016-16.1-3.72-24.093.53-14.325%206.082-28.346%2017.22-38.03%209.134-7.946%2021.752-12.53%2036.843-12.5%201.006%200%202.034.018%203.062.06%202.35.1%204.763.304%207.22.626l-2.44%2018.532c-15.588-2.048-25.705%201.522-32.436%207.375-6.73%205.854-10.443%2014.614-10.813%2024.625-.74%2020.024%2012.07%2043.406%2039.69%2050.188l-.032.188c27.192%205.19%2057.536.372%2088-18.22.018-.012.043-.017.062-.03%206.34-4.45%209.755-8.808%2011.438-12.563%201.985-4.432%201.943-8.292.53-12.438-2.824-8.29-12.94-16.812-22.218-19.187-15.002-3.84-24.532%201.436-29%207.72-4.468%206.28-4.74%2012.45%202.156%2017.81l-11.47%2014.75c-14.187-11.033-15.092-30.487-5.905-43.405%206.892-9.688%2018.985-16.326%2033.564-16.75.607-.018%201.228-.036%201.844-.03%204.306.03%208.79.622%2013.437%201.81%2015.505%203.97%2029.84%2015.277%2035.28%2031.25%201.416%204.155%202.09%208.69%201.876%2013.314%2016.71-8.538%2034.332-16.12%2052.282-21.814%2030.156-13.78%2043.23-37.938%2042.72-58.28-.515-20.493-13.187-37.74-42.376-40.626l1.844-18.594c36.666%203.626%2058.462%2029.848%2059.188%2058.75.422%2016.84-5.754%2034.363-18.188%2049.28%2016.072-1.8%2032.044-1.495%2047.53%201.627-3.152-6.472-4.68-13.478-4.467-20.438.677-22.036%2019.42-42.593%2048.875-42.906%201.963-.022%203.974.053%206.03.218l-1.5%2018.625c-24.927-1.998-34.3%2011.086-34.718%2024.656-.412%2013.42%208.545%2028.442%2034.22%2030.436%2028.3.25%2048.588-15.098%2058.53-37.906%2013.31-30.536%206.997-76.317-34.844-118.188-.792-.793-1.578-1.593-2.375-2.375-.444%203.792-1.424%207.443-2.842%2010.844-7.25%2017.39-24.233%2029.128-41.875%2032.407-24.335%204.522-44.29-5.347-53.5-20.406-9.21-15.057-6.792-36.35%209.78-47.56l10.47%2015.5c-8.913%206.028-9.28%2014.19-4.313%2022.31%204.967%208.122%2016.17%2015.156%2034.156%2011.814%2011.306-2.102%2023.896-11.33%2028.03-21.25%202.07-4.96%202.47-9.862.408-15.47-1.675-4.555-5.187-9.764-11.72-15.25l-.187-.155c-27.316-20.587-56.338-35.393-85.75-45.157.018.032.045.06.063.093%206.684%2012.22%207.18%2026.082%203.063%2038.344-8.233%2024.525-34.07%2043.848-66.032%2042.78-6.948-.23-13.56%203.12-19.186%209.657-5.627%206.537-9.735%2016.113-10.688%2026.313-1.905%2020.4%206.923%2042.886%2041.344%2054L277%20258.28c-41.083-13.264-56.83-45.546-54.22-73.5%201.307-13.975%206.706-26.962%2015.157-36.78%208.452-9.818%2020.475-16.603%2033.97-16.156%2024.04.802%2042.323-14.084%2047.687-30.063%202.682-7.988%202.335-15.937-1.75-23.405-3.968-7.252-11.83-14.423-25.906-19.656-17.114-2.967-34.16-4.367-50.875-4.314zM342.28%20306.344c-41.915%203.41-87.366%2023.4-125.28%2046.562-55.98%2034.198-114.89%2026.733-156.688-4.28%2016.444%2058.844%2074.712%2070.788%20135.5%2055.905%206.083-2.285%2012.06-6.538%2017.157-12.03%207.057-7.607%2012.17-17.47%2013.78-25.625l18.344%203.625c-2.445%2012.383-9.078%2024.666-18.406%2034.72-8.95%209.645-20.61%2017.35-34.094%2019.374-6.766%2015.07-12.334%2029.68-14.594%2039.906-3.55%2016.06%2014.206%2022.225%2022.156%206.03%2019.022-38.743%2045.87-73.23%2079.406-102.967%2026.064-17.153%2048.406-38.303%2062.72-61.22z'%3e%3c/path%3e%3c/svg%3e",vn="data:image/svg+xml,%3csvg%20stroke='%23fff'%20fill='%23fff'%20stroke-width='0'%20viewBox='0%200%20512%20512'%20height='1em'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M211.832%2039.06c-15.022%2015.31-15.894%2022.83-23.473%2043.903%202.69%209.14%205.154%2016.927%209.148%2025.117%205.158.283%2010.765.47%2015.342.43-6.11-10.208-8.276-19.32-4.733-35.274%204.3%2019.05%2012.847%2029.993%2021.203%2034.332%203.032-.334%205.957-.714%208.776-1.146-6.255-10.337-8.494-19.47-4.914-35.588%203.897%2017.27%2011.287%2027.876%2018.86%2032.94%204.658-1.043%209.283-2.243%2013.927-3.534-5.517-9.69-7.36-18.692-3.97-33.957%203.357%2014.876%209.307%2024.81%2015.732%2030.516%205.095-1.57%209.296-2.898%2013.852-4.347-.685-5.782-.416-12.187%201.064-19.115l1.883-8.8%2017.603%203.76-1.88%208.804c-3.636%2017.008%201.324%2024.42%207.306%2028.666%205.98%204.244%2014.69%203.46%2016.03%202.6l7.576-4.86%209.72%2015.15c-3.857%202.34-7.9%205.44-11.822%207.06%2018.65%2027.678%2032.183%2061.465%2024.756%2093.55-2.365%209.474-6.03%2018.243-11.715%2024.986%2012.725%2012.13%2021.215%2022.026%2031.032%2034.5-3.713-2.387-7.586-4.844-11.692-7.37-11.397-7.01-23.832-14.214-34.98-19.802-16.012-7.8-31.367-18.205-47.73-20.523-22.552-2.967-46.27%204.797-73.32%2021.06%207.872%208.72%2013.282%2015.474%2020.312%2024.288-6.98-4.338-14.652-9.07-23.16-14.23-32.554-17.48-65.39-48.227-100.438-49.99-30.56-1.092-59.952%2014.955-89.677%2038.568L18%20254.293V494h31.963c45.184-17.437%2080.287-57.654%2097.03-94.52l.25-.564.325-.52c9.463-15.252%2011.148-29.688%2016.79-44.732%205.645-15.044%2016.907-29.718%2041.884-38.756%204.353-2.16%205.07-1.415%208.633%201.395%2030.468%2024.01%2057.29%2032.02%2083.24%2032.35%2032.61-1.557%2058.442-9.882%2085.682-19.38-3.966%203.528-8.77%207.21-13.986%2010.762-15.323%2010.436-34.217%2019.928-46.304%2024.8-14.716%202.006-28.36%202.416-41.967.616-9.96%2012.09-25.574%2020.358-37.35%2026.673%2063.92%2014.023%20115.88.91%20167.386-22.896-9.522-1.817-19.008-3.692-27.994-5.42%2031.634-4.422%2064.984-3.766%2094.705-3.53%204.084-.02%207.213-.453%208.7-.886%2014.167-51.072-4.095-97.893-34.294-145.216-30.263-47.425-72.18-94.107-101.896-143.04-21.1-17.257-48.6-31.455-77.522-46.175-20.386%204.25-41.026%209.336-61.443%2014.1zm85.385%2070.49c-11.678%203.6-23.71%207.425-33.852%2010.012%202.527%204.93%203.735%2010.664%203.395%2016.202%2011.028.877%2021.082-2.018%2028.965-6.356%204.845-2.666%208.74-6.048%2011.414-8.96-3.854-2.735-7.26-6.41-9.923-10.9zm-54.213%2014.698c-11.76%201.143-24.59%202.362-35.06%202.236%202.39%204.772%203.78%2012.067%208.51%2014.84%2011.18%201.164%2020.6%201.997%2029.91-1.746%205.435-3.214%201.818-15.058-3.36-15.33zm-34.98%20209.332c-17.593%207.233-22.586%2015.14-26.813%2026.406-3.998%2010.66-6.227%2025.076-14.48%2041.014%2032.29-6.38%2069.625-21.23%2093.852-40.088-17.017-5.098-34.553-13.852-52.557-27.332zm9.318%2071.385c-18.723%207.237-40.836%2016.144-59.696%2014.062C143.774%20446.68%20124.012%20474.03%2091.762%20494h84.68c21.564-29.798%2038.067-56.575%2040.9-89.035z'%3e%3c/path%3e%3c/svg%3e",xn="data:image/svg+xml,%3csvg%20stroke='%23fff'%20fill='%23fff'%20stroke-width='0'%20viewBox='0%200%20512%20512'%20height='1em'%20width='1em'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M66.89%2018L128%20128%2018%20117v32.5L96%20208l-78%2039v35l110%2022-3.6%2016c-12.6%2012.1-21.9%2026.5-28.46%2042.5-14.43%2035.2-16.64%2085.7-16.9%20131.5h18.1c.34-44.1%202.78-93.8%2015.46-124.7%208.9-21.9%2022.4-39.6%2044.6-52.1-4.1-22-6.2-43.5-6.2-61.2v-14.6l13%206.6c9.6%204.7%2016.5%206.2%2023.1%205.7-5.2-14-8.1-29.6-8.1-45.7%200-29.1%209.1-55.2%2023.3-73.7%2014.2-18.5%2033.1-29.3%2053.7-29.3s39.5%2010.8%2053.7%2029.3c14.2%2018.5%2023.3%2044.6%2023.3%2073.7%200%2016.1-2.9%2031.7-8.1%2045.7%206.6.5%2013.6-1%2023.1-5.7l13-6.6V256c0%2017.7-2.1%2039.2-6.2%2061.2%2022.2%2012.5%2035.7%2030.2%2044.6%2052.1%2012.7%2030.9%2015.1%2080.6%2015.5%20124.7H433c-.3-45.8-2.5-96.3-16.9-131.5-6.6-16-15.9-30.5-28.6-42.6L384%20304l110-22v-35l-78-39%2078-58.5V117l-110%2011%2061.1-110h-37.8L304%2080l-18.6-62h-58.8L208%2080%20104.7%2018zM208%20215v18h32v-18zm64%200v18h32v-18zm-33.6%2036.1c-12.7%206.7-23.7%2013.5-35.6%2017.4-10%203.4-21.1%204.1-33.3.8.5%208%201.3%2016.7%202.4%2025.7%2027.2-.4%2051.7-3.3%2077.7-29.4l1.7-1.6zm35.2%200L260.7%20264l1.7%201.6c26%2026.1%2050.5%2029%2077.7%2029.4%201.1-9%201.9-17.7%202.4-25.7-12.2%203.3-23.3%202.6-33.3-.8-11.9-3.9-22.9-10.7-35.6-17.4zM256%20284.3c-27%2023.7-55.2%2027.8-81.3%2028.5%201.7%209%203.6%2018%206%2026.9%202.2%208.3%204.8%2016.3%207.6%2023.9C193.9%20353.1%20201%20343%20208%20336c0%2021-6.9%2035-11.6%2046.8%203.8%207.6%207.8%2014.4%2012.1%2020l24.5-24.5V400c0%2014.5%202.8%2019.1%207.4%2023.6%203.4%203.5%209.1%206.9%2015.6%2012.3%206.5-5.4%2012.2-8.8%2015.6-12.3%204.6-4.5%207.4-9.1%207.4-23.6v-21.7l24.5%2024.5c4.3-5.6%208.3-12.4%2012.1-20C310.9%20371%20304%20357%20304%20336c7%207%2014.1%2017.1%2019.7%2027.6%202.8-7.6%205.4-15.6%207.6-23.9%202.4-8.9%204.3-17.9%206-26.9-26.1-.7-54.3-4.8-81.3-28.5z'%3e%3c/path%3e%3c/svg%3e";var ze=(t=>(t.d6="d6",t.d8="d8",t.d10="d10",t.d12="d12",t))(ze||{});const zt={strength:{value:10,save:0,checks:{athletics:0}},constitution:{value:10,save:0,checks:void 0},dexterity:{value:10,save:0,checks:{acrobatics:0,stealth:0,sleightOfHand:0}},intelligence:{value:10,save:0,checks:{arcana:0,history:0,investigation:0,nature:0,religion:0}},wisdom:{value:10,save:0,checks:{animalHandling:0,insight:0,medicine:0,perception:0,survival:0}},charisma:{value:10,save:0,checks:{deception:0,intimidation:0,performance:0,persuasion:0}}},Ge={strength:{icon:vn,color:"#790000"},constitution:{icon:pn,color:"#7a4501"},dexterity:{icon:hn,color:"#005705"},intelligence:{icon:gn,color:"#003d64"},wisdom:{icon:xn,color:"#4b0075"},charisma:{icon:fn,color:"#770071"}},oe={id:-1,dice:"d8",name:"",surname:"",photo:-1,backgroundImage:-1,stats:zt,lvl:"",manaSlots:4,manaTracker:!1,passives:[],race:"",class:"",age:"",height:"",weight:"",background:"",languages:"",walk:"",run:"",climb:"",swim:"",mount:"",initiative:"",proficiency:"",perception:"",inspiration:"",cp:"",sp:"",gp:"",ep:"",pp:"",success:0,fail:0},Sn="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let bn=(t=21)=>{let n="",s=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)n+=Sn[s[t]&63];return n};const wn=t=>JSON.parse(JSON.stringify(t)),kt=t=>Object.keys(t),Ve=t=>Object.entries(t),Cn=(t,n)=>{const s=[];for(let e=0;e<t.length;e+=n)s.push(t.slice(e,e+n));return s},yn=t=>{const n=t.split(/\s{0}(?=[A-Z])/),s=n.pop(),e=[...s].findIndex(r=>!Number.isNaN(Number(r)));if(e<0)return n.concat(s).join(" ");{const r=s.substring(0,e),l=s.substring(e);return n.concat([r,l]).join(" ")}},_n=(t,n,s)=>{const e=t.replaceAll(" ","").toLowerCase(),r=n.replaceAll(" ","").toLowerCase();if(!e.includes(r))return o.jsx(o.Fragment,{children:t});let l=e.indexOf(r),a=t.substring(0,l);l+=a.length-a.replaceAll(" ","").length,a=t.substring(0,l);let i=t.substring(l,l+n.length);const c=l+n.length+i.length-i.replaceAll(" ","").length;i=t.substring(l,c);const d=t.substring(c,1/0);return o.jsxs(o.Fragment,{children:[a,o.jsx("span",{style:{color:s,fontWeight:"bold"},children:i}),d]})};class jn{constructor(){Be(this,"listeners",[])}addEventListener(n){this.listeners.push(n)}removeEventListener(n){const s=this.listeners.findIndex(e=>e===n);s!==-1&&this.listeners.splice(s,1)}dispatch(n){this.listeners.forEach(s=>s(n))}}function qe(t){const n=Math.floor(Math.random()*t.length);return t[n]}const It=t=>new Promise(n=>{t===0?n(void 0):setTimeout(async()=>{await It(t-1),n(void 0)})}),Nt=(t,n)=>t.map((s,e)=>o.jsxs(w.Fragment,{children:[s,e!==t.length-1&&n]},`joined-element-${bn()}`)),Pt=t=>Math.floor((t-10)/2),Ot=Me.createContext({currentCharacter:oe,updateCurrentCharacter:()=>{},isEdit:!1,toggleEdit:()=>!1}),An=({children:t})=>{const[n]=Z("lastCharacter",0),[s]=Z("characters",[]),[e,r]=w.useState(s[n]??oe),[l,a]=w.useState(!1),i=()=>(a(!l),!l);return o.jsx(Ot.Provider,{value:{currentCharacter:e,updateCurrentCharacter:c=>r(wn(c??oe)),isEdit:l,toggleEdit:i},children:t})},ye=new jn,B=()=>{const{currentCharacter:t,updateCurrentCharacter:n,isEdit:s,toggleEdit:e}=w.useContext(Ot),[r,l]=Z("characters",[]),a=u=>{l(u.toSorted((v,x)=>v.id-x.id))},[i,c]=Z("lastCharacter",t.id),d=()=>{let u=r.length;for(;r.find(x=>x.id===u);)u++;const v={...oe,id:u};return a([...r,v]),v},m=u=>{if(u>=r.length||u<0)throw new Error(`Character with id: ${u} does not exist.`);return r.find(v=>v.id===u)},h=r.find(u=>u.id===i),f=u=>{const v=r.findIndex(x=>x.id===u.id);if(v===-1){a([...r,{...u,id:r.length}]),c(r.length);return}r.splice(v,1,u),a(r),c(u.id),ye.dispatch()},p=u=>{const v=r.findIndex(x=>x.id===u);v!==-1&&(r.splice(v,1),a(r),i===u&&r.length>=1&&c(r[0].id))},g=u=>(ye.addEventListener(u),()=>{ye.removeEventListener(u)});function S(u,v){n({...t,[u]:v})}return{currentCharacter:t,updateCurrentCharacter:n,addNewCharacter:d,allCharacters:r,getCharacterByID:m,lastSelectedCharacter:h,saveCharacter:f,setLastCharacter:c,isEdit:s,toggleEdit:e,removeCharacter:p,onSave:g,updateStat:S}},Tn="_statContainer_1bf7j_1",zn="_saveSection_1bf7j_9",kn="_text_1bf7j_37",In="_saveBonus_1bf7j_41",Nn="_stat_1bf7j_1",Pn="_statTop_1bf7j_56",On="_statTopIcon_1bf7j_64",Mn="_statTopIconImage_1bf7j_70",Rn="_statTopValues_1bf7j_74",Ln="_statTopValuesBonus_1bf7j_81",En="_statName_1bf7j_89",Dn="_statButton_1bf7j_107",Bn="_leftButton_1bf7j_129",Un="_rightButton_1bf7j_132",Fn="_button_1bf7j_135",Hn="_buttonTop_1bf7j_142",Wn="_buttonBottom_1bf7j_145",L={statContainer:Tn,saveSection:zn,text:kn,saveBonus:In,stat:Nn,statTop:Pn,statTopIcon:On,statTopIconImage:Mn,statTopValues:Rn,statTopValuesBonus:Ln,statName:En,statButton:Dn,leftButton:Bn,rightButton:Un,button:Fn,buttonTop:Hn,buttonBottom:Wn},Gn=({data:t,color:n,icon:s,name:e})=>{const{isEdit:r,currentCharacter:l,updateCurrentCharacter:a}=B(),{tokens:i}=D(),{save:c,value:d}=t,m=Pt(d),h=m+(c?Number(c):0),f=()=>{const u=l.stats[e];u.value=u.value?u.value+1:1,a(l)},p=()=>{const u=l.stats[e];u.value=u.value?u.value-1:-1,a(l)},g=()=>{const u=l.stats[e];u.save=u.save?u.save+1:1,a(l)},S=()=>{const u=l.stats[e];u.save=u.save?u.save-1:-1,a(l)};return o.jsxs("div",{className:L.statContainer,style:{color:n},children:[r&&o.jsxs(o.Fragment,{children:[o.jsx(se,{className:k(L.statButton,L.leftButton),onClick:p,children:"-"}),o.jsx(se,{className:k(L.statButton,L.rightButton),onClick:f,children:"+"})]}),o.jsxs("div",{className:L.stat,children:[o.jsxs("div",{className:L.statTop,children:[o.jsx("div",{className:L.statTopIcon,children:o.jsx("img",{className:L.statTopIconImage,src:s})}),o.jsxs("div",{className:L.statTopValues,children:[o.jsx("span",{className:k(L.text),children:d}),o.jsx("span",{className:k(L.text,L.statTopValuesBonus),children:m>0?`+${m}`:m})]})]}),o.jsx("div",{className:L.statName,children:i.stats[e]})]}),o.jsxs("div",{className:L.saveSection,children:[r&&o.jsxs(o.Fragment,{children:[o.jsx(se,{className:k(L.button,L.buttonTop),onClick:g,children:"+"}),o.jsx(se,{className:k(L.button,L.buttonBottom),onClick:S,children:"-"})]}),o.jsx("span",{className:k(L.text,{[L.saveBonus]:h!==m}),children:h})]})]})},Vn=()=>{const t=document.createElement("div");t.style.width="100mm",t.style.height="1mm",t.style.position="absolute",t.style.top="-100%",document.body.appendChild(t);const n=t.offsetWidth/100;return document.body.removeChild(t),n},qn=Vn(),re=t=>t*qn,$e=(t,n,s,e,r)=>{const l=(r-90)*Math.PI/180;return{x:t+s*Math.cos(l),y:n+e*Math.sin(l)}},Xe=(t,n,s,e,r,l)=>{const a=$e(t,n,s,e,l),i=$e(t,n,s,e,r),c=l-r<=180?"0":"1";return["M",i.x,i.y,"A",s,e,0,c,1,a.x,a.y].join(" ")},Je=({text:t,side:n})=>{const s=re(19.5),e=re(42/2),r=n==="left"?Xe(s+12,e+20,s-10,e+5,250,-25):Xe(s-15,e+20,s+5,e,25,110),l=w.useId();return o.jsxs("svg",{viewBox:`0 0 ${s*2} ${e*2}`,width:s*2,height:e*2,children:[o.jsx("defs",{children:o.jsx("path",{id:l,d:r})}),o.jsx("text",{fill:"#50391b",children:o.jsx("textPath",{startOffset:`${(1-t.length/12)*50}%`,method:"stretch",href:`#${l}`,children:t})})]})},$n="_dialog_zzydx_1",Xn={dialog:$n},Y=({children:t,open:n,onClose:s,className:e})=>{const r=w.useRef(null);return w.useEffect(()=>{var l,a;n?(l=r.current)==null||l.showModal():(a=r.current)==null||a.close()},[n]),w.useEffect(()=>{var l;(l=r.current)==null||l.scrollTo(0,0)},[]),o.jsx(o.Fragment,{children:Gt.createPortal(o.jsxs("dialog",{className:k(Xn.dialog,e),ref:r,onClose:l=>{l.stopPropagation(),s()},children:[o.jsx("div",{className:"absolute top-[2mm] right-[3mm] cursor-pointer",onClick:()=>{var l;(l=r.current)==null||l.close()},children:"乂"}),t]}),document.getElementById("root"))})},Jn="_text_vi9os_1",Kn={text:Jn},ke=({value:t,onChange:n,className:s,placeholder:e,...r})=>o.jsx("input",{type:"text",placeholder:e,value:t,onChange:l=>n(l.target.value),className:k(Kn.text,s),...r}),R=({stat:t,textClassName:n,...s})=>{var a,i;const{currentCharacter:e,updateStat:r,isEdit:l}=B();return o.jsx(o.Fragment,{children:l?o.jsx(ke,{value:((a=e[t])==null?void 0:a.toString())??oe[t].toString(),onChange:c=>r(t,c),...s}):o.jsx("span",{className:k("font-Advent",n),children:((i=e[t])==null?void 0:i.toString())??oe[t].toString()})})},Se={filter:"saturate(0.25) brightness(0.5)"},Re=t=>new Promise((n,s)=>{const e=new FileReader;e.onload=()=>n(e.result),e.onerror=s,e.readAsDataURL(t)}),Zn=t=>`data:image/svg+xml;base64,${btoa(t)}`;function X(){function t(){return Math.floor(Math.random()*16).toString(16)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const r=t();return e==="x"?r:e==="y"?(parseInt(r,16)&3|8).toString(16):r})}const Yn="_player_njwyy_1",Qn="_playerCircle_njwyy_9",es="_playerCircleAvatar_njwyy_14",ts="_edit_njwyy_22",ns="_avatar_njwyy_36",ss="_name_njwyy_40",os="_surname_njwyy_67",rs="_lvl_njwyy_93",as="_bottomBar_njwyy_107",ls="_textPlaceholder_njwyy_116",is="_hp_njwyy_146",cs="_dice_njwyy_150",ds="_tempHp_njwyy_158",us="_armor_njwyy_163",ms="_icon_njwyy_167",hs="_hpIcon_njwyy_175",fs="_tempHpIcon_njwyy_178",ps="_armorIcon_njwyy_181",M={player:Yn,playerCircle:Qn,playerCircleAvatar:es,edit:ts,avatar:ns,name:ss,surname:os,lvl:rs,bottomBar:as,textPlaceholder:ls,hp:is,dice:cs,tempHp:ds,armor:us,icon:ms,hpIcon:hs,tempHpIcon:fs,armorIcon:ps},Ke="/character-sheet/assets/scroll-BzUqBIk-.png",be="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%20fill='white'%20stroke='black'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M135.2%2017.7L128%2032%2032%2032C14.3%2032%200%2046.3%200%2064S14.3%2096%2032%2096l384%200c17.7%200%2032-14.3%2032-32s-14.3-32-32-32l-96%200-7.2-14.3C307.4%206.8%20296.3%200%20284.2%200L163.8%200c-12.1%200-23.2%206.8-28.6%2017.7zM416%20128L32%20128%2053.2%20467c1.6%2025.3%2022.6%2045%2047.9%2045l245.8%200c25.3%200%2046.3-19.7%2047.9-45L416%20128z'/%3e%3c/svg%3e",Mt=({isPreview:t,character:n})=>{const s=w.useRef(null),{add:e,getByID:r,getAll:l,deleteRecord:a}=q.useIndexedDB("avatar"),{isEdit:i,updateCurrentCharacter:c,currentCharacter:d}=B(),[m,h]=w.useState(X()),f=()=>{i&&v(!0)},p=async A=>{const y=A.target.files[0];if(y){const I=y,_=await Re(I);await e({name:I.name,image:_}),h(X()),s.current.value=""}},g=async A=>{await a(A),h(X())},S=A=>{c({...n,photo:A}),v(!1)},[u,v]=w.useState(!1),[x,b]=w.useState(""),[j,C]=w.useState([]);return w.useEffect(()=>{(async()=>{const A=await l();C(A)})(),n.photo!==-1?r(n.photo).then(A=>A&&b(A.image)):b("")},[u,n,m]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:M.player,children:o.jsxs("div",{className:M.playerCircle,children:[o.jsx("div",{className:k(M.playerCircleAvatar,{[M.edit]:i&&!t}),onClick:f,children:o.jsx("div",{className:M.avatar,style:{backgroundImage:x?`url(${x})`:void 0,backgroundSize:"cover",backgroundPosition:"center",height:"100%",width:"auto"}})}),o.jsxs("div",{className:M.name,children:[o.jsx("img",{src:Ke,alt:"scroll"}),o.jsx(Je,{text:n.name,side:"left"})]}),!t&&o.jsx("div",{className:M.lvl,children:o.jsx(R,{stat:"lvl",className:"aspect-square !rounded-full !h-[8mm] !w-[8mm] !p-[0] text-center",type:"number",min:1})}),o.jsxs("div",{className:M.surname,children:[o.jsx("img",{src:Ke,alt:"scroll"}),o.jsx(Je,{text:n.surname,side:"right"})]}),!t&&o.jsxs("div",{className:M.bottomBar,style:i?Se:void 0,children:[o.jsxs("div",{className:M.hp,children:[o.jsx("span",{className:k(M.icon,M.hpIcon)}),o.jsx("span",{className:M.dice,children:n.dice}),o.jsx("span",{className:M.textPlaceholder})]}),o.jsxs("div",{className:M.tempHp,children:[o.jsx("span",{className:k(M.icon,M.tempHpIcon)}),o.jsx("span",{className:M.textPlaceholder})]}),o.jsxs("div",{className:M.armor,children:[o.jsx("span",{className:k(M.icon,M.armorIcon)}),o.jsx("span",{className:M.textPlaceholder})]})]})]})}),o.jsx(Y,{open:u,onClose:()=>v(!1),children:o.jsxs("div",{className:"flex flex-wrap max-w-[120mm] gap-[3mm]",children:[o.jsxs("div",{className:"w-[25mm] aspect-square rounded-full overflow-hidden flex justify-center items-center bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl cursor-pointer",onClick:()=>s.current.click(),children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:p,ref:s}),"+"]}),j.map(A=>o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-[25mm] aspect-square rounded-full overflow-hidden hover:brightness-150",children:o.jsx("div",{style:{backgroundImage:`url('${A.image}')`,backgroundSize:"cover",width:"100%",height:"100%",cursor:"pointer"},onClick:()=>S(A.id)})}),o.jsx("img",{src:be,className:"w-[4mm] absolute top-0 right-0 p-[2mm] box-content cursor-pointer hover:invert",onClick:()=>g(A.id)})]},A.id))]})})]})},ce=()=>{const[t,n]=Z("passives",[]),s=i=>{var d;const c=((d=t[t.length-1])==null?void 0:d.id)??0;n(t.concat({...i,id:c+1}).toSorted((m,h)=>m.id-h.id))},e=i=>{const c=t.findIndex(d=>i.id===d.id);c<0||n(t.toSpliced(c,1,i))},r=i=>{const c=t.findIndex(d=>d.id===i);c<0||n(t.toSpliced(c,1))},l=i=>{const c=t.find(d=>d.id===i);if(c)return c};return{passives:t,addPassive:s,removePassive:r,getPassive:l,updatePassive:e,getPassivesInOrder:i=>i.map(l).filter(Boolean)}},_e=re(297),gs=()=>{const{getPassivesInOrder:t}=ce(),{currentCharacter:n}=B(),s=t(n.passives).filter(m=>!!m.description),e=w.useRef(null),[r,l]=w.useState([]),[a,i]=w.useState(0),[c,d]=w.useState(1);return w.useEffect(()=>{var h;const m=r.length-c+1;if(s.length>=m){const f=s[m],p=((h=e.current)==null?void 0:h.offsetHeight)??0;if(i(p),p<_e*c&&f)l([...r,o.jsx(Rt,{passive:f},f.id)]);else if(p>=_e*c){const g=!s[m],S=r.pop();!g&&d(x=>x+1);const u=p-a,v=p-_e*c;l([...r,o.jsx(vs,{height:u-v},X()),S])}}},[r]),o.jsx("div",{className:"w-[210mm] bg-white p-[2mm]",children:o.jsx("div",{className:"flex flex-col gap-[2mm] w-full",ref:e,children:r})})},Rt=({passive:t})=>{const{getByID:n}=q.useIndexedDB("icon"),[s,e]=w.useState("");return w.useEffect(()=>{n(t.icon).then(r=>(r==null?void 0:r.image)&&e(r==null?void 0:r.image))},[t]),o.jsxs("div",{className:"flex flex-col p-[2mm] border rounded-[2mm] border-gray-800 bg-white w-full max-w-[202mm] overflow-hidden overflow-ellipsis",children:[o.jsx("div",{className:k("flex items-center justify-between",{" border-b-[1px] border-b-gray-800":t.description}),children:o.jsxs("span",{className:"flex items-center gap-[2mm]",children:[s&&o.jsx("span",{className:"h-[8mm] w-[8mm]",children:o.jsx("img",{className:"h-full aspect-square",src:s})})," ",o.jsx("h1",{children:t.name})]})}),t.description&&o.jsx("div",{className:"font-Advent font-light",children:Nt(t.description.split(`
`).map(r=>r.replace(/[ ]{2,}/g,l=>" ".repeat(l.length))),o.jsx("br",{}))})]},t.name)},vs=({height:t})=>o.jsx("div",{style:{height:t}}),xs="_death_5qliq_1",Ss="_save_5qliq_34",je={death:xs,save:Ss},bs=()=>{const{tokens:t}=D(),{currentCharacter:n,updateStat:s}=B(),e=(r,l)=>{const a=l?"success":"fail";s(a,n[a]===r?r-1:r)};return o.jsxs("div",{className:"flex flex-col w-full gap-[1mm]",children:[o.jsxs("div",{className:k(je.death,je.save),children:[o.jsx("b",{children:t.deathSaves.successes}),o.jsx("div",{onClick:()=>e(1,!0),children:n.success>=1&&"✓"}),o.jsx("span",{}),o.jsx("div",{onClick:()=>e(2,!0),children:n.success>=2&&"✓"}),o.jsx("span",{}),o.jsx("div",{onClick:()=>e(3,!0),children:n.success==3&&"✓"})]}),o.jsxs("div",{className:je.death,children:[o.jsx("b",{children:t.deathSaves.failures}),o.jsx("div",{onClick:()=>e(1,!1),children:n.fail>=1&&"Ｘ"}),o.jsx("span",{}),o.jsx("div",{onClick:()=>e(2,!1),children:n.fail>=2&&"Ｘ"}),o.jsx("span",{}),o.jsx("div",{onClick:()=>e(3,!1),children:n.fail>=3&&"Ｘ"})]})]})},ws="_fullStat_11ti6_1",Cs="_checks_11ti6_40",ys="_check_11ti6_40",_s="_text_11ti6_61",js="_value_11ti6_62",As="_button_11ti6_66",Ts="_buttonLeft_11ti6_95",zs="_buttonRight_11ti6_98",ks="_bonus_11ti6_126",G={fullStat:ws,checks:Cs,check:ys,text:_s,value:js,button:As,buttonLeft:Ts,buttonRight:zs,bonus:ks},Is=({data:t,name:n,color:s,icon:e})=>o.jsxs("div",{className:G.fullStat,style:{border:`2px solid ${s}`},children:[o.jsx(Gn,{data:t,name:n,color:s,icon:e}),o.jsx("div",{className:G.checks,children:t.checks&&Object.entries(t.checks).map(([r,l])=>o.jsx(Ns,{name:r,statName:n,value:l,modifier:Pt(t.value)},r))})]}),Ns=({name:t,value:n,statName:s,modifier:e})=>{const{isEdit:r,currentCharacter:l,updateCurrentCharacter:a}=B(),{tokens:i}=D(),c=()=>{const m=l.stats[s].checks;m[t]=m[t]?m[t]+1:1,a(l)},d=()=>{const m=l.stats[s].checks;m[t]=m[t]?m[t]-1:-1,a(l)};return o.jsxs("div",{className:G.check,children:[o.jsxs("span",{className:k(G.text),children:[r&&o.jsxs(o.Fragment,{children:[o.jsx(se,{className:k(G.button,G.buttonLeft),onClick:d,children:"-"}),o.jsx(se,{className:k(G.button,G.buttonRight),onClick:c,children:"+"})]}),i.checks[t]]}),o.jsx("span",{className:k(G.value,{[G.bonus]:n>0}),children:n+e})]})},Ps="_inventory_19ksz_1",Os="_headSection_19ksz_11",Ms="_header_19ksz_17",Rs="_money_19ksz_26",Ls="_currency_19ksz_34",Es="_coin_19ksz_41",Ds="_moneyIcon_19ksz_45",Bs="_copper_19ksz_53",Us="_silver_19ksz_56",Fs="_gold_19ksz_59",Hs="_platinum_19ksz_62",Ws="_electrum_19ksz_65",P={inventory:Ps,headSection:Os,header:Ms,money:Rs,currency:Ls,coin:Es,moneyIcon:Ds,copper:Bs,silver:Us,gold:Fs,platinum:Hs,electrum:Ws},Gs=()=>{const{tokens:t}=D(),{isEdit:n}=B();return o.jsxs("div",{className:P.inventory,children:[o.jsxs("div",{className:P.headSection,children:[o.jsxs("div",{className:P.money,children:[o.jsxs("span",{className:P.currency,children:[o.jsxs("span",{className:P.coin,children:[o.jsx("span",{className:k(P.copper,P.moneyIcon)}),t.inventory.money.copper,":"]}),o.jsx(R,{stat:"cp",className:"h-[6mm] !w-[7mm] !p-[0.5mm] text-center",type:"number",step:1,textClassName:"border-b border-black w-full text-center h-[27px]"})]}),o.jsxs("span",{className:P.currency,children:[o.jsxs("span",{className:P.coin,children:[o.jsx("span",{className:k(P.silver,P.moneyIcon)}),t.inventory.money.silver,":"]}),o.jsx(R,{stat:"sp",className:"h-[6mm] !p-[0.5mm] text-center",type:"number",step:1,textClassName:"border-b border-black w-full text-center h-[27px]"})]}),o.jsxs("span",{className:P.currency,children:[o.jsxs("span",{className:P.coin,children:[o.jsx("span",{className:k(P.gold,P.moneyIcon)}),t.inventory.money.gold,":"]}),o.jsx(R,{stat:"gp",className:"h-[6mm] !p-[0.5mm] text-center",type:"number",step:1,textClassName:"border-b border-black w-full text-center h-[27px]"})]})]}),o.jsx("h1",{className:P.header,children:o.jsx("span",{children:t.inventory.title})}),o.jsxs("div",{className:P.money,children:[o.jsxs("span",{className:P.currency,children:[o.jsxs("span",{className:P.coin,children:[o.jsx("span",{className:k(P.electrum,P.moneyIcon)}),t.inventory.money.electrum,":"]}),o.jsx(R,{stat:"ep",className:"h-[6mm] !p-[0.5mm] text-center",type:"number",step:1,textClassName:"border-b border-black w-full text-center h-[27px]"})]}),o.jsxs("span",{className:P.currency,children:[o.jsxs("span",{className:P.coin,children:[o.jsx("span",{className:k(P.platinum,P.moneyIcon)}),t.inventory.money.platinum,":"]}),o.jsx(R,{stat:"pp",className:"h-[6mm] !p-[0.5mm] text-center",type:"number",step:1,textClassName:"border-b border-black w-full text-center h-[27px]"})]})]})]}),o.jsx("div",{style:n?{background:"#00000054"}:void 0})]})},Vs="_miniLore_1ccsy_1",qs="_list_1ccsy_8",Ze={miniLore:Vs,list:qs},$s=()=>{const{tokens:t}=D();return o.jsx("div",{className:Ze.miniLore,children:o.jsxs("ul",{className:Ze.list,children:[o.jsxs("li",{children:[t.miniLore.race,":",o.jsx(R,{stat:"race",className:"h-[6mm]"})]}),o.jsxs("li",{children:[t.miniLore.class,":",o.jsx(R,{stat:"class",className:"h-[6mm]"})]}),o.jsxs("li",{children:[t.miniLore.age,":",o.jsx(R,{stat:"age",className:"h-[6mm]",type:"number",step:1})]}),o.jsxs("li",{children:[t.miniLore.height,":",o.jsx(R,{stat:"height",className:"h-[6mm]"})]}),o.jsxs("li",{children:[t.miniLore.weight,":",o.jsx(R,{stat:"weight",className:"h-[6mm]"})]}),o.jsxs("li",{children:[t.miniLore.background,":",o.jsx(R,{stat:"background",className:"h-[6mm]"})]}),o.jsxs("li",{children:[t.miniLore.languages,":",o.jsx(R,{stat:"languages",className:"h-[6mm]"})]})]})})},Xs="_notes_1w9m9_1",Js={notes:Xs},Ks=()=>{const{tokens:t}=D(),{isEdit:n}=B();return o.jsx("div",{className:Js.notes,style:n?Se:void 0,children:o.jsx("h1",{children:t.notes.title})})},Zs="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2027.2.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20512%20512'%20style='enable-background:new%200%200%20512%20512;'%20xml:space='preserve'%3e%3cg%3e%3cpath%20fill='white'%20d='M355.6,26.83c35.77-35.78,93.77-35.78,129.55,0c35.77,35.77,35.77,93.77,0,129.54l-22.83,22.83L332.78,49.66%20L355.6,26.83z%20M305.63,76.81L49.71,332.77c-10.4,10.4-17.71,23.49-21.12,37.8L0.54,488.35c-1.54,6.49,0.39,13.31,5.1,18.02%20c4.71,4.72,11.54,6.65,18.02,5.1l117.78-28.05c14.31-3.41,27.4-10.72,37.81-21.13l255.92-255.95L305.63,76.81z'/%3e%3c/g%3e%3c/svg%3e";function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var e in s)({}).hasOwnProperty.call(s,e)&&(t[e]=s[e])}return t},Ie.apply(null,arguments)}function Le(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ae(t){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ae(t)}function Ys(t,n){if(ae(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var e=s.call(t,n||"default");if(ae(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Lt(t){var n=Ys(t,"string");return ae(n)=="symbol"?n:n+""}function Ye(t,n){for(var s=0;s<n.length;s++){var e=n[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Lt(e.key),e)}}function Ee(t,n,s){return n&&Ye(t.prototype,n),s&&Ye(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function N(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qs(t,n){if(n&&(ae(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(t)}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ne(t)}function Pe(t,n){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,e){return s.__proto__=e,s},Pe(t,n)}function eo(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Pe(t,n)}function T(t,n,s){return(n=Lt(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t}function Et(t){var n,s,e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(s=Et(t[n]))&&(e&&(e+=" "),e+=s);else for(n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function to(){for(var t,n,s=0,e="";s<arguments.length;)(t=arguments[s++])&&(n=Et(t))&&(e&&(e+=" "),e+=n);return e}function Qe(t){var n=t.cellCount,s=t.cellSize,e=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,l=t.nextCellsCount,a=t.nextCellSize,i=t.nextScrollToIndex,c=t.scrollToIndex,d=t.updateScrollOffsetForScrollToIndex;(n!==l||(typeof s=="number"||typeof a=="number")&&s!==a)&&(e(r),c>=0&&c===i&&d())}function no(t,n){if(t==null)return{};var s={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(n.includes(e))continue;s[e]=t[e]}return s}function so(t,n){if(t==null)return{};var s,e,r=no(t,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(e=0;e<l.length;e++)s=l[e],n.includes(s)||{}.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}var oo=function(){function t(n){var s=n.cellCount,e=n.cellSizeGetter,r=n.estimatedCellSize;Le(this,t),T(this,"_cellSizeAndPositionData",{}),T(this,"_lastMeasuredIndex",-1),T(this,"_lastBatchedIndex",-1),T(this,"_cellCount",void 0),T(this,"_cellSizeGetter",void 0),T(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=s,this._estimatedCellSize=r}return Ee(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(s){var e=s.cellCount,r=s.estimatedCellSize,l=s.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=r,this._cellSizeGetter=l}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(s){if(s<0||s>=this._cellCount)throw Error("Requested index ".concat(s," is outside of range 0..").concat(this._cellCount));if(s>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),r=e.offset+e.size,l=this._lastMeasuredIndex+1;l<=s;l++){var a=this._cellSizeGetter({index:l});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(l," of value ").concat(a));a===null?(this._cellSizeAndPositionData[l]={offset:r,size:0},this._lastBatchedIndex=s):(this._cellSizeAndPositionData[l]={offset:r,size:a},r+=a,this._lastMeasuredIndex=s)}return this._cellSizeAndPositionData[s]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var s=this.getSizeAndPositionOfLastMeasuredCell(),e=s.offset+s.size,r=this._cellCount-this._lastMeasuredIndex-1,l=r*this._estimatedCellSize;return e+l}},{key:"getUpdatedOffsetForIndex",value:function(s){var e=s.align,r=e===void 0?"auto":e,l=s.containerSize,a=s.currentOffset,i=s.targetIndex;if(l<=0)return 0;var c=this.getSizeAndPositionOfCell(i),d=c.offset,m=d-l+c.size,h;switch(r){case"start":h=d;break;case"end":h=m;break;case"center":h=d-(l-c.size)/2;break;default:h=Math.max(m,Math.min(d,a));break}var f=this.getTotalSize();return Math.max(0,Math.min(f-l,h))}},{key:"getVisibleCellRange",value:function(s){var e=s.containerSize,r=s.offset,l=this.getTotalSize();if(l===0)return{};var a=r+e,i=this._findNearestCell(r),c=this.getSizeAndPositionOfCell(i);r=c.offset+c.size;for(var d=i;r<a&&d<this._cellCount-1;)d++,r+=this.getSizeAndPositionOfCell(d).size;return{start:i,stop:d}}},{key:"resetCell",value:function(s){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,s-1)}},{key:"_binarySearch",value:function(s,e,r){for(;e<=s;){var l=e+Math.floor((s-e)/2),a=this.getSizeAndPositionOfCell(l).offset;if(a===r)return l;a<r?e=l+1:a>r&&(s=l-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(s,e){for(var r=1;s<this._cellCount&&this.getSizeAndPositionOfCell(s).offset<e;)s+=r,r*=2;return this._binarySearch(Math.min(s,this._cellCount-1),Math.floor(s/2),e)}},{key:"_findNearestCell",value:function(s){if(isNaN(s))throw Error("Invalid offset ".concat(s," specified"));s=Math.max(0,s);var e=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return e.offset>=s?this._binarySearch(r,0,s):this._exponentialSearch(r,s)}}]),t}(),ro=15e5,ao=16777100,lo=function(){return typeof window<"u"},io=function(){return!!window.chrome},co=function(){return lo()&&io()?ao:ro},et=function(){function t(n){var s=n.maxScrollSize,e=s===void 0?co():s,r=so(n,["maxScrollSize"]);Le(this,t),T(this,"_cellSizeAndPositionManager",void 0),T(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new oo(r),this._maxScrollSize=e}return Ee(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(s){this._cellSizeAndPositionManager.configure(s)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(s){var e=s.containerSize,r=s.offset,l=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:a});return Math.round(i*(a-l))}},{key:"getSizeAndPositionOfCell",value:function(s){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(s)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(s){var e=s.align,r=e===void 0?"auto":e,l=s.containerSize,a=s.currentOffset,i=s.targetIndex;a=this._safeOffsetToOffset({containerSize:l,offset:a});var c=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:l,currentOffset:a,targetIndex:i});return this._offsetToSafeOffset({containerSize:l,offset:c})}},{key:"getVisibleCellRange",value:function(s){var e=s.containerSize,r=s.offset;return r=this._safeOffsetToOffset({containerSize:e,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:r})}},{key:"resetCell",value:function(s){this._cellSizeAndPositionManager.resetCell(s)}},{key:"_getOffsetPercentage",value:function(s){var e=s.containerSize,r=s.offset,l=s.totalSize;return l<=e?0:r/(l-e)}},{key:"_offsetToSafeOffset",value:function(s){var e=s.containerSize,r=s.offset,l=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(l===a)return r;var i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:l});return Math.round(i*(a-e))}},{key:"_safeOffsetToOffset",value:function(s){var e=s.containerSize,r=s.offset,l=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(l===a)return r;var i=this._getOffsetPercentage({containerSize:e,offset:r,totalSize:a});return Math.round(i*(l-e))}}]),t}();function tt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={};return function(s){var e=s.callback,r=s.indices,l=Object.keys(r),a=!t||l.every(function(c){var d=r[c];return Array.isArray(d)?d.length>0:d>=0}),i=l.length!==Object.keys(n).length||l.some(function(c){var d=n[c],m=r[c];return Array.isArray(m)?d.join(",")!==m.join(","):d!==m});n=r,a&&i&&e(r)}}var me=-1,V=1;function uo(t){var n=t.cellCount,s=t.overscanCellsCount,e=t.scrollDirection,r=t.startIndex,l=t.stopIndex;return e===V?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(n-1,l+s)}:{overscanStartIndex:Math.max(0,r-s),overscanStopIndex:Math.min(n-1,l)}}function nt(t){var n=t.cellSize,s=t.cellSizeAndPositionManager,e=t.previousCellsCount,r=t.previousCellSize,l=t.previousScrollToAlignment,a=t.previousScrollToIndex,i=t.previousSize,c=t.scrollOffset,d=t.scrollToAlignment,m=t.scrollToIndex,h=t.size,f=t.sizeJustIncreasedFromZero,p=t.updateScrollIndexCallback,g=s.getCellCount(),S=m>=0&&m<g,u=h!==i||f||!r||typeof n=="number"&&n!==r;S&&(u||d!==l||m!==a)?p(m):!S&&g>0&&(h<i||g<e)&&c>s.getTotalSize()-h&&p(g-1)}function mo(t){for(var n=t.cellCache,s=t.cellRenderer,e=t.columnSizeAndPositionManager,r=t.columnStartIndex,l=t.columnStopIndex,a=t.deferredMeasurementCache,i=t.horizontalOffsetAdjustment,c=t.isScrolling,d=t.isScrollingOptOut,m=t.parent,h=t.rowSizeAndPositionManager,f=t.rowStartIndex,p=t.rowStopIndex,g=t.styleCache,S=t.verticalOffsetAdjustment,u=t.visibleColumnIndices,v=t.visibleRowIndices,x=[],b=e.areOffsetsAdjusted()||h.areOffsetsAdjusted(),j=!c&&!b,C=f;C<=p;C++)for(var A=h.getSizeAndPositionOfCell(C),y=r;y<=l;y++){var I=e.getSizeAndPositionOfCell(y),_=y>=u.start&&y<=u.stop&&C>=v.start&&C<=v.stop,O="".concat(C,"-").concat(y),F=void 0;j&&g[O]?F=g[O]:a&&!a.has(C,y)?F={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(F={height:A.size,left:I.offset+i,position:"absolute",top:A.offset+S,width:I.size},g[O]=F);var H={columnIndex:y,isScrolling:c,isVisible:_,key:O,parent:m,rowIndex:C,style:F},W=void 0;(d||c)&&!i&&!S?(n[O]||(n[O]=s(H)),W=n[O]):W=s(H),!(W==null||W===!1)&&x.push(W)}return x}const ho=!!(typeof window<"u"&&window.document&&window.document.createElement);var he;function fo(t){if((!he&&he!==0||t)&&ho){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),he=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return he}function Dt(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Bt(t){function n(s){var e=this.constructor.getDerivedStateFromProps(t,s);return e??null}this.setState(n.bind(this))}function Ut(t,n){try{var s=this.props,e=this.state;this.props=t,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,e)}finally{this.props=s,this.state=e}}Dt.__suppressDeprecationWarning=!0;Bt.__suppressDeprecationWarning=!0;Ut.__suppressDeprecationWarning=!0;function po(t){var n=t.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function")return t;var s=null,e=null,r=null;if(typeof n.componentWillMount=="function"?s="componentWillMount":typeof n.UNSAFE_componentWillMount=="function"&&(s="UNSAFE_componentWillMount"),typeof n.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof n.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof n.componentWillUpdate=="function"?r="componentWillUpdate":typeof n.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),s!==null||e!==null||r!==null){var l=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+a+" but also contains the following legacy lifecycles:"+(s!==null?`
  `+s:"")+(e!==null?`
  `+e:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(n.componentWillMount=Dt,n.componentWillReceiveProps=Bt),typeof n.getSnapshotBeforeUpdate=="function"){if(typeof n.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=Ut;var i=n.componentDidUpdate;n.componentDidUpdate=function(d,m,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;i.call(this,d,m,f)}}return t}var U;typeof window<"u"?U=window:typeof self<"u"?U=self:U={};var go=U.requestAnimationFrame||U.webkitRequestAnimationFrame||U.mozRequestAnimationFrame||U.oRequestAnimationFrame||U.msRequestAnimationFrame||function(t){return U.setTimeout(t,1e3/60)},vo=U.cancelAnimationFrame||U.webkitCancelAnimationFrame||U.mozCancelAnimationFrame||U.oCancelAnimationFrame||U.msCancelAnimationFrame||function(t){U.clearTimeout(t)},st=go,xo=vo,ot=function(n){return xo(n.id)},So=function(n,s){var e;Promise.resolve().then(function(){e=Date.now()});var r=function a(){Date.now()-e>=s?n.call():l.id=st(a)},l={id:st(r)};return l},rt,at;function lt(t,n){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,e)}return s}function K(t){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?lt(s,!0).forEach(function(e){T(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lt(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var bo=150,Ae={OBSERVED:"observed",REQUESTED:"requested"},wo=function(){return null},De=(at=rt=function(t){eo(n,t);function n(s){var e;Le(this,n),e=Qs(this,Ne(n).call(this,s)),T(N(e),"_onGridRenderedMemoizer",tt()),T(N(e),"_onScrollMemoizer",tt(!1)),T(N(e),"_deferredInvalidateColumnIndex",null),T(N(e),"_deferredInvalidateRowIndex",null),T(N(e),"_recomputeScrollLeftFlag",!1),T(N(e),"_recomputeScrollTopFlag",!1),T(N(e),"_horizontalScrollBarSize",0),T(N(e),"_verticalScrollBarSize",0),T(N(e),"_scrollbarPresenceChanged",!1),T(N(e),"_scrollingContainer",void 0),T(N(e),"_childrenToDisplay",void 0),T(N(e),"_columnStartIndex",void 0),T(N(e),"_columnStopIndex",void 0),T(N(e),"_rowStartIndex",void 0),T(N(e),"_rowStopIndex",void 0),T(N(e),"_renderedColumnStartIndex",0),T(N(e),"_renderedColumnStopIndex",0),T(N(e),"_renderedRowStartIndex",0),T(N(e),"_renderedRowStopIndex",0),T(N(e),"_initialScrollTop",void 0),T(N(e),"_initialScrollLeft",void 0),T(N(e),"_disablePointerEventsTimeoutId",void 0),T(N(e),"_styleCache",{}),T(N(e),"_cellCache",{}),T(N(e),"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),T(N(e),"_invokeOnGridRenderedHelper",function(){var a=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),T(N(e),"_setScrollingContainerRef",function(a){e._scrollingContainer=a}),T(N(e),"_onScroll",function(a){a.target===e._scrollingContainer&&e.handleScrollEvent(a.target)});var r=new et({cellCount:s.columnCount,cellSizeGetter:function(i){return n._wrapSizeGetter(s.columnWidth)(i)},estimatedCellSize:n._getEstimatedColumnSize(s)}),l=new et({cellCount:s.rowCount,cellSizeGetter:function(i){return n._wrapSizeGetter(s.rowHeight)(i)},estimatedCellSize:n._getEstimatedRowSize(s)});return e.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:l,prevColumnWidth:s.columnWidth,prevRowHeight:s.rowHeight,prevColumnCount:s.columnCount,prevRowCount:s.rowCount,prevIsScrolling:s.isScrolling===!0,prevScrollToColumn:s.scrollToColumn,prevScrollToRow:s.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:V,scrollDirectionVertical:V,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},s.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(s,e.state)),s.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(s,e.state)),e}return Ee(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.alignment,l=r===void 0?this.props.scrollToAlignment:r,a=e.columnIndex,i=a===void 0?this.props.scrollToColumn:a,c=e.rowIndex,d=c===void 0?this.props.scrollToRow:c,m=K({},this.props,{scrollToAlignment:l,scrollToColumn:i,scrollToRow:d});return{scrollLeft:this._getCalculatedScrollLeft(m),scrollTop:this._getCalculatedScrollTop(m)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var r=e.scrollLeft,l=r===void 0?0:r,a=e.scrollTop,i=a===void 0?0:a;if(!(i<0)){this._debounceScrollEnded();var c=this.props,d=c.autoHeight,m=c.autoWidth,h=c.height,f=c.width,p=this.state.instanceProps,g=p.scrollbarSize,S=p.rowSizeAndPositionManager.getTotalSize(),u=p.columnSizeAndPositionManager.getTotalSize(),v=Math.min(Math.max(0,u-f+g),l),x=Math.min(Math.max(0,S-h+g),i);if(this.state.scrollLeft!==v||this.state.scrollTop!==x){var b=v!==this.state.scrollLeft?v>this.state.scrollLeft?V:me:this.state.scrollDirectionHorizontal,j=x!==this.state.scrollTop?x>this.state.scrollTop?V:me:this.state.scrollDirectionVertical,C={isScrolling:!0,scrollDirectionHorizontal:b,scrollDirectionVertical:j,scrollPositionChangeReason:Ae.OBSERVED};d||(C.scrollTop=x),m||(C.scrollLeft=v),C.needToResetStyleCache=!1,this.setState(C)}this._invokeOnScrollMemoizer({scrollLeft:v,scrollTop:x,totalColumnsWidth:u,totalRowsHeight:S})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var r=e.columnIndex,l=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,l):l}},{key:"measureAllCells",value:function(){var e=this.props,r=e.columnCount,l=e.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(l-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.columnIndex,l=r===void 0?0:r,a=e.rowIndex,i=a===void 0?0:a,c=this.props,d=c.scrollToColumn,m=c.scrollToRow,h=this.state.instanceProps;h.columnSizeAndPositionManager.resetCell(l),h.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=d>=0&&(this.state.scrollDirectionHorizontal===V?l<=d:l>=d),this._recomputeScrollTopFlag=m>=0&&(this.state.scrollDirectionVertical===V?i<=m:i>=m),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var r=e.columnIndex,l=e.rowIndex,a=this.props.columnCount,i=this.props;a>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(K({},i,{scrollToColumn:r})),l!==void 0&&this._updateScrollTopForScrollToRow(K({},i,{scrollToRow:l}))}},{key:"componentDidMount",value:function(){var e=this.props,r=e.getScrollbarSize,l=e.height,a=e.scrollLeft,i=e.scrollToColumn,c=e.scrollTop,d=e.scrollToRow,m=e.width,h=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),h.scrollbarSizeMeasured||this.setState(function(g){var S=K({},g,{needToResetStyleCache:!1});return S.instanceProps.scrollbarSize=r(),S.instanceProps.scrollbarSizeMeasured=!0,S}),typeof a=="number"&&a>=0||typeof c=="number"&&c>=0){var f=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:c});f&&(f.needToResetStyleCache=!1,this.setState(f))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=l>0&&m>0;i>=0&&p&&this._updateScrollLeftForScrollToColumn(),d>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:c||0,totalColumnsWidth:h.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:h.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,r){var l=this,a=this.props,i=a.autoHeight,c=a.autoWidth,d=a.columnCount,m=a.height,h=a.rowCount,f=a.scrollToAlignment,p=a.scrollToColumn,g=a.scrollToRow,S=a.width,u=this.state,v=u.scrollLeft,x=u.scrollPositionChangeReason,b=u.scrollTop,j=u.instanceProps;this._handleInvalidatedGridSize();var C=d>0&&e.columnCount===0||h>0&&e.rowCount===0;x===Ae.REQUESTED&&(!c&&v>=0&&(v!==this._scrollingContainer.scrollLeft||C)&&(this._scrollingContainer.scrollLeft=v),!i&&b>=0&&(b!==this._scrollingContainer.scrollTop||C)&&(this._scrollingContainer.scrollTop=b));var A=(e.width===0||e.height===0)&&m>0&&S>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):nt({cellSizeAndPositionManager:j.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:v,scrollToAlignment:f,scrollToIndex:p,size:S,sizeJustIncreasedFromZero:A,updateScrollIndexCallback:function(){return l._updateScrollLeftForScrollToColumn(l.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):nt({cellSizeAndPositionManager:j.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:b,scrollToAlignment:f,scrollToIndex:g,size:m,sizeJustIncreasedFromZero:A,updateScrollIndexCallback:function(){return l._updateScrollTopForScrollToRow(l.props)}}),this._invokeOnGridRenderedHelper(),v!==r.scrollLeft||b!==r.scrollTop){var y=j.rowSizeAndPositionManager.getTotalSize(),I=j.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:v,scrollTop:b,totalColumnsWidth:I,totalRowsHeight:y})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&ot(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,r=e.autoContainerWidth,l=e.autoHeight,a=e.autoWidth,i=e.className,c=e.containerProps,d=e.containerRole,m=e.containerStyle,h=e.height,f=e.id,p=e.noContentRenderer,g=e.role,S=e.style,u=e.tabIndex,v=e.width,x=this.state,b=x.instanceProps,j=x.needToResetStyleCache,C=this._isScrolling(),A={boxSizing:"border-box",direction:"ltr",height:l?"auto":h,position:"relative",width:a?"auto":v,WebkitOverflowScrolling:"touch",willChange:"transform"};j&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var y=b.columnSizeAndPositionManager.getTotalSize(),I=b.rowSizeAndPositionManager.getTotalSize(),_=I>h?b.scrollbarSize:0,O=y>v?b.scrollbarSize:0;(O!==this._horizontalScrollBarSize||_!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=O,this._verticalScrollBarSize=_,this._scrollbarPresenceChanged=!0),A.overflowX=y+_<=v?"hidden":"auto",A.overflowY=I+O<=h?"hidden":"auto";var F=this._childrenToDisplay,H=F.length===0&&h>0&&v>0;return w.createElement("div",Ie({ref:this._setScrollingContainerRef},c,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:to("ReactVirtualized__Grid",i),id:f,onScroll:this._onScroll,role:g,style:K({},A,{},S),tabIndex:u}),F.length>0&&w.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:d,style:K({width:r?"auto":y,height:I,maxWidth:y,maxHeight:I,overflow:"hidden",pointerEvents:C?"none":"",position:"relative"},m)},F),H&&p())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=e.cellRenderer,a=e.cellRangeRenderer,i=e.columnCount,c=e.deferredMeasurementCache,d=e.height,m=e.overscanColumnCount,h=e.overscanIndicesGetter,f=e.overscanRowCount,p=e.rowCount,g=e.width,S=e.isScrollingOptOut,u=r.scrollDirectionHorizontal,v=r.scrollDirectionVertical,x=r.instanceProps,b=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,j=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,C=this._isScrolling(e,r);if(this._childrenToDisplay=[],d>0&&g>0){var A=x.columnSizeAndPositionManager.getVisibleCellRange({containerSize:g,offset:j}),y=x.rowSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:b}),I=x.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:g,offset:j}),_=x.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:b});this._renderedColumnStartIndex=A.start,this._renderedColumnStopIndex=A.stop,this._renderedRowStartIndex=y.start,this._renderedRowStopIndex=y.stop;var O=h({direction:"horizontal",cellCount:i,overscanCellsCount:m,scrollDirection:u,startIndex:typeof A.start=="number"?A.start:0,stopIndex:typeof A.stop=="number"?A.stop:-1}),F=h({direction:"vertical",cellCount:p,overscanCellsCount:f,scrollDirection:v,startIndex:typeof y.start=="number"?y.start:0,stopIndex:typeof y.stop=="number"?y.stop:-1}),H=O.overscanStartIndex,W=O.overscanStopIndex,J=F.overscanStartIndex,Q=F.overscanStopIndex;if(c){if(!c.hasFixedHeight()){for(var ee=J;ee<=Q;ee++)if(!c.has(ee,0)){H=0,W=i-1;break}}if(!c.hasFixedWidth()){for(var z=H;z<=W;z++)if(!c.has(0,z)){J=0,Q=p-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:l,columnSizeAndPositionManager:x.columnSizeAndPositionManager,columnStartIndex:H,columnStopIndex:W,deferredMeasurementCache:c,horizontalOffsetAdjustment:I,isScrolling:C,isScrollingOptOut:S,parent:this,rowSizeAndPositionManager:x.rowSizeAndPositionManager,rowStartIndex:J,rowStopIndex:Q,scrollLeft:j,scrollTop:b,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:A,visibleRowIndices:y}),this._columnStartIndex=H,this._columnStopIndex=W,this._rowStartIndex=J,this._rowStopIndex=Q}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&ot(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=So(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var r=this,l=e.scrollLeft,a=e.scrollTop,i=e.totalColumnsWidth,c=e.totalRowsHeight;this._onScrollMemoizer({callback:function(m){var h=m.scrollLeft,f=m.scrollTop,p=r.props,g=p.height,S=p.onScroll,u=p.width;S({clientHeight:g,clientWidth:u,scrollHeight:c,scrollLeft:h,scrollTop:f,scrollWidth:i})},indices:{scrollLeft:l,scrollTop:a}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!r.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var r=e.scrollLeft,l=e.scrollTop,a=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:l});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=n._getScrollLeftForScrollToColumnStateUpdate(e,r);l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollTop(e,r)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,r=this._cellCache,l=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var c="".concat(a,"-").concat(i);this._styleCache[c]=e[c],l&&(this._cellCache[c]=r[c])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=n._getScrollTopForScrollToRowStateUpdate(e,r);l&&(l.needToResetStyleCache=!1,this.setState(l))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var l={};e.columnCount===0&&r.scrollLeft!==0||e.rowCount===0&&r.scrollTop!==0?(l.scrollLeft=0,l.scrollTop=0):(e.scrollLeft!==r.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.scrollTop&&e.scrollToRow<0)&&Object.assign(l,n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var a=r.instanceProps;l.needToResetStyleCache=!1,(e.columnWidth!==a.prevColumnWidth||e.rowHeight!==a.prevRowHeight)&&(l.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(l,{isScrolling:!1});var i,c;return Qe({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=n._getScrollLeftForScrollToColumnStateUpdate(e,r)}}),Qe({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){c=n._getScrollTopForScrollToRowStateUpdate(e,r)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=e.isScrolling===!0,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,l.instanceProps=a,K({},l,{},i,{},c)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var r=e.prevState,l=e.scrollLeft,a=e.scrollTop,i={scrollPositionChangeReason:Ae.REQUESTED};return typeof l=="number"&&l>=0&&(i.scrollDirectionHorizontal=l>r.scrollLeft?V:me,i.scrollLeft=l),typeof a=="number"&&a>=0&&(i.scrollDirectionVertical=a>r.scrollTop?V:me,i.scrollTop=a),typeof l=="number"&&l>=0&&l!==r.scrollLeft||typeof a=="number"&&a>=0&&a!==r.scrollTop?i:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,r){var l=e.columnCount,a=e.height,i=e.scrollToAlignment,c=e.scrollToColumn,d=e.width,m=r.scrollLeft,h=r.instanceProps;if(l>0){var f=l-1,p=c<0?f:Math.min(f,c),g=h.rowSizeAndPositionManager.getTotalSize(),S=h.scrollbarSizeMeasured&&g>a?h.scrollbarSize:0;return h.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:d-S,currentOffset:m,targetIndex:p})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,r){var l=r.scrollLeft,a=n._getCalculatedScrollLeft(e,r);return typeof a=="number"&&a>=0&&l!==a?n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,r){var l=e.height,a=e.rowCount,i=e.scrollToAlignment,c=e.scrollToRow,d=e.width,m=r.scrollTop,h=r.instanceProps;if(a>0){var f=a-1,p=c<0?f:Math.min(f,c),g=h.columnSizeAndPositionManager.getTotalSize(),S=h.scrollbarSizeMeasured&&g>d?h.scrollbarSize:0;return h.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:l-S,currentOffset:m,targetIndex:p})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,r){var l=r.scrollTop,a=n._getCalculatedScrollTop(e,r);return typeof a=="number"&&a>=0&&l!==a?n._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:a}):{}}}]),n}(w.PureComponent),T(rt,"propTypes",null),at);T(De,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:mo,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:fo,noContentRenderer:wo,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:uo,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:bo,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});po(De);const Co="_card_kz2ax_1",yo="_highlight_kz2ax_26",Oe={card:Co,highlight:yo},Te=670/2,it=6/2,_o=({open:t,onClose:n})=>{const{passives:s,removePassive:e,getPassive:r}=ce(),{tokens:l}=D(),{currentCharacter:a,updateCurrentCharacter:i}=B(),[c,d]=w.useState(0),[m,h]=w.useState(!1),[f,p]=w.useState(a.passives??[]);return w.useEffect(()=>{m||d(0)},[s,m]),o.jsxs(Y,{open:t,onClose:n,children:[o.jsx("div",{className:"flex flex-wrap w-[180mm] gap-[5mm] items-center",children:o.jsxs("div",{className:"flex flex-col gap-[3mm] w-full",children:[o.jsxs("div",{className:"flex gap-[2mm]  bg-[#ffffff77] p-[2mm] rounded-[1.5mm]",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("h2",{className:"font-Advent",children:[l.UI.preview,":"]}),o.jsx("button",{onClick:()=>{i({...a,passives:f}),n()},className:"font-Advent border border-black p-[1mm] w-fit rounded bg-white",children:l.UI.save})]}),o.jsx("div",{className:"flex flex-wrap gap-[2mm]",children:f.map((g,S)=>{const u=r(g);return u?o.jsx(ve,{passive:u,className:"cursor-pointer",onClick:()=>{p(f.toSpliced(S,1))}},u.id):!1})})]}),o.jsx("h1",{className:"font-Advent flex justify-center",children:o.jsx("span",{className:"border-black border-b border-t w-[60%] block  text-center",children:l.UI.passivesGallery})}),o.jsxs("div",{className:"flex gap-[2mm] flex-wrap  bg-[#ffffff77] p-[2mm] rounded-[1.5mm]",children:[o.jsx("button",{onClick:()=>h(!0),className:"border border-black bg-white rounded-[1.5mm] pt-[0.5mm] pb-[0.5mm] pl-[2mm] pr-[2mm] font-Advent",children:l.UI.addPassive}),s.map(g=>o.jsxs("div",{className:"relative",children:[o.jsx(ve,{className:k("cursor-copy mr-[5mm]",{"bg-[#ffe1b7] !cursor-pointer":f.includes(g.id)}),passive:g,onClick:()=>{f.includes(g.id)?p(f.toSpliced(f.findIndex(S=>g.id==S),1)):p(f.concat(g.id))}}),o.jsx("img",{src:Zs,className:"w-[3mm] absolute top-[-3mm] right-[-1mm] p-[2mm] box-content cursor-pointer invert hover:invert-0",onClick:()=>{d(g.id),h(!0)}}),o.jsx("img",{src:be,className:"w-[3mm] absolute top-[3mm] right-[-1mm] p-[2mm] box-content cursor-pointer invert hover:invert-0",onClick:()=>{e(g.id),f.includes(g.id)&&p(f.toSpliced(f.findIndex(S=>g.id===S),1))}})]},g.id))]})]})}),m&&o.jsx(jo,{open:m,onClose:()=>h(!1),passive:c})]})},jo=({open:t,onClose:n,passive:s=0})=>{const{tokens:e}=D(),{addPassive:r,getPassive:l,updatePassive:a}=ce(),i=l(s),[c,d]=w.useState(""),[m,h]=w.useState(s?(i==null?void 0:i.name)??e.UI.defaultPassive:e.UI.defaultPassive),[f,p]=w.useState([]),[g,S]=w.useState(s?(i==null?void 0:i.icon)??-1:-1),[u,v]=w.useState((i==null?void 0:i.description)??""),[x,b]=w.useState(!0),{getAll:j}=q.useIndexedDB("icon"),C=Cn(f.filter(y=>y.name.toLowerCase().includes(c.toLowerCase().replaceAll(" ",""))),it),A=({columnIndex:y,key:I,rowIndex:_,style:O})=>C[_][y]&&o.jsxs("div",{className:k("flex flex-col items-center cursor-pointer",Oe.highlight),style:O,onClick:()=>S(C[_][y].id),children:[o.jsx("img",{src:C[_][y].image,className:"w-[10mm]"}),o.jsx("span",{className:"font-Advent font-light text-center",children:_n(yn(C[_][y].name),c,"#69212c")})]},I);return w.useEffect(()=>{t?(b(!0),j().then(y=>{p(y),b(!1)})):p([])},[t]),o.jsxs(Y,{open:t,onClose:n,className:"!max-h-[650px]",children:[x&&o.jsx("span",{children:"Please wait"}),!x&&o.jsxs("div",{className:"flex flex-col gap-[2mm]",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{className:"flex items-center gap-[2mm]",children:[o.jsxs("span",{className:"font-Advent",children:[e.UI.passiveName,":"]}),o.jsx(ke,{placeholder:e.UI.passiveName,value:m,maxLength:40,onChange:y=>h(y)})]}),o.jsxs("div",{className:"flex items-center gap-[2mm]",children:[o.jsxs("h2",{className:"font-Advent",children:[e.UI.preview,":"]})," ",o.jsx(ve,{passive:{id:-1,name:m,icon:g},className:"bg-[#ffffff77]"})]}),o.jsx("div",{className:"flex",children:o.jsx("button",{onClick:()=>{s?a({id:s,name:m,description:u,icon:g}):r({name:m,icon:g,description:u}),n()},className:"font-Advent border border-black p-[1mm] w-fit rounded bg-white",children:e.UI.save})})]}),o.jsxs("div",{className:"flex gap-[2mm]",children:[o.jsxs("div",{className:"flex flex-col gap-[3mm]",children:[o.jsx("h1",{className:"text-center font-Advent",children:e.UI.description}),o.jsx("textarea",{className:"bg-white/10 border border-gray-600 font-Advent rounded-[4px] h-full pt-[4px] pb-[4px] pl-[10px] pr-[10px] resize-none",style:{width:Te},value:u,onChange:y=>v(y.target.value)})]}),o.jsxs("div",{className:"flex flex-col gap-[3mm]",children:[o.jsx("h1",{className:"text-center font-Advent",children:e.UI.icon}),o.jsx(ke,{placeholder:e.UI.search,value:c,onChange:y=>d(y)}),o.jsx(De,{cellRenderer:A,columnCount:C[0]?C[0].length:0,columnWidth:Te/it,height:500-re(21),rowCount:C.length,rowHeight:90,width:Te,style:{overflowX:"hidden"}})]})]})]})]})},Ao="_container_11ohm_1",To="_canActivate_11ohm_14",zo="_header_11ohm_31",ko="_statuses_11ohm_35",Io="_skills_11ohm_40",No="_status_11ohm_35",Po="_passives_11ohm_56",Oo="_passiveDescription_11ohm_63",Mo="_passive_11ohm_56",Ro="_speed_11ohm_78",E={container:Ao,canActivate:To,header:zo,statuses:ko,skills:Io,status:No,passives:Po,passiveDescription:Oo,passive:Mo,speed:Ro},Lo=()=>{const{tokens:t}=D(),{isEdit:n,currentCharacter:s}=B(),{getPassivesInOrder:e}=ce(),[r,l]=w.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:k(E.container,E.passives,{[E.canActivate]:n}),onClick:()=>{n&&l(!0)},children:[o.jsx("h1",{className:E.header,children:t.UI.passives}),o.jsx("div",{className:E.statuses,children:e(s.passives??[]).map(a=>o.jsx("div",{className:E.passive,children:o.jsx(ve,{passive:a,canShowDescription:!n})},a.id))})]}),n&&o.jsx(_o,{open:r,onClose:()=>{l(!1)}})]})},ve=({passive:t,onClick:n,className:s,canShowDescription:e=!1})=>{const{getByID:r}=q.useIndexedDB("icon"),[l,a]=w.useState("");return w.useEffect(()=>{t.icon!==-1&&r(t.icon).then(i=>a(i.image))},[t]),o.jsxs("div",{className:k(E.status,E.passive,s),onClick:n,children:[t.icon!==-1&&l&&o.jsx("img",{src:l}),t.name,e&&!!t.description&&o.jsx("div",{className:k(E.passiveDescription,t.description?"w-[105mm]":"w-fit"),children:o.jsx(Rt,{passive:t})})]})},Eo="/character-sheet/assets/perception-hd-transparent-BGRwEmjZ.png",Do="/character-sheet/assets/hammer-hd-transparent-BGqlbb0s.png",Bo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAJ8CAMAAABTM4xkAAAABlBMVEVMaXEAAACaXKEdAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAADEVJREFUeJzt3NF23UYMQ9HB//90V9N2tU0c25JmBBI8+zmWSAK9frhJ1wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjCTJPQIm0r/co2Bu92gffN2jfXgT5UOR7tE++LpH+fAWyodC5aN9eAnlgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lG6dOzDXLpzKTxKkUdMXuqdIwYWpFXa98KjVNlmJZlyufao0ThbCb3SeJql239DSyD5Tk1+Paz1t2lhITJdFHygxVZpD/cg+VQ0XvW2WID7inyvHRdTnwX7iN58BceHEa24U5sTiMrXzTjyzuch7t+xBn8V558pnFUV5B+37FTd7CpX/GRd7Drf+Pc7yJ9v0X13gX9/4Xt3gbF/8Hl3gfN/8Ld3Dg6n/iCB60b3EDGy6v8RfwmX57Dd/fa/b1NXp7v8n319zVi5jbPo3dvI6pGWjo3rXMTEEjt65nYg4auHNN85LQtIULm9Y+Ddu3tllpaNS29Tny+OSdrvcuOLyayBe1s718weOlTC707u0BFmxOh3+rdtu7IcpX0slYnjbvhUEWnE4Fs6l5Z0dZ8DqRzNbmHZtmwW573geqd2ScBb+d4Rwq3omRFirYls651u0faqGGPfGc7Nz2sRaq2JDP2cZtHmyhkIcBnS/c3uEWKnkS0Btt2zreQi07w33FemE1vORmQvJZZzfDi+4kJK91fcoHB8JJT0I1WWc2g8GlgFTBOrEZilMVC9OojoVRVMvCHCpnYQZVtDDBkaLQPnztbEFoHz7xSjGoH371XiVoH/7v5TrQPvzDUQXqhx88NaB9uFYC46u1990owBs/7ZvMn71/AniUCL7EEHhbldSrzIH3FIqc+g1TKu9Sw+C0amlXmwfnFIy64Eg4oWbONafCjJSrzoUJGavsZNijdMCqPBweqx2vao+HR6pnq+oD4rYG0arBjLihRa7qMCRCY1WPMREZqroMim9rFKnaTIq07i3al6VV9xbtS9IuzHYDIydLdRsYv9MxSTWcGSkfI+o4NEJiVMupkdC91XVuJGSotpPjb40TVN/R0T5AdR4ezeNT6+mna16+1Xz82bqHp+4LDNY/OrXfYKqE5BSww0gRwSlgh4EiurcythgnJDVlrDFLTGhKWWSQmMyUssgcQZEpZ5UhghJTziozRAWmpGUGyIpLUdukC/usUNY64dLCUtg+0eLCUtpCufKiUtxGsfKSEu1rIjEoBe4UKTEoBe6UKDMnJS6VZ1r55B4N/wpNSZlrhQlNSZlrZYkNSamLBYnNSKmLBcmNSLmrhQhOSLmrhQgOSMG7ZUgOSMG7JYj+dFDycgGi81HycgGy41H0dt2FfzYoe73mwtNR9nrNpYej8P1aSw9H4ft1Fv9rSeH7dZafjdIX7Gtu+eQeDPnRKH7DtvKjUfyGbQ1IRvkrNjUgGeWv2NOE30kasGNLE4LRgB2td/zK5QeuHNp2lJtHznD3Kr8/zIQ76tqSD44cdbZ9V/ndYSZcUVsu8uTK/T28ysd3GXFDbTjIkyP39/QqHx9mxA31/B6PjtyfTtxlxgm14SBPrtzfkbPMuKC+veWGI2ed7m9HzjLjgvr2lhuOnHW6fWe5cOyVRM/v8ejK7Z05y4wD6vk9Hl25vTNnmXFAPb/Hoyv3d+QqQ+6n76654chpt/vhyFmGHFDfXXPDkdNu98ORsww5oB4f5NGVA5y4ypAD6vlFnlw5wImzDLmgnl/kwZEjHDjLkBNqw0keXDnD9qMMOaG2HOX2lXNsPcmQI2rbYW5dGR8ackjNWLOZIaloxprNDElFM9ZsZkgqmrFmM0NS0Yw1mxmSimasGZJKWCwasWU3M8qnEVu2MyMWjdiynRmxaMSW7cyIRSO2bGdGLBqxZT8jYtGILfsZEYsmLNnQiFw0YcmGJuSiCUt2NCEXTViyownBaMCOLU0IRgN27GlAMBqwY08DglH+ik0NSEb5KzaV/ztJ8Ru2lR+N4jdsKz8axW+YF01MNgrfr7P08il8v9bSw1H4fq2lh6Pw/TLDyUhH2et1l52OstfrLjsdRW/XXvRng5KXCxCdj5KXS5Ccj4J3ixD86aDc1UIEJ6Tc1VLkJqTYzWLEfj4odbEgsRkpdbEkoSEpc60woSkpc60wioxJkVvliYxJiUsFSvyQUOBOkRKDUuBOmfKCUt5KqfKiUtxGudKyUtg+0dLCUtg+2bLSUtY66bLSUtQ2+ZLyUtIyEwQFppxVhghKTDmrTBETmVIWGSQmM6UsMklIaMpYYxhFxKaILeZJyE0BO4yUEJwCdpipf3Jqv8Fc3bNT8/lHU+/01Hv86Xqnp9bTj9f6s0Odh0frANV3dDSPUG0nR/cM1XRu9E9RLafGtRhr5qiOQyMiSPUbGSFRqtvAuJ1ltTDVbF7kpKlW0yIpTzWaFVmJqs2k2BVplUzVZE7ktU89xsQ1LVJViylxWYNc1WBG3FI/WZWfEKHZqvh8CE5XpadDcvtUeThEB6y6o2GPsgmr7GTYpmjGKjoXtqqZskpOhQk5V5wJz3ycW72gL3dPNLK432ZXrn0XB5LxvxN8x/fSK9G+290T9SvpQn7u9j3pnmhfPRcTdJbvWfdE+6r5uk512ndxEtG+2u6F6En06hyifaXdTrFe+da3/vhrw+IrT2J8PdCrQ4j2VfYwx3fzvDyDaF9hz4N8M89d5dMr0+Jzl7pkb9/1AUT7yrqYjbl8d8ov2lfU5SZ523fn7aJ9NV0Ppm751vUfOj4v1tZYnO2792rRvoLupeIr393ei/aVczOTuxU4OrDu/uDRgbE9EVf5HrRetK+UB3mY2vfktaJ9hTwKw9K+Zy8V7StDUeVb538c2zxNwpDk48KL9pXwOIfHTdg6sx4/4dDMOJJCqfKtskPjZzsi0NtBbnmfaJ/ZngRalm/RPq9d9383x55T49D1e5Zv0T6fjad/M8WNlRHtM9l5+TdT3Pkq0T6LrXfvWr5F+xw2X/29ENsOjlM3r1C+VXxy/GX/wd+KcH9XRPtepcTyrf2PpH37Hbn2Swm+O7p2jo5jt3aXb514KO3b7NSlXwnw9dm1bXQc7Ejn8i3a94pzV7aWb516MOXb5+CRX4iv9/TjHbzxwWZ8+YpV+9n4wZFej/ItynfayfseL9/heovyBZZvV36nXyDKd1Tnbpg+Whc2OXrd9uVbdO+ok9c9XI7fPl57nv/xO/Y9Gydve7gdL3RvraMPH+/kbQPKt+jeSQdPm1C+RfdOOnfaiPKtgwfCn17+99zlH/4zitdPTPnQz8mCUD58ivLBhvLBx1C+DY9GBMoHG8oHG8oHm981hH/hg8DybRkbCSgfbCgfbCgffCgfbCgfbCgfbCgfbCgfbCgfbCgfbCgfbF7/H9fuGRsJKB/iynes1MhB+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WCjMy059FhkOVITuodnPVGpZyLQJ0W5WZX9T0Qovcu9Lkqhe7ChfLChfPChe7ChfLChe/ChfPChe7ChfPChe/Che7ChfPChe/Che/Che/ChezCievChe/Che3CiefChe3CieXCieQAAAAAAAAAAAACQ/BcK+JoXVbpH++DrHu2Dr3u0D77uUT74ykf78CnKBxvKh8juUT58hvLBh/LBhvLBhvLBh+7Bh+7Bh+7Bh+7Bh+oBAAAAAAAAAIB+9n/DwVcccFWP9sHYPeoHY/doH75C+RDYPdqHz1E+2FA+RHaP8uEzlA8+lA82lA82lA8+dA82lA8+dA8+dA9GVA8AAAAAAAAAAGTg2wyY8GUamnSP9sHXPdoHX/doH7a41T3ahx0oH5p1j/LhOcoHG8oHG8oHG8oHH8oHG8oHH7oHG7oHH8oHH6oHK5oHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFj/9Qfvj4X6w33N+gAAAABJRU5ErkJggg==",Uo="/character-sheet/assets/insp-hd-transparent-CbCLZpF6.png",Fo=()=>{const{tokens:t}=D();return o.jsxs("div",{className:k(E.container,E.skills),children:[o.jsx("h1",{className:E.header,children:t.skills.title}),o.jsxs("div",{className:E.statuses,children:[o.jsxs("div",{className:E.status,children:[o.jsx("img",{src:Bo}),t.skills.initiative,o.jsx(R,{stat:"initiative",className:"h-[6mm] !w-[7mm] !p-[0.5mm] text-center",type:"number",step:1})]}),o.jsxs("div",{className:E.status,children:[o.jsx("img",{src:Do}),t.skills.proficiency,o.jsx(R,{stat:"proficiency",className:"h-[6mm] !w-[7mm] !p-[0.5mm] text-center",type:"number",step:1})]}),o.jsxs("div",{className:E.status,children:[o.jsx("img",{src:Eo}),t.skills.perception,o.jsx(R,{stat:"perception",className:"h-[6mm] !w-[7mm] !p-[0.5mm] text-center",type:"number",step:1})]}),o.jsxs("div",{className:E.status,children:[o.jsx("img",{src:Uo}),t.skills.inspiration,o.jsx(R,{stat:"inspiration",className:"h-[6mm] !w-[7mm] !p-[0.5mm] text-center",type:"number",step:1})]})]})]})},Ho=()=>{const{tokens:t}=D();return o.jsxs("div",{className:E.container,children:[o.jsx("h1",{className:E.header,children:t.speed.title}),o.jsxs("ul",{className:E.speed,children:[o.jsxs("li",{children:[t.speed.walk,":"," ",o.jsx(R,{stat:"walk",className:"h-[6mm] !w-[12mm]",type:"number",step:1})]}),o.jsxs("li",{children:[t.speed.run,":",o.jsx(R,{stat:"run",className:"h-[6mm] !w-[12mm]",type:"number",step:1})]}),o.jsxs("li",{children:[t.speed.climb,":",o.jsx(R,{stat:"climb",className:"h-[6mm] !w-[12mm]",type:"number",step:1})]}),o.jsxs("li",{children:[t.speed.swim,":",o.jsx(R,{stat:"swim",className:"h-[6mm] !w-[12mm]",type:"number",step:1})]}),o.jsxs("li",{children:[t.speed.mount,":",o.jsx(R,{stat:"mount",className:"h-[6mm] !w-[12mm]",type:"number",step:1})]})]})]})},Wo="_weapons_786nm_1",Go="_title_786nm_9",Vo="_weapon_786nm_1",qo="_spell_786nm_76",ie={weapons:Wo,title:Go,weapon:Vo,spell:qo},$o=({levels:t})=>{const{tokens:n}=D();return o.jsxs("div",{className:ie.weapon,children:[n.weapons.spellSlots,":",o.jsx("div",{className:ie.spell,children:Nt(Array(t).fill(0).map((s,e)=>o.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[o.jsx("span",{className:"border-b border-b-black w-full text-center",children:e+1}),o.jsx("span",{className:"h-[1.5em] border-b border-b-black w-[80%]"}),o.jsx("span",{className:"h-[1.5em]"})]})),o.jsx("span",{className:"h-full w-[1px] bg-black"}))})]})},Xo=()=>{const{tokens:t}=D(),{isEdit:n}=B();return o.jsxs("div",{className:ie.weapon,style:n?Se:void 0,children:[o.jsxs("span",{children:[t.weapons.name,":"]}),o.jsxs("span",{children:[t.weapons.attackBonus,":"]}),o.jsxs("span",{children:[t.weapons.damageType,":"]})]})},Jo=()=>{const{tokens:t}=D(),{currentCharacter:n,isEdit:s}=B();return o.jsxs("div",{className:ie.weapons,children:[o.jsx("div",{className:ie.title,style:s?Se:void 0,children:o.jsx("h1",{children:t.weapons.title})}),n.manaTracker&&o.jsx($o,{levels:n.manaSlots}),Array(n.manaTracker?3:4).fill(0).map((e,r)=>o.jsx(Xo,{},`weapon-${r}`))]})},Ko=({printing:t=!1})=>{const{currentCharacter:n}=B(),{getByID:s}=q.useIndexedDB("background"),[e,r]=w.useState(""),{passives:l}=ce(),a=l.some(i=>!!i.description);return w.useEffect(()=>{n.backgroundImage!==-1?s(n.backgroundImage).then(i=>(i==null?void 0:i.image)&&Re(i.image)).then(i=>i&&r(i)).catch(console.error):r("")},[n]),o.jsxs("div",{className:"print",children:[o.jsx(tn,{background:e,children:o.jsx("div",{className:"flex flex-col h-full gap-[5mm] items-center pt-[2mm]",children:o.jsxs("div",{className:"flex h-full",children:[o.jsxs("div",{className:"flex flex-col gap-[2mm]",children:[o.jsx(Mt,{character:n}),o.jsx($s,{}),o.jsx(bs,{}),o.jsx(Jo,{})]}),o.jsxs("div",{className:"flex flex-col w-full gap-[5mm] h-full",children:[o.jsx("div",{className:"flex justify-between w-full gap-[1mm]",children:kt(zt).map(i=>o.jsx(Is,{data:n.stats[i],color:Ge[i].color,icon:Ge[i].icon,name:i},i))}),o.jsxs("div",{className:"flex gap-[2mm]",children:[o.jsx(Ho,{}),o.jsx(Fo,{}),o.jsx(Lo,{})]}),o.jsx(Gs,{}),o.jsx(Ks,{})]})]})})}),t&&a&&o.jsx(gs,{})]})},Zo=({open:t,onClose:n})=>{const{updateCurrentCharacter:s,currentCharacter:e}=B(),[r,l]=w.useState(X()),a=w.useRef(null),[i,c]=w.useState([]),{getAll:d,add:m,deleteRecord:h}=q.useIndexedDB("background"),f=async p=>{const g=p.target.files[0];g&&(await m({name:`char-upload-${g.name}`.replaceAll("_","-").replaceAll(" ","-"),image:g}),l(X()),a.current.value="")};return w.useEffect(()=>{t?d().then(p=>{Promise.all(p.map(async g=>{const S=await Re(g.image);return{...g,image:S}})).then(g=>{c(g)})}):c([])},[t,r]),o.jsx(Y,{open:t,onClose:n,children:o.jsxs("div",{className:"flex flex-wrap max-w-[180mm] gap-[2mm]",children:[i.length>0?o.jsxs("div",{className:k(Oe.card,"bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl flex justify-center items-center"),onClick:()=>a.current.click(),children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:f,ref:a}),"+"]}):o.jsx("h2",{className:"font-Advent",children:"Loading backgrounds, please wait"}),t&&i.map(p=>{const g=p.name.split("/"),S=g[g.length-1].split(".");S.pop();const u=S.join("");return o.jsxs("div",{className:"relative",children:[o.jsx("div",{style:{background:`url(${p.image})`},className:Oe.card,onClick:()=>{s({...e,backgroundImage:p.id}),n()},"aria-label":u.replace("char-upload-","")}),p.name.includes("char-upload-")&&o.jsx("img",{src:be,className:"w-[4mm] absolute top-[-4mm] right-[-4mm] p-[2mm] box-content cursor-pointer hover:invert",onClick:()=>{h(p.id).then(()=>l(X()))}})]},p.name)})]})})},Yo=({open:t,onClose:n})=>{const{addNewCharacter:s,allCharacters:e,setLastCharacter:r,removeCharacter:l}=B();return o.jsx(Y,{open:t,onClose:n,children:o.jsxs("div",{className:"flex flex-wrap max-w-[180mm] gap-[5mm] items-center",children:[o.jsx("div",{className:"w-[40mm] h-[40mm] rounded-full overflow-hidden flex justify-center items-center bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl cursor-pointer hover:border-white",onClick:()=>s(),children:"+"}),e.map(a=>o.jsxs("div",{className:"hover:brightness-125 cursor-pointer relative",onClick:()=>{r(a.id),n()},children:[o.jsx("img",{src:be,className:"w-[4mm] absolute top-0 right-[50%] p-[2mm] box-content cursor-pointer translate-x-[50%] hover:invert",onClick:i=>{i.stopPropagation(),l(a.id)}}),o.jsx(Mt,{character:a,isPreview:!0})]},a.id))]})})},Qo="/character-sheet/assets/how-to-save-CyqsxfYZ.jpg",pe="dont-show-print",er=({open:t,onClose:n,onPrint:s})=>{const{tokens:e}=D(),r=w.useId(),[l,a]=w.useState(!!localStorage.getItem(pe)),i=async()=>{l?localStorage.setItem(pe,"true"):localStorage.removeItem(pe),n(),s()};return o.jsx(Y,{open:t,onClose:n,children:o.jsxs("div",{className:"font-Advent flex flex-col gap-[2mm] bg-[#ffffff77] rounded-[2mm] p-[2mm]",children:[o.jsx("h1",{className:"text-center pb-[3mm]",children:e.UI.guide.howToSave.title}),e.UI.guide.howToSave.content.map(c=>o.jsx("p",{children:c},X())),o.jsx("div",{className:"flex justify-center pt-[4mm]",children:o.jsx("img",{src:Qo,className:"w-[500px] rounded-[2mm]"})}),o.jsxs("div",{className:"flex flex-col items-center pt-[5mm] gap-[4mm]",children:[o.jsxs("div",{className:"flex gap-[2mm]",children:[o.jsx("input",{type:"checkbox",id:r,className:"cursor-pointer",checked:l,onChange:c=>a(c.target.checked)}),o.jsx("label",{htmlFor:r,className:"cursor-pointer",children:e.UI.guide.howToSave.checkbox})]}),o.jsx("button",{className:"border rounded-[2mm] font-Advent border-black pt-[2mm] pb-[2mm] pr-[6mm] pl-[6mm] bg-[#ffffff77] shadow-highlight",onClick:i,children:e.UI.print})]})]})})};async function fe(t,n){try{const s=await fetch(t,{method:"GET",...n});if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}, StatusText: ${s.statusText}`);if(n!=null&&n.onDownloadProgress&&s.body){const e=s.body.getReader(),r=Number(s.headers.get("Content-Length"));let l=0,a=Date.now();const i=new ReadableStream({async start(d){async function m(){const{done:h,value:f}=await e.read();if(h){d.close();return}l+=(f==null?void 0:f.length)||0;const p=r?l/r:0,g=Date.now();if(n.onDownloadProgress&&g-a>=200){a=g;const S=Object.assign(new ProgressEvent("progress",{lengthComputable:r!==0,loaded:l,total:r}),{progress:p});n.onDownloadProgress(S)}d.enqueue(f),setTimeout(m,200)}m()}}),c=new Response(i,{headers:s.headers});return await ct(c,n==null?void 0:n.responseType)}else return await ct(s,n==null?void 0:n.responseType)}catch(s){throw console.error("There was an error making the request:",s),s}}async function ct(t,n){switch(n){case"blob":return await t.blob();case"text":return await t.text();case"json":default:return await t.json()}}const tr=re(210),nr=re(297),sr=(t,n)=>{const s=window.open("","",`left=0,top=0,width=${tr},height=${nr},toolbar=0,scrollbars=0,status=0`);s.document.title=n??"Export",s.document.body.innerHTML=document.head.innerHTML;const e=t.cloneNode(!0);s.document.body.appendChild(e),s.document.getElementsByClassName("print")[0].setAttribute("style","pointer-events: none;"),s.document.body.setAttribute("style","background: white"),s.document.close(),s.focus();const r=setTimeout(()=>{s.print()},5e3);s.document.addEventListener("click",()=>{clearTimeout(r),s.print()})},or=6407772,rr={iconsSize:or},dt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23fff'%20d='M255.76%2044.764c-6.176%200-12.353%201.384-17.137%204.152L85.87%20137.276c-9.57%205.536-9.57%2014.29%200%2019.826l152.753%2088.36c9.57%205.536%2024.703%205.536%2034.272%200l152.753-88.36c9.57-5.535%209.57-14.29%200-19.825l-152.753-88.36c-4.785-2.77-10.96-4.153-17.135-4.153zm-.824%2053.11c9.013.097%2017.117%202.162%2024.31%206.192%204.92%202.758%208.143%205.903%209.666%209.438%201.473%203.507%201.56%208.13.26%2013.865l-1.6%205.706c-1.06%204.083-1.28%207.02-.66%208.81.57%201.764%201.983%203.278%204.242%204.544l3.39%201.898-33.235%2018.62-3.693-2.067c-4.118-2.306-6.744-4.912-7.883-7.82-1.188-2.935-.99-7.603.594-14.005l1.524-5.748c.887-3.423.973-6.23.26-8.418-.653-2.224-2.134-3.983-4.444-5.277-3.515-1.97-7.726-2.676-12.63-2.123-4.956.526-10.072%202.268-15.35%205.225-4.972%202.785-9.487%206.272-13.55%2010.46-4.112%204.162-7.64%208.924-10.587%2014.288L171.9%20138.21c5.318-5.34%2010.543-10.01%2015.676-14.013%205.134-4%2010.554-7.6%2016.262-10.8%2014.976-8.39%2028.903-13.38%2041.78-14.967%203.208-.404%206.315-.59%209.32-.557zm50.757%2056.7l26.815%2015.024-33.235%2018.62-26.816-15.023%2033.236-18.62zM75.67%20173.84c-5.753-.155-9.664%204.336-9.664%2012.28v157.696c0%2011.052%207.57%2024.163%2017.14%2029.69l146.93%2084.848c9.57%205.526%2017.14%201.156%2017.14-9.895V290.76c0-11.052-7.57-24.16-17.14-29.688l-146.93-84.847c-2.69-1.555-5.225-2.327-7.476-2.387zm360.773.002c-2.25.06-4.783.83-7.474%202.385l-146.935%2084.847c-9.57%205.527-17.14%2018.638-17.14%2029.69v157.7c0%2011.05%207.57%2015.418%2017.14%209.89L428.97%20373.51c9.57-5.527%2017.137-18.636%2017.137-29.688v-157.7c0-7.942-3.91-12.432-9.664-12.278zm-321.545%2063.752c6.553%201.366%2012.538%203.038%2017.954%205.013%205.415%201.976%2010.643%204.417%2015.68%207.325%2013.213%207.63%2023.286%2016.324%2030.218%2026.082%206.932%209.7%2010.398%2020.046%2010.398%2031.04%200%205.64-1.055%2010.094-3.168%2013.364-2.112%203.212-5.714%205.91-10.804%208.094l-5.2%201.92c-3.682%201.442-6.093%202.928-7.23%204.46-1.137%201.472-1.705%203.502-1.705%206.092v3.885l-29.325-16.933v-4.23c0-4.72.892-8.376%202.68-10.97%201.787-2.652%205.552-5.14%2011.292-7.467l5.2-2.006c3.087-1.21%205.334-2.732%206.742-4.567%201.46-1.803%202.192-4.028%202.192-6.676%200-4.027-1.3-7.915-3.9-11.66-2.6-3.804-6.227-7.05-10.885-9.74-4.387-2.532-9.126-4.29-14.217-5.272-5.09-1.04-10.398-1.254-15.922-.645v-27.11zm269.54%208.607c1.522%200%202.932.165%204.232.493%206.932%201.696%2010.398%208.04%2010.398%2019.034%200%205.64-1.056%2011.314-3.168%2017.023-2.112%205.65-5.714%2012.507-10.804%2020.568l-5.2%207.924c-3.682%205.695-6.093%209.963-7.23%2012.807-1.137%202.785-1.705%205.473-1.705%208.063v3.885l-29.325%2016.932v-4.23c0-4.72.894-9.41%202.68-14.067%201.79-4.715%205.552-11.55%2011.292-20.504l5.2-8.01c3.087-4.776%205.334-8.894%206.742-12.354%201.46-3.492%202.192-6.562%202.192-9.21%200-4.028-1.3-6.414-3.898-7.158-2.6-.8-6.23.142-10.887%202.83-4.387%202.533-9.124%206.25-14.215%2011.145-5.09%204.84-10.398%2010.752-15.922%2017.74v-27.11c6.553-6.2%2012.536-11.44%2017.95-15.718%205.417-4.278%2010.645-7.87%2015.68-10.777%2010.738-6.2%2019.4-9.302%2025.99-9.307zm-252.723%2094.515l29.326%2016.93v30.736l-29.325-16.93v-30.735zm239.246%208.06v30.735l-29.325%2016.93v-30.733l29.326-16.932z'/%3e%3c/svg%3e";let ut=!1;const ar=()=>{const{isEdit:t,toggleEdit:n,currentCharacter:s,updateCurrentCharacter:e,saveCharacter:r,lastSelectedCharacter:l}=B(),{tokens:a,load:i,availableLanguages:c,currentLocale:d}=D(),[m,h]=w.useState({names:[],surnames:[]}),[f,p]=w.useState(!1),[g,S]=w.useState(!1),[u,v]=w.useState(!1),[x,b]=w.useState(!1),[j,C]=w.useState(0),[A,y]=w.useState(0),{getAll:I,add:_}=q.useIndexedDB("background"),{getAll:O,add:F}=q.useIndexedDB("icon"),[H,W]=Z("print-passives",!1),J=async()=>{localStorage.getItem(pe)||g?(p(!0),await It(200),sr(document.getElementsByClassName("print")[0],`${s.name}_${s.surname}`),p(!1)):(p(!0),S(!0))},Q=()=>{t&&r(s),n()};w.useEffect(()=>{fe(`randomNames-${d}.json`).then(z=>h(z))},[d]),w.useEffect(()=>{e(l)},[l]),w.useEffect(()=>{ut||(ut=!0,I().then(z=>{if(z.length>0){y(50);return}fe("backgrounds.json").then($=>{const te=50/$.length,we=$.map(ne=>fe(ne,{responseType:"blob"}).then(async le=>(y(de=>de+te),{name:ne,image:le})));Promise.all(we).then(ne=>ne.forEach(le=>_(le)))})}),O().then(z=>{if(z.length>0){C(50);return}fe("icons.json",{onDownloadProgress:$=>{const te=Number($.loaded/rr.iconsSize);C(Math.min((Number.isNaN(te)?1:te)*50,50))}}).then($=>{const{template:te,icons:we}=$;Ve(we).map(([ne,le])=>{const de={name:ne,image:Zn(te.replace("{path}",le))};return F(de),de})})}))},[]);const ee=Math.min(j+A,100);return ee<98?o.jsxs("div",{className:"flex justify-center items-center flex-col text-white h-[90vh] gap-[5mm] w-full",children:[o.jsxs("div",{className:"flex justify-center flex-col",children:[o.jsx("span",{className:"text-[20pt]",children:"Loading assets, please wait.."}),o.jsx("div",{className:"border w-full h-[30px] rounded relative p-[3px]",children:o.jsx("div",{className:"h-full bg-white rounded-[3px]",style:{width:`${ee}%`}})})]}),o.jsxs("span",{className:"font-Advent text-center",children:["This is single time load,",o.jsx("br",{})," please dont refresh/close this page."]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-2 p-2.5 w-fit text-[#ebebeb]",children:[o.jsx("button",{className:"border border-[#ebebeb] rounded p-0.5 min-w-[25mm] hover:bg-gray-200 hover:text-black",onClick:Q,children:t?a.UI.save:a.UI.edit}),!t&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[o.jsxs("label",{children:[a.UI.printPassives,":"]}),o.jsx("input",{type:"checkbox",className:"border border-[#ebebeb] rounded p-0.5",checked:H,onChange:z=>W(z.target.checked)})]}),o.jsxs("div",{className:"border border-[#ebebeb] rounded min-w-[33mm]",children:[o.jsx("button",{className:"border-r border-[#ebebeb] p-0.5 min-w-[25mm] hover:bg-gray-200 hover:text-black",onClick:J,children:a.UI.print}),o.jsx("button",{className:"p-0.5 min-w-[7mm] hover:bg-gray-200 hover:text-black font-Advent",onClick:()=>S(!0),children:"?"})]}),g&&o.jsx(er,{open:g,onClose:()=>S(!1),onPrint:J}),o.jsx("button",{className:"border border-[#ebebeb] rounded p-0.5 min-w-[35mm] hover:bg-gray-200 hover:text-black",onClick:()=>b(!0),children:a.UI.changeCharacter}),o.jsxs("span",{className:"flex gap-2 items-center",children:[o.jsxs("label",{children:[a.UI.language,":"]}),o.jsx("select",{className:"border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black",onChange:z=>i(z.target.value),value:d,children:Ve(c).map(([z,$])=>o.jsx("option",{value:z,children:$},z))})]}),o.jsx(Yo,{open:x,onClose:()=>b(!1)})]}),t&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[o.jsxs("label",{children:[a.UI.name,":"]}),o.jsx("button",{className:"w-[8mm] hover:brightness-50",title:`${a.UI.random} ${a.UI.name.toLowerCase()}`,onClick:()=>e({...s,name:qe(m.names)}),children:o.jsx("img",{src:dt})}),o.jsx("input",{type:"text",maxLength:14,className:"border border-[#ebebeb] rounded p-0.5 bg-background hover:bg-gray-200 hover:text-black focus:bg-gray-200 focus:text-black outline-0 font-Advent w-[105px]",value:s.name,onChange:z=>e({...s,name:z.target.value})})]}),o.jsxs("span",{className:"flex gap-2 items-center",children:[o.jsxs("label",{children:[a.UI.surname,":"]}),o.jsx("button",{className:"w-[8mm] hover:brightness-50",title:`${a.UI.random} ${a.UI.surname.toLowerCase()}`,onClick:()=>e({...s,surname:qe(m.surnames)}),children:o.jsx("img",{src:dt})}),o.jsx("input",{type:"text",maxLength:14,className:"border border-[#ebebeb] rounded p-0.5 bg-background hover:bg-gray-200 hover:text-black focus:bg-gray-200 focus:text-black outline-0 font-Advent w-[105px]",value:s.surname,onChange:z=>e({...s,surname:z.target.value})})]}),o.jsxs("span",{className:"flex gap-2 items-center",children:[o.jsxs("label",{children:[a.UI.dice,":"]}),o.jsx("select",{className:"cursor-pointer border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black outline-0",onChange:z=>e({...s,dice:z.target.value}),value:s.dice,children:kt(ze).map(z=>o.jsx("option",{value:ze[z],children:z},z))})]}),o.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[o.jsxs("label",{children:[a.UI.manaTracker,":"]}),o.jsx("input",{type:"checkbox",className:"border border-[#ebebeb] rounded p-0.5",checked:s.manaTracker,onChange:z=>e({...s,manaTracker:z.target.checked})})]}),o.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[o.jsxs("label",{children:[a.UI.manaSlots,":"]}),o.jsx("select",{className:"cursor-pointer border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black outline-0",onChange:z=>e({...s,manaSlots:Number(z.target.value)}),value:s.manaSlots,children:[1,2,3,4,5,6,7,8,9].map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("span",{className:"flex gap-2 items-center",children:[o.jsx("button",{type:"button",className:"border border-[#ebebeb] rounded p-0.5 min-w-[15mm] hover:bg-gray-200 hover:text-black",onClick:()=>v(!0),children:a.UI.background}),o.jsx(Zo,{open:u,onClose:()=>v(!1)})]})]})]}),o.jsx("div",{className:"rounded-[2mm] overflow-hidden shadow-highlight w-fit",children:o.jsx(Ko,{printing:f&&H})})]})},lr="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='1280'%20height='339.345'%20viewBox='0%200%20338.667%2089.785'%20xmlns:v='https://vecta.io/nano'%3e%3cg%20transform='translate(936.898%20-21.779)'%3e%3cpath%20clip-path='none'%20d='M-828.604%2039.734c-.697%200-1.289.506-1.398%201.195l-8.068%2051.165a1.31%201.31%200%200%200%201.294%201.513h9.568c.696%200%201.289-.507%201.398-1.195l2.37-15.025c.108-.688.701-1.195%201.398-1.195h8.699c10.164%200%2018.792-7.416%2020.368-17.465%201.589-10.134-6.328-18.971-17.549-18.993zm9.301%2011.422h6.96c5.73%200%207.596%203.381%207.006%207.12-.59%203.747-3.488%206.507-9.031%206.507h-7.084zm45.788%203.478c-2.416.009-5.196.504-8.317%201.804-7.159%202.984-10.597%209.151-12.057%2013.647%200%200-4.647%2013.717%205.852%2021.253%200%200%209.737%207.255%2020.698-.447l-.189%201.203a1.31%201.31%200%200%200%201.292%201.513h9.083c.697%200%201.289-.507%201.398-1.195l5.525-35.038a1.31%201.31%200%200%200-1.292-1.515h-9.083c-.697%200-1.29.507-1.398%201.195l-.297%201.886s-3.967-4.333-11.216-4.306zm.297%2011.067c1.043%200%201.997.144%202.853.419%203.919%201.258%206.141%205.023%205.498%209.104-.793%205.025-4.914%208.725-10.199%208.725-1.042%200-1.996-.143-2.853-.418-3.918-1.258-6.154-5.023-5.511-9.104.793-5.025%204.927-8.727%2010.212-8.727z'%20fill='%23003087'/%3e%3cpath%20clip-path='none'%20d='M-697.804%2039.734c-.697%200-1.289.506-1.398%201.195l-8.068%2051.165a1.31%201.31%200%200%200%201.294%201.513h9.568c.696%200%201.289-.507%201.398-1.195l2.37-15.025c.108-.688.701-1.195%201.398-1.195h8.699c10.164%200%2018.791-7.416%2020.366-17.465%201.59-10.134-6.326-18.971-17.547-18.993zm9.301%2011.422h6.96c5.73%200%207.596%203.381%207.006%207.12-.59%203.747-3.487%206.507-9.031%206.507h-7.084zm45.787%203.478c-2.416.009-5.196.504-8.317%201.804-7.159%202.984-10.597%209.151-12.057%2013.647%200%200-4.645%2013.717%205.854%2021.253%200%200%209.735%207.255%2020.697-.447l-.189%201.203a1.31%201.31%200%200%200%201.294%201.513h9.082c.697%200%201.289-.507%201.398-1.195l5.527-35.038a1.31%201.31%200%200%200-1.294-1.515h-9.083c-.697%200-1.29.507-1.398%201.195l-.297%201.886s-3.967-4.333-11.216-4.306zm.297%2011.067c1.043%200%201.997.144%202.853.419%203.919%201.258%206.141%205.023%205.498%209.104-.793%205.025-4.914%208.725-10.199%208.725-1.042%200-1.996-.143-2.853-.418-3.918-1.258-6.154-5.023-5.511-9.104.793-5.025%204.927-8.727%2010.212-8.727z'%20fill='%230070e0'/%3e%3cpath%20clip-path='none'%20d='M-745.92%2055.859c-.72%200-1.232.703-1.012%201.388l9.958%2030.901-9.004%2014.562c-.437.707.071%201.62.902%201.62h10.642a1.77%201.77%200%200%200%201.513-.854l27.811-46.007c.427-.707-.083-1.611-.909-1.611h-10.641a1.77%201.77%200%200%200-1.522.869l-10.947%2018.482-5.557-18.345c-.181-.597-.732-1.006-1.355-1.006z'%20fill='%23003087'/%3e%3cpath%20clip-path='none'%20d='M-609.107%2039.734c-.696%200-1.289.507-1.398%201.195l-8.07%2051.163a1.31%201.31%200%200%200%201.294%201.515h9.568c.696%200%201.289-.507%201.398-1.195l8.068-51.165a1.31%201.31%200%200%200-1.292-1.513z'%20fill='%230070e0'/%3e%3cpath%20clip-path='none'%20d='M-908.37%2039.734a2.59%202.59%200%200%200-2.556%202.185l-4.247%2026.936c.198-1.258%201.282-2.185%202.556-2.185h12.445c12.525%200%2023.153-9.137%2025.095-21.519a20.76%2020.76%200%200%200%20.245-2.793c-3.183-1.669-6.922-2.624-11.019-2.624z'%20fill='%23001c64'/%3e%3cpath%20clip-path='none'%20d='M-874.832%2042.359a20.76%2020.76%200%200%201-.245%202.793c-1.942%2012.382-12.571%2021.519-25.095%2021.519h-12.445c-1.273%200-2.358.926-2.556%202.185l-3.905%2024.752-2.446%2015.528a2.1%202.1%200%200%200%202.075%202.43h13.508a2.59%202.59%200%200%200%202.556-2.185l3.558-22.567a2.59%202.59%200%200%201%202.558-2.185h7.953c12.525%200%2023.153-9.137%2025.095-21.519%201.379-8.788-3.047-16.784-10.611-20.75z'%20fill='%230070e0'/%3e%3cpath%20clip-path='none'%20d='M-923.716%2021.779c-1.273%200-2.358.926-2.556%202.183l-10.6%2067.216c-.201%201.276.785%202.43%202.077%202.43h15.719l3.903-24.752%204.247-26.936a2.59%202.59%200%200%201%202.556-2.185h22.519c4.098%200%207.836.956%2011.019%202.624.218-11.273-9.084-20.58-21.873-20.58z'%20fill='%23003087'/%3e%3c/g%3e%3c/svg%3e",ir="/character-sheet/assets/monobank-logo-CKFXlDqG.png",cr=()=>{const[t,n]=w.useState(!1),{tokens:s}=D();return o.jsxs("div",{className:"w-full flex items-center flex-col pb-[30px] small:items-start small:pr-[2mm] small:pl-[2mm] gap-[5mm]",children:[o.jsx(ar,{}),o.jsxs("footer",{className:"text-white flex gap-[5mm] items-center justify-center",children:[o.jsx("span",{children:"Version 1.2"}),o.jsx("span",{children:"Author: Ivan Sapeha"}),o.jsx("button",{className:"border rounded-[2mm] font-Advent border-white pr-[2mm] pl-[2mm]  shadow-highlight",onClick:()=>n(!0),children:s.UI.supportMe}),o.jsx(Y,{open:t,onClose:()=>n(!1),children:o.jsxs("div",{className:"flex flex-col justify-center items-center gap-[5mm]",children:[o.jsx("a",{href:"https://www.paypal.com/donate/?hosted_button_id=PVN9XFL6RJCYS",className:"p-[5mm] bg-[#ffffff77] rounded-[4mm]",children:o.jsx("img",{src:lr,alt:"PayPal",className:"max-h-[100px]"})}),o.jsx("a",{href:"https://send.monobank.ua/jar/4obHoD4h7U",className:"p-[5mm] bg-[#ffffff77] rounded-[4mm] w-full flex justify-center",children:o.jsx("img",{src:ir,alt:"mono",className:"max-h-[100px]"})})]})})]})]})},dr={name:"ImagesDB",version:1.1,objectStoresMeta:[{store:"avatar",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]},{store:"background",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]},{store:"icon",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]}]},ur=document.getElementById("root");localStorage.setItem("loaded",String(Number(localStorage.getItem("loaded")??0)+1));q.initDB(dr);Vt.createRoot(ur).render(o.jsx(Me.StrictMode,{children:o.jsx(mn,{translations:dn,defaultLocale:"en",children:o.jsx(An,{children:o.jsx(cr,{})})})}));
