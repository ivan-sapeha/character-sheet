import{r as Mt,g as lr,c as Ke,a as st,b as Ao}from"./react-CTSu7R4i.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var ar={exports:{}},lt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=Mt(),Oo=Symbol.for("react.element"),Eo=Symbol.for("react.fragment"),Po=Object.prototype.hasOwnProperty,ko=zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jo={key:!0,ref:!0,__self:!0,__source:!0};function cr(t,n,r){var e,o={},i=null,s=null;r!==void 0&&(i=""+r),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(s=n.ref);for(e in n)Po.call(n,e)&&!jo.hasOwnProperty(e)&&(o[e]=n[e]);if(t&&t.defaultProps)for(e in n=t.defaultProps,n)o[e]===void 0&&(o[e]=n[e]);return{$$typeof:Oo,type:t,key:i,ref:s,props:o,_owner:ko.current}}lt.Fragment=Eo;lt.jsx=cr;lt.jsxs=cr;ar.exports=lt;var h=ar.exports,I=Mt();const Nt=lr(I);var dr={exports:{}};(()=>{var t={675:(e,o)=>{function i(s,l){return s.objectStoreNames.contains(l)}Object.defineProperty(o,"__esModule",{value:!0}),o.optionsGenerator=o.createTransaction=o.validateBeforeTransaction=o.validateStoreName=void 0,o.validateStoreName=i,o.validateBeforeTransaction=function(s,l,a){s||a("You need to use the openDatabase function to create a database before you query it!"),i(s,l)||a("objectStore does not exists: ".concat(l))},o.createTransaction=function(s,l){var a=s.transaction(l.storeName,l.dbMode);return a.onerror=l.error,a.oncomplete=l.complete,a.onabort=l.abort,a},o.optionsGenerator=function(s,l,a,c){return{storeName:l,dbMode:s,error:function(d){a(d)},complete:function(){c()},abort:function(d){a(d)}}}},823:(e,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDatabaseTransaction=void 0;var s=i(675);o.createDatabaseTransaction=function(l,a,c,d,u,p,m){p===void 0&&(p=s.createTransaction),m===void 0&&(m=s.optionsGenerator);var f=p(l,m(a,c,u,d));return{store:f.objectStore(c),transaction:f}}},401:(e,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createReadonlyTransaction=void 0;var s=i(84),l=i(823);o.createReadonlyTransaction=function(a,c,d,u){return(0,l.createDatabaseTransaction)(a,s.DBMode.readonly,c,d,u)}},987:(e,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createReadwriteTransaction=void 0;var s=i(84),l=i(823);o.createReadwriteTransaction=function(a,c,d,u){return(0,l.createDatabaseTransaction)(a,s.DBMode.readwrite,c,d,u)}},629:function(e,o,i){var s=this&&this.__createBinding||(Object.create?function(c,d,u,p){p===void 0&&(p=u);var m=Object.getOwnPropertyDescriptor(d,u);m&&!("get"in m?!d.__esModule:m.writable||m.configurable)||(m={enumerable:!0,get:function(){return d[u]}}),Object.defineProperty(c,p,m)}:function(c,d,u,p){p===void 0&&(p=u),c[p]=d[u]}),l=this&&this.__exportStar||function(c,d){for(var u in c)u==="default"||Object.prototype.hasOwnProperty.call(d,u)||s(d,c,u)};Object.defineProperty(o,"__esModule",{value:!0}),o.IndexedDB=o.AccessDB=void 0;var a=i(7);Object.defineProperty(o,"AccessDB",{enumerable:!0,get:function(){return a.AccessDB}}),Object.defineProperty(o,"IndexedDB",{enumerable:!0,get:function(){return a.IndexedDB}}),l(i(157),o)},7:function(e,o,i){var s=this&&this.__assign||function(){return s=Object.assign||function(g){for(var v,S=1,w=arguments.length;S<w;S++)for(var y in v=arguments[S])Object.prototype.hasOwnProperty.call(v,y)&&(g[y]=v[y]);return g},s.apply(this,arguments)},l=this&&this.__awaiter||function(g,v,S,w){return new(S||(S=Promise))(function(y,A){function T(R){try{z(w.next(R))}catch(x){A(x)}}function O(R){try{z(w.throw(R))}catch(x){A(x)}}function z(R){var x;R.done?y(R.value):(x=R.value,x instanceof S?x:new S(function(E){E(x)})).then(T,O)}z((w=w.apply(g,v||[])).next())})},a=this&&this.__generator||function(g,v){var S,w,y,A,T={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return A={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function O(z){return function(R){return function(x){if(S)throw new TypeError("Generator is already executing.");for(;T;)try{if(S=1,w&&(y=2&x[0]?w.return:x[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,x[1])).done)return y;switch(w=0,y&&(x=[2&x[0],y.value]),x[0]){case 0:case 1:y=x;break;case 4:return T.label++,{value:x[1],done:!1};case 5:T.label++,w=x[1],x=[0];continue;case 7:x=T.ops.pop(),T.trys.pop();continue;default:if(!((y=(y=T.trys).length>0&&y[y.length-1])||x[0]!==6&&x[0]!==2)){T=0;continue}if(x[0]===3&&(!y||x[1]>y[0]&&x[1]<y[3])){T.label=x[1];break}if(x[0]===6&&T.label<y[1]){T.label=y[1],y=x;break}if(y&&T.label<y[2]){T.label=y[2],T.ops.push(x);break}y[2]&&T.ops.pop(),T.trys.pop();continue}x=v.call(g,T)}catch(E){x=[6,E],w=0}finally{S=y=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([z,R])}}},c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessDB=o.IndexedDB=void 0;var d=c(i(689)),u=i(84),p=d.default.createContext({db:null,name:null,version:null}),m=p.Provider,f=p.Consumer;o.IndexedDB=function(g){var v=this,S=g.name,w=g.version,y=g.children;return g.objectStoresMeta.forEach(function(A){return l(v,void 0,void 0,function(){return a(this,function(T){switch(T.label){case 0:return[4,(0,u.openDatabase)(S,w,function(O){var z=O.currentTarget.result.createObjectStore(A.store,A.storeConfig);A.storeSchema.forEach(function(R){z.createIndex(R.name,R.keypath,R.options)})})];case 1:return T.sent(),[2]}})})}),d.default.createElement(m,{value:{db:null,name:S,version:w}},y)},o.AccessDB=function(g){var v=g.children,S=g.objectStore;return d.default.createElement(f,null,function(w){var y=w.db,A=w.name,T=w.version;return v(s({db:y},(0,u.DBOperations)(A,T,S)))})}},84:(e,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DBMode=o.DBOperations=o.CreateObjectStore=o.openDatabase=void 0;var s,l=i(675),a=i(987),c=i(401),d=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;function u(p,m,f){return new Promise(function(g,v){var S,w=d.open(p,m);w.onsuccess=function(){S=w.result,g(S)},w.onerror=function(){v("IndexedDB error: ".concat(w.error))},typeof f=="function"&&(w.onupgradeneeded=function(y){f(y,S)})})}o.openDatabase=u,o.CreateObjectStore=function(p,m,f){var g=d.open(p,m);g.onupgradeneeded=function(v){var S=v.target.result;f.forEach(function(w){if(!S.objectStoreNames.contains(w.store)){var y=S.createObjectStore(w.store,w.storeConfig);w.storeSchema.forEach(function(A){y.createIndex(A.name,A.keypath,A.options)})}}),S.close()},g.onsuccess=function(v){v.target.result.close()}},o.DBOperations=function(p,m,f){return{add:function(g,v){return new Promise(function(S,w){u(p,m).then(function(y){var A=(0,a.createReadwriteTransaction)(y,f,S,w).store.add(g,v);A.onsuccess=function(T){v=T.target.result,S(v)},A.onerror=function(T){return w(T)}})})},getByID:function(g){return new Promise(function(v,S){u(p,m).then(function(w){(0,l.validateBeforeTransaction)(w,f,S),(0,c.createReadonlyTransaction)(w,f,v,S).store.get(g).onsuccess=function(y){v(y.target.result)}})})},getAll:function(){return new Promise(function(g,v){u(p,m).then(function(S){(0,l.validateBeforeTransaction)(S,f,v);var w=(0,c.createReadonlyTransaction)(S,f,g,v).store.getAll();w.onerror=function(y){return v(y)},w.onsuccess=function(y){var A=y.target.result;g(A)}})})},update:function(g,v){return new Promise(function(S,w){u(p,m).then(function(y){(0,l.validateBeforeTransaction)(y,f,w);var A=(0,a.createReadwriteTransaction)(y,f,S,w),T=A.transaction,O=A.store;T.oncomplete=function(z){return S(z)},O.put(g,v)})})},deleteRecord:function(g){return new Promise(function(v,S){u(p,m).then(function(w){(0,l.validateBeforeTransaction)(w,f,S),(0,a.createReadwriteTransaction)(w,f,v,S).store.delete(g).onsuccess=function(y){return v(y)}})})},clear:function(){return new Promise(function(g,v){u(p,m).then(function(S){(0,l.validateBeforeTransaction)(S,f,v);var w=(0,a.createReadwriteTransaction)(S,f,g,v),y=w.store;w.transaction.oncomplete=function(){return g()},y.clear()})})},openCursor:function(g,v){return new Promise(function(S,w){u(p,m).then(function(y){(0,l.validateBeforeTransaction)(y,f,w),(0,c.createReadonlyTransaction)(y,f,S,w).store.openCursor(v).onsuccess=function(A){g(A),S()}})})},getByIndex:function(g,v){return new Promise(function(S,w){u(p,m).then(function(y){(0,l.validateBeforeTransaction)(y,f,w),(0,c.createReadonlyTransaction)(y,f,S,w).store.index(g).get(v).onsuccess=function(A){S(A.target.result)}})})}}},(s=o.DBMode||(o.DBMode={})).readonly="readonly",s.readwrite="readwrite"},157:(e,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.useIndexedDB=o.initDB=void 0;var s=i(689),l=i(84),a={version:null,name:null};o.initDB=function(c){var d=c.name,u=c.version,p=c.objectStoresMeta;a.name=d,a.version=u,Object.freeze(a),(0,l.CreateObjectStore)(d,u,p)},o.useIndexedDB=function(c){if(!a.name||!a.version)throw new Error("Please, initialize the DB before the use.");return(0,s.useMemo)(function(){return(0,l.DBOperations)(a.name,a.version,c)},[a,c])}},689:e=>{e.exports=Mt()}},n={},r=function e(o){var i=n[o];if(i!==void 0)return i.exports;var s=n[o]={exports:{}};return t[o].call(s.exports,s,s.exports,e),s.exports}(629);dr.exports=r})();var pe=dr.exports,ur={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function r(){for(var i="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(i=o(i,e(l)))}return i}function e(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var l in i)n.call(i,l)&&i[l]&&(s=o(s,l));return s}function o(i,s){return s?i?i+" "+s:i+s:i}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(ur);var Lo=ur.exports;const M=lr(Lo),Mo="_A4_hnln6_1",No={A4:Mo},Do=({children:t,className:n,background:r})=>{const e=r?{backgroundImage:`url(${r})`}:void 0;return h.jsx("div",{className:M(No.A4,n),style:e,children:t})},Bo="_button_l2hlt_1",Go={button:Bo},xe=({children:t,...n})=>h.jsx("button",{...n,type:"button",className:M(Go.button,n.className),children:t});var Ho=typeof Ke=="object"&&Ke&&Ke.Object===Object&&Ke,Fo=typeof self=="object"&&self&&self.Object===Object&&self;Ho||Fo||Function("return this")();var hr=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Zt(t,n,r,e){const o=I.useRef(n);hr(()=>{o.current=n},[n]),I.useEffect(()=>{const i=window;if(!(i&&i.addEventListener))return;const s=l=>{o.current(l)};return i.addEventListener(t,s,e),()=>{i.removeEventListener(t,s,e)}},[t,r,e])}function Qt(t){const n=I.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return hr(()=>{n.current=t},[t]),I.useCallback((...r)=>{var e;return(e=n.current)==null?void 0:e.call(n,...r)},[n])}var mt=typeof window>"u";function Ie(t,n,r={}){const{initializeWithValue:e=!0}=r,o=I.useCallback(p=>r.serializer?r.serializer(p):JSON.stringify(p),[r]),i=I.useCallback(p=>{if(r.deserializer)return r.deserializer(p);if(p==="undefined")return;const m=n instanceof Function?n():n;let f;try{f=JSON.parse(p)}catch(g){return console.error("Error parsing JSON:",g),m}return f},[r,n]),s=I.useCallback(()=>{const p=n instanceof Function?n():n;if(mt)return p;try{const m=window.localStorage.getItem(t);return m?i(m):p}catch(m){return console.warn(`Error reading localStorage key “${t}”:`,m),p}},[n,t,i]),[l,a]=I.useState(()=>e?s():n instanceof Function?n():n),c=Qt(p=>{mt&&console.warn(`Tried setting localStorage key “${t}” even though environment is not a client`);try{const m=p instanceof Function?p(s()):p;window.localStorage.setItem(t,o(m)),a(m),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))}catch(m){console.warn(`Error setting localStorage key “${t}”:`,m)}}),d=Qt(()=>{mt&&console.warn(`Tried removing localStorage key “${t}” even though environment is not a client`);const p=n instanceof Function?n():n;window.localStorage.removeItem(t),a(p),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))});I.useEffect(()=>{a(s())},[t]);const u=I.useCallback(p=>{p.key&&p.key!==t||a(s())},[t,s]);return Zt("storage",u),Zt("local-storage",u),[l,c,d]}const fr={name:"Name",surname:"Surname",dice:"Dice",background:"Background",print:"Print",edit:"Edit",save:"Save",manaTracker:"Mana tracker",manaSlots:"Mana slots",changeCharacter:"Change character",language:"Language",passives:"Passive Effects",passiveName:"Name",preview:"Preview",passivesGallery:"Passives Gallery",addPassive:"Add Passive",search:"Search",defaultPassive:"Passive"},pr={race:"Race",class:"Class",age:"Age",height:"Height",weight:"Weight",background:"Background",languages:"Languages"},mr={successes:"Successes",failures:"Failures"},gr={title:"Attacks and Weapons",name:"Name",attackBonus:"Attack Bonus",damageType:"Damage/Type",spellSlots:"Spell slot tracker"},vr={strength:"Str",constitution:"Const",dexterity:"Dex",intelligence:"Int",wisdom:"Wis",charisma:"Char"},Sr={athletics:"Athletics",acrobatics:"Acrobatics",stealth:"Stealth",sleightOfHand:"Sleight of Hand",history:"History",arcana:"Arcana",investigation:"Investigation",nature:"Nature",religion:"Religion",insight:"Insight",survival:"Survival",animalHandling:"Animal Handling",medicine:"Medicine",perception:"Perception",persuasion:"Persuasion",intimidation:"Intimidation",performance:"Performance",deception:"Deception"},_r={title:"Speed",walk:"Walk",run:"Run",climb:"Climb",swim:"Swim"},wr={title:"Skills",initiative:"Initiative",proficiency:"Proficiency",perception:"Perception",inspiration:"Inspiration"},yr={title:"Inventory",money:{copper:"CP",silver:"SP",gold:"GP",electrum:"EP",platinum:"PP"}},Cr={title:"Notes"},et={UI:fr,miniLore:pr,deathSaves:mr,weapons:gr,stats:vr,checks:Sr,speed:_r,skills:wr,inventory:yr,notes:Cr},Uo=Object.freeze(Object.defineProperty({__proto__:null,UI:fr,checks:Sr,deathSaves:mr,default:et,inventory:yr,miniLore:pr,notes:Cr,skills:wr,speed:_r,stats:vr,weapons:gr},Symbol.toStringTag,{value:"Module"})),Wo="modulepreload",$o=function(t){return"/character-sheet/"+t},Yt={},en=function(n,r,e){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(r.map(a=>{if(a=$o(a),a in Yt)return;Yt[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":Wo,c||(u.as="script"),u.crossOrigin="",u.href=a,l&&u.setAttribute("nonce",l),document.head.appendChild(u),c)return new Promise((p,m)=>{u.addEventListener("load",p),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return o.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return n().catch(i)})},Vo={en:()=>en(()=>Promise.resolve().then(()=>Uo),void 0),ukr:()=>en(()=>import("./ukr-4zNgVfth.js"),[])},qo={ukr:"Українська 🇺🇦",en:"English 🇬🇧"},br=Nt.createContext({translations:{},defaultLocale:"en",currentLocale:"en",setCurrentLocale:()=>{},loadedTranslations:{},setLoadedTranslations:()=>{},tokens:et,setTokens:()=>{}}),Ko=({children:t,translations:n,defaultLocale:r})=>{const[e,o]=Ie("locale",r),[i,s]=I.useState({en:et}),[l,a]=I.useState(et);return h.jsx(br.Provider,{value:{translations:n,defaultLocale:r,currentLocale:e,setCurrentLocale:o,loadedTranslations:i,setLoadedTranslations:s,tokens:l,setTokens:a},children:t})};function J(){const{translations:t,setLoadedTranslations:n,loadedTranslations:r,setCurrentLocale:e,tokens:o,setTokens:i,currentLocale:s}=I.useContext(br),l=a=>{r[a]?(e(a),i(r[a??"en"])):t[a]().then(c=>{n({...r,[a]:c}),e(a),i(c)})};return I.useEffect(()=>{l(s)},[s]),{tokens:o,load:l,availableLanguages:qo,currentLocale:s}}const Jo="/character-sheet/assets/agi-hd-transparent-5FdaLmfc.png",Xo="/character-sheet/assets/charisma-hd-transparent-BVWWKtm_.png",Zo="/character-sheet/assets/const-hd-transparent-BsN6gGmj.png",Qo="/character-sheet/assets/int-hd-transparent-DJCH2v9I.png",Yo="/character-sheet/assets/str-hd-transparent-BKl2Ky5q.png",ei="/character-sheet/assets/wis-hd-transparent-BLnFUqED.png";var Rt=(t=>(t.d6="d6",t.d8="d8",t.d10="d10",t.d12="d12",t))(Rt||{});const xr={strength:{value:10,save:0,checks:{athletics:0}},constitution:{value:10,save:0,checks:void 0},dexterity:{value:10,save:0,checks:{acrobatics:0,stealth:0,sleightOfHand:0}},intelligence:{value:10,save:0,checks:{arcana:0,history:0,investigation:0,nature:0,religion:0}},wisdom:{value:10,save:0,checks:{animalHandling:0,insight:0,medicine:0,perception:0,survival:0}},charisma:{value:10,save:0,checks:{deception:0,intimidation:0,performance:0,persuasion:0}}},tn={strength:{icon:Yo,color:"#790000"},constitution:{icon:Zo,color:"#7a4501"},dexterity:{icon:Jo,color:"#005705"},intelligence:{icon:Qo,color:"#003d64"},wisdom:{icon:ei,color:"#4b0075"},charisma:{icon:Xo,color:"#770071"}},tt={id:-1,dice:"d8",name:"",surname:"",photo:-1,backgroundImage:-1,stats:xr,manaSlots:4,manaTracker:!1,passives:[]},ti=t=>JSON.parse(JSON.stringify(t)),Rr=t=>Object.keys(t),nn=t=>Object.entries(t),ni=(t,n)=>{const r=[];for(let e=0;e<t.length;e+=n)r.push(t.slice(e,e+n));return r},ri=t=>{const n=t.split(/\s{0}(?=[A-Z])/),r=n.pop(),e=[...r].findIndex(o=>!Number.isNaN(Number(o)));if(e<0)return n.concat(r).join(" ");{const o=r.substring(0,e),i=r.substring(e);return n.concat([o,i]).join(" ")}},oi=(t,n,r)=>{const e=t.replaceAll(" ","").toLowerCase(),o=n.replaceAll(" ","").toLowerCase();if(!e.includes(o))return h.jsx(h.Fragment,{children:t});let i=e.indexOf(o),s=t.substring(0,i);i+=s.length-s.replaceAll(" ","").length,s=t.substring(0,i);let l=t.substring(i,i+n.length);const a=i+n.length+l.length-l.replaceAll(" ","").length;l=t.substring(i,a);const c=t.substring(a,1/0);return h.jsxs(h.Fragment,{children:[s,h.jsx("span",{style:{color:r,fontWeight:"bold"},children:l}),c]})},Tr=t=>Math.floor((t-10)/2),Ir=Nt.createContext({currentCharacter:tt,updateCurrentCharacter:()=>{},isEdit:!1,toggleEdit:()=>!1}),ii=({children:t})=>{const[n]=Ie("lastCharacter",0),[r]=Ie("characters",[]),[e,o]=I.useState(r[n]??tt),[i,s]=I.useState(!1),l=()=>(s(!i),!i);return h.jsx(Ir.Provider,{value:{currentCharacter:e,updateCurrentCharacter:a=>o(ti(a??tt)),isEdit:i,toggleEdit:l},children:t})},W=()=>{const{currentCharacter:t,updateCurrentCharacter:n,isEdit:r,toggleEdit:e}=I.useContext(Ir),[o,i]=Ie("characters",[]),s=f=>{i(f.toSorted((g,v)=>g.id-v.id))},[l,a]=Ie("lastCharacter",t.id),c=()=>{let f=o.length;for(;o.find(v=>v.id===f);)f++;const g={...tt,id:f};return s([...o,g]),g},d=f=>{if(f>=o.length||f<0)throw new Error(`Character with id: ${f} does not exist.`);return o.find(g=>g.id===f)},u=o.find(f=>f.id===l);return{currentCharacter:t,updateCurrentCharacter:n,addNewCharacter:c,allCharacters:o,getCharacterByID:d,lastSelectedCharacter:u,saveCharacter:f=>{const g=o.findIndex(v=>v.id===f.id);if(g===-1){s([...o,{...f,id:o.length}]),a(o.length);return}o.splice(g,1,f),s(o),a(f.id)},setLastCharacter:a,isEdit:r,toggleEdit:e,removeCharacter:f=>{const g=o.findIndex(v=>v.id===f);g!==-1&&(o.splice(g,1),s(o),l===f&&o.length>=1&&a(o[0].id))}}},si="_statContainer_ek0s8_1",li="_saveSection_ek0s8_9",ai="_text_ek0s8_37",ci="_saveBonus_ek0s8_41",di="_stat_ek0s8_1",ui="_statTop_ek0s8_56",hi="_statTopIcon_ek0s8_64",fi="_statTopIconImage_ek0s8_70",pi="_statTopValues_ek0s8_75",mi="_statTopValuesBonus_ek0s8_82",gi="_statName_ek0s8_90",vi="_statButton_ek0s8_108",Si="_leftButton_ek0s8_130",_i="_rightButton_ek0s8_133",wi="_button_ek0s8_136",yi="_buttonTop_ek0s8_143",Ci="_buttonBottom_ek0s8_146",G={statContainer:si,saveSection:li,text:ai,saveBonus:ci,stat:di,statTop:ui,statTopIcon:hi,statTopIconImage:fi,statTopValues:pi,statTopValuesBonus:mi,statName:gi,statButton:vi,leftButton:Si,rightButton:_i,button:wi,buttonTop:yi,buttonBottom:Ci},bi=({data:t,color:n,icon:r,name:e})=>{const{isEdit:o,currentCharacter:i,updateCurrentCharacter:s}=W(),{tokens:l}=J(),{save:a,value:c}=t,d=Tr(c),u=d+(a?Number(a):0),p=()=>{const v=i.stats[e];v.value=v.value?v.value+1:1,s(i)},m=()=>{const v=i.stats[e];v.value=v.value?v.value-1:-1,s(i)},f=()=>{const v=i.stats[e];v.save=v.save?v.save+1:1,s(i)},g=()=>{const v=i.stats[e];v.save=v.save?v.save-1:-1,s(i)};return h.jsxs("div",{className:G.statContainer,style:{color:n},children:[o&&h.jsxs(h.Fragment,{children:[h.jsx(xe,{className:M(G.statButton,G.leftButton),onClick:m,children:"-"}),h.jsx(xe,{className:M(G.statButton,G.rightButton),onClick:p,children:"+"})]}),h.jsxs("div",{className:G.stat,children:[h.jsxs("div",{className:G.statTop,children:[h.jsx("div",{className:G.statTopIcon,children:h.jsx("img",{className:G.statTopIconImage,src:r})}),h.jsxs("div",{className:G.statTopValues,children:[h.jsx("span",{className:M(G.text),children:c}),h.jsx("span",{className:M(G.text,G.statTopValuesBonus),children:d>0?`+${d}`:d})]})]}),h.jsx("div",{className:G.statName,children:l.stats[e]})]}),h.jsxs("div",{className:G.saveSection,children:[o&&h.jsxs(h.Fragment,{children:[h.jsx(xe,{className:M(G.button,G.buttonTop),onClick:f,children:"+"}),h.jsx(xe,{className:M(G.button,G.buttonBottom),onClick:g,children:"-"})]}),h.jsx("span",{className:M(G.text,{[G.saveBonus]:u!==d}),children:u})]})]})},xi=()=>{const t=document.createElement("div");t.style.width="100mm",t.style.height="1mm",t.style.position="absolute",t.style.top="-100%",document.body.appendChild(t);const n=t.offsetWidth/100;return document.body.removeChild(t),n},Ri=xi(),Be=t=>t*Ri,rn=(t,n,r,e,o)=>{const i=(o-90)*Math.PI/180;return{x:t+r*Math.cos(i),y:n+e*Math.sin(i)}},on=(t,n,r,e,o,i)=>{const s=rn(t,n,r,e,i),l=rn(t,n,r,e,o),a=i-o<=180?"0":"1";return["M",l.x,l.y,"A",r,e,0,a,1,s.x,s.y].join(" ")},sn=({text:t,side:n})=>{const r=Be(19.5),e=Be(42/2),o=n==="left"?on(r+12,e+20,r-10,e+5,250,-25):on(r-15,e+20,r+5,e,25,110),i=I.useId();return h.jsxs("svg",{viewBox:`0 0 ${r*2} ${e*2}`,width:r*2,height:e*2,children:[h.jsx("defs",{children:h.jsx("path",{id:i,d:o})}),h.jsx("text",{fill:"#50391b",children:h.jsx("textPath",{startOffset:`${(1-t.length/12)*50}%`,method:"stretch",href:`#${i}`,children:t})})]})},Ti="_dialog_zzydx_1",Ii={dialog:Ti},Ue=({children:t,open:n,onClose:r})=>{const e=I.useRef(null);return I.useEffect(()=>{var o,i;n?(o=e.current)==null||o.showModal():(i=e.current)==null||i.close()},[n]),h.jsx(h.Fragment,{children:st.createPortal(h.jsxs("dialog",{className:Ii.dialog,ref:e,onClose:o=>{o.stopPropagation(),r()},children:[h.jsx("div",{className:"absolute top-[2mm] right-[3mm] cursor-pointer",onClick:()=>{var o;(o=e.current)==null||o.close()},children:"乂"}),t]}),document.getElementById("root"))})},le={filter:"saturate(0.25) brightness(0.5)"},Dt=t=>new Promise((n,r)=>{const e=new FileReader;e.onload=()=>n(e.result),e.onerror=r,e.readAsDataURL(t)}),Ai=t=>`data:image/svg+xml;base64,${btoa(t)}`;function Te(){function t(){return Math.floor(Math.random()*16).toString(16)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const o=t();return e==="x"?o:e==="y"?(parseInt(o,16)&3|8).toString(16):o})}const zi="_player_i9bge_1",Oi="_playerCircle_i9bge_9",Ei="_playerCircleAvatar_i9bge_14",Pi="_edit_i9bge_22",ki="_avatar_i9bge_36",ji="_name_i9bge_40",Li="_surname_i9bge_67",Mi="_lvl_i9bge_93",Ni="_bottomBar_i9bge_104",Di="_textPlaceholder_i9bge_113",Bi="_hp_i9bge_143",Gi="_dice_i9bge_147",Hi="_tempHp_i9bge_155",Fi="_armor_i9bge_160",Ui="_icon_i9bge_164",Wi="_hpIcon_i9bge_172",$i="_tempHpIcon_i9bge_175",Vi="_armorIcon_i9bge_178",D={player:zi,playerCircle:Oi,playerCircleAvatar:Ei,edit:Pi,avatar:ki,name:ji,surname:Li,lvl:Mi,bottomBar:Ni,textPlaceholder:Di,hp:Bi,dice:Gi,tempHp:Hi,armor:Fi,icon:Ui,hpIcon:Wi,tempHpIcon:$i,armorIcon:Vi},ln="/character-sheet/assets/scroll-BzUqBIk-.png",at="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20448%20512'%20fill='white'%20stroke='black'%3e%3c!--!Font%20Awesome%20Free%206.6.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M135.2%2017.7L128%2032%2032%2032C14.3%2032%200%2046.3%200%2064S14.3%2096%2032%2096l384%200c17.7%200%2032-14.3%2032-32s-14.3-32-32-32l-96%200-7.2-14.3C307.4%206.8%20296.3%200%20284.2%200L163.8%200c-12.1%200-23.2%206.8-28.6%2017.7zM416%20128L32%20128%2053.2%20467c1.6%2025.3%2022.6%2045%2047.9%2045l245.8%200c25.3%200%2046.3-19.7%2047.9-45L416%20128z'/%3e%3c/svg%3e",Ar=({isPreview:t,character:n})=>{const r=I.useRef(null),{add:e,getByID:o,getAll:i,deleteRecord:s}=pe.useIndexedDB("avatar"),{isEdit:l,updateCurrentCharacter:a}=W(),[c,d]=I.useState(Te()),u=()=>{l&&v(!0)},p=async T=>{const O=T.target.files[0];if(O){const z=O,R=await Dt(z);await e({name:z.name,image:R}),d(Te()),r.current.value=""}},m=async T=>{await s(T),d(Te())},f=T=>{a({...n,photo:T}),v(!1)},[g,v]=I.useState(!1),[S,w]=I.useState(""),[y,A]=I.useState([]);return I.useEffect(()=>{(async()=>{const T=await i();A(T)})(),n.photo!==-1?o(n.photo).then(T=>T&&w(T.image)):w("")},[g,n,c]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:D.player,children:h.jsxs("div",{className:D.playerCircle,children:[h.jsx("div",{className:M(D.playerCircleAvatar,{[D.edit]:l&&!t}),onClick:u,children:h.jsx("div",{className:D.avatar,style:{backgroundImage:S?`url(${S})`:void 0,backgroundSize:"cover",backgroundPosition:"center",height:"100%",width:"auto"}})}),h.jsxs("div",{className:D.name,children:[h.jsx("img",{src:ln,alt:"scroll"}),h.jsx(sn,{text:n.name,side:"left"})]}),!t&&h.jsx("div",{className:D.lvl,style:l?le:void 0}),h.jsxs("div",{className:D.surname,children:[h.jsx("img",{src:ln,alt:"scroll"}),h.jsx(sn,{text:n.surname,side:"right"})]}),!t&&h.jsxs("div",{className:D.bottomBar,style:l?le:void 0,children:[h.jsxs("div",{className:D.hp,children:[h.jsx("span",{className:M(D.icon,D.hpIcon)}),h.jsx("span",{className:D.dice,children:n.dice}),h.jsx("span",{className:D.textPlaceholder})]}),h.jsxs("div",{className:D.tempHp,children:[h.jsx("span",{className:M(D.icon,D.tempHpIcon)}),h.jsx("span",{className:D.textPlaceholder})]}),h.jsxs("div",{className:D.armor,children:[h.jsx("span",{className:M(D.icon,D.armorIcon)}),h.jsx("span",{className:D.textPlaceholder})]})]})]})}),h.jsx(Ue,{open:g,onClose:()=>v(!1),children:h.jsxs("div",{className:"flex flex-wrap max-w-[120mm] gap-[3mm]",children:[h.jsxs("div",{className:"w-[25mm] aspect-square rounded-full overflow-hidden flex justify-center items-center bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl cursor-pointer",onClick:()=>r.current.click(),children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:p,ref:r}),"+"]}),y.map(T=>h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-[25mm] aspect-square rounded-full overflow-hidden hover:brightness-150",children:h.jsx("div",{style:{backgroundImage:`url('${T.image}')`,backgroundSize:"cover",width:"100%",height:"100%",cursor:"pointer"},onClick:()=>f(T.id)})}),h.jsx("img",{src:at,className:"w-[4mm] absolute top-0 right-0 p-[2mm] box-content cursor-pointer hover:invert",onClick:()=>m(T.id)})]},T.id))]})})]})},qi="_death_tjtk9_1",Ki="_save_tjtk9_29",gt={death:qi,save:Ki},Ji=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsxs("div",{className:"flex flex-col w-full gap-[1mm]",style:n?le:void 0,children:[h.jsxs("div",{className:M(gt.death,gt.save),children:[h.jsx("b",{children:t.deathSaves.successes}),h.jsx("div",{}),h.jsx("span",{}),h.jsx("div",{}),h.jsx("span",{}),h.jsx("div",{})]}),h.jsxs("div",{className:gt.death,children:[h.jsx("b",{children:t.deathSaves.failures}),h.jsx("div",{}),h.jsx("span",{}),h.jsx("div",{}),h.jsx("span",{}),h.jsx("div",{})]})]})},Xi="_fullStat_11ti6_1",Zi="_checks_11ti6_40",Qi="_check_11ti6_40",Yi="_text_11ti6_61",es="_value_11ti6_62",ts="_button_11ti6_66",ns="_buttonLeft_11ti6_95",rs="_buttonRight_11ti6_98",os="_bonus_11ti6_126",se={fullStat:Xi,checks:Zi,check:Qi,text:Yi,value:es,button:ts,buttonLeft:ns,buttonRight:rs,bonus:os},is=({data:t,name:n,color:r,icon:e})=>h.jsxs("div",{className:se.fullStat,style:{border:`2px solid ${r}`},children:[h.jsx(bi,{data:t,name:n,color:r,icon:e}),h.jsx("div",{className:se.checks,children:t.checks&&Object.entries(t.checks).map(([o,i])=>h.jsx(ss,{name:o,statName:n,value:i,modifier:Tr(t.value)},o))})]}),ss=({name:t,value:n,statName:r,modifier:e})=>{const{isEdit:o,currentCharacter:i,updateCurrentCharacter:s}=W(),{tokens:l}=J(),a=()=>{const d=i.stats[r].checks;d[t]=d[t]?d[t]+1:1,s(i)},c=()=>{const d=i.stats[r].checks;d[t]=d[t]?d[t]-1:-1,s(i)};return h.jsxs("div",{className:se.check,children:[h.jsxs("span",{className:M(se.text),children:[o&&h.jsxs(h.Fragment,{children:[h.jsx(xe,{className:M(se.button,se.buttonLeft),onClick:c,children:"-"}),h.jsx(xe,{className:M(se.button,se.buttonRight),onClick:a,children:"+"})]}),l.checks[t]]}),h.jsx("span",{className:M(se.value,{[se.bonus]:n>0}),children:n+e})]})},ls="_inventory_7incy_1",as="_header_7incy_13",cs="_money_7incy_23",ds="_moneyIcon_7incy_43",us="_copper_7incy_49",hs="_silver_7incy_52",fs="_gold_7incy_55",ps="_platinum_7incy_58",ms="_electrum_7incy_61",X={inventory:ls,header:as,money:cs,moneyIcon:ds,copper:us,silver:hs,gold:fs,platinum:ps,electrum:ms},gs=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsxs("div",{className:X.inventory,style:n?le:void 0,children:[h.jsxs("div",{className:X.money,children:[h.jsxs("span",{children:[h.jsx("span",{className:M(X.copper,X.moneyIcon)}),t.inventory.money.copper,":"]}),h.jsxs("span",{children:[h.jsx("span",{className:M(X.silver,X.moneyIcon)}),t.inventory.money.silver,":"]}),h.jsxs("span",{children:[h.jsx("span",{className:M(X.gold,X.moneyIcon)}),t.inventory.money.gold,":"]})]}),h.jsx("h1",{className:X.header,children:h.jsx("span",{children:t.inventory.title})}),h.jsxs("div",{className:X.money,children:[h.jsxs("span",{children:[h.jsx("span",{className:M(X.electrum,X.moneyIcon)}),t.inventory.money.electrum,":"]}),h.jsxs("span",{children:[h.jsx("span",{className:M(X.platinum,X.moneyIcon)}),t.inventory.money.platinum,":"]})]})]})},vs="_miniLore_1b425_1",Ss="_list_1b425_8",an={miniLore:vs,list:Ss},_s=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsx("div",{className:an.miniLore,style:n?le:void 0,children:h.jsxs("ul",{className:an.list,children:[h.jsxs("li",{children:[t.miniLore.race,":"]}),h.jsxs("li",{children:[t.miniLore.class,":"]}),h.jsxs("li",{children:[t.miniLore.age,":"]}),h.jsxs("li",{children:[t.miniLore.height,":"]}),h.jsxs("li",{children:[t.miniLore.weight,":"]}),h.jsxs("li",{children:[t.miniLore.background,":"]}),h.jsxs("li",{children:[t.miniLore.languages,":"]})]})})},ws="_notes_1b21m_1",ys={notes:ws},Cs=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsx("div",{className:ys.notes,style:n?le:void 0,children:h.jsx("h1",{children:t.notes.title})})};function H(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Ae(t){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ae(t)}function bs(t,n){if(Ae(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,n||"default");if(Ae(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function zr(t){var n=bs(t,"string");return Ae(n)=="symbol"?n:n+""}function cn(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,zr(e.key),e)}}function F(t,n,r){return n&&cn(t.prototype,n),r&&cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ee(t,n){if(n&&(Ae(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K(t)}function Tt(t,n){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Tt(t,n)}function te(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Tt(t,n)}function _(t,n,r){return(n=zr(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Or(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Er(t){function n(r){var e=this.constructor.getDerivedStateFromProps(t,r);return e??null}this.setState(n.bind(this))}function Pr(t,n){try{var r=this.props,e=this.state;this.props=t,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,e)}finally{this.props=r,this.state=e}}Or.__suppressDeprecationWarning=!0;Er.__suppressDeprecationWarning=!0;Pr.__suppressDeprecationWarning=!0;function We(t){var n=t.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function")return t;var r=null,e=null,o=null;if(typeof n.componentWillMount=="function"?r="componentWillMount":typeof n.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof n.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof n.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof n.componentWillUpdate=="function"?o="componentWillUpdate":typeof n.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),r!==null||e!==null||o!==null){var i=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(e!==null?`
  `+e:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(n.componentWillMount=Or,n.componentWillReceiveProps=Er),typeof n.getSnapshotBeforeUpdate=="function"){if(typeof n.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=Pr;var l=n.componentDidUpdate;n.componentDidUpdate=function(c,d,u){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;l.call(this,c,d,p)}}return t}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)({}).hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},re.apply(null,arguments)}function kr(t){var n,r,e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object")if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=kr(t[n]))&&(e&&(e+=" "),e+=r);else for(n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function oe(){for(var t,n,r=0,e="";r<arguments.length;)(t=arguments[r++])&&(n=kr(t))&&(e&&(e+=" "),e+=n);return e}function dn(t){var n=t.cellCount,r=t.cellSize,e=t.computeMetadataCallback,o=t.computeMetadataCallbackProps,i=t.nextCellsCount,s=t.nextCellSize,l=t.nextScrollToIndex,a=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(n!==i||(typeof r=="number"||typeof s=="number")&&r!==s)&&(e(o),a>=0&&a===l&&c())}function xs(t,n){if(t==null)return{};var r={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(n.includes(e))continue;r[e]=t[e]}return r}function Le(t,n){if(t==null)return{};var r,e,o=xs(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(e=0;e<i.length;e++)r=i[e],n.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Rs=function(){function t(n){var r=n.cellCount,e=n.cellSizeGetter,o=n.estimatedCellSize;H(this,t),_(this,"_cellSizeAndPositionData",{}),_(this,"_lastMeasuredIndex",-1),_(this,"_lastBatchedIndex",-1),_(this,"_cellCount",void 0),_(this,"_cellSizeGetter",void 0),_(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=r,this._estimatedCellSize=o}return F(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(r){var e=r.cellCount,o=r.estimatedCellSize,i=r.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=o,this._cellSizeGetter=i}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(r){if(r<0||r>=this._cellCount)throw Error("Requested index ".concat(r," is outside of range 0..").concat(this._cellCount));if(r>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),o=e.offset+e.size,i=this._lastMeasuredIndex+1;i<=r;i++){var s=this._cellSizeGetter({index:i});if(s===void 0||isNaN(s))throw Error("Invalid size returned for cell ".concat(i," of value ").concat(s));s===null?(this._cellSizeAndPositionData[i]={offset:o,size:0},this._lastBatchedIndex=r):(this._cellSizeAndPositionData[i]={offset:o,size:s},o+=s,this._lastMeasuredIndex=r)}return this._cellSizeAndPositionData[r]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var r=this.getSizeAndPositionOfLastMeasuredCell(),e=r.offset+r.size,o=this._cellCount-this._lastMeasuredIndex-1,i=o*this._estimatedCellSize;return e+i}},{key:"getUpdatedOffsetForIndex",value:function(r){var e=r.align,o=e===void 0?"auto":e,i=r.containerSize,s=r.currentOffset,l=r.targetIndex;if(i<=0)return 0;var a=this.getSizeAndPositionOfCell(l),c=a.offset,d=c-i+a.size,u;switch(o){case"start":u=c;break;case"end":u=d;break;case"center":u=c-(i-a.size)/2;break;default:u=Math.max(d,Math.min(c,s));break}var p=this.getTotalSize();return Math.max(0,Math.min(p-i,u))}},{key:"getVisibleCellRange",value:function(r){var e=r.containerSize,o=r.offset,i=this.getTotalSize();if(i===0)return{};var s=o+e,l=this._findNearestCell(o),a=this.getSizeAndPositionOfCell(l);o=a.offset+a.size;for(var c=l;o<s&&c<this._cellCount-1;)c++,o+=this.getSizeAndPositionOfCell(c).size;return{start:l,stop:c}}},{key:"resetCell",value:function(r){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,r-1)}},{key:"_binarySearch",value:function(r,e,o){for(;e<=r;){var i=e+Math.floor((r-e)/2),s=this.getSizeAndPositionOfCell(i).offset;if(s===o)return i;s<o?e=i+1:s>o&&(r=i-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(r,e){for(var o=1;r<this._cellCount&&this.getSizeAndPositionOfCell(r).offset<e;)r+=o,o*=2;return this._binarySearch(Math.min(r,this._cellCount-1),Math.floor(r/2),e)}},{key:"_findNearestCell",value:function(r){if(isNaN(r))throw Error("Invalid offset ".concat(r," specified"));r=Math.max(0,r);var e=this.getSizeAndPositionOfLastMeasuredCell(),o=Math.max(0,this._lastMeasuredIndex);return e.offset>=r?this._binarySearch(o,0,r):this._exponentialSearch(o,r)}}]),t}(),Ts=15e5,Is=16777100,As=function(){return typeof window<"u"},zs=function(){return!!window.chrome},Os=function(){return As()&&zs()?Is:Ts},un=function(){function t(n){var r=n.maxScrollSize,e=r===void 0?Os():r,o=Le(n,["maxScrollSize"]);H(this,t),_(this,"_cellSizeAndPositionManager",void 0),_(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Rs(o),this._maxScrollSize=e}return F(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(r){this._cellSizeAndPositionManager.configure(r)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(r){var e=r.containerSize,o=r.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize(),l=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:s});return Math.round(l*(s-i))}},{key:"getSizeAndPositionOfCell",value:function(r){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(r)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(r){var e=r.align,o=e===void 0?"auto":e,i=r.containerSize,s=r.currentOffset,l=r.targetIndex;s=this._safeOffsetToOffset({containerSize:i,offset:s});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:i,currentOffset:s,targetIndex:l});return this._offsetToSafeOffset({containerSize:i,offset:a})}},{key:"getVisibleCellRange",value:function(r){var e=r.containerSize,o=r.offset;return o=this._safeOffsetToOffset({containerSize:e,offset:o}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:o})}},{key:"resetCell",value:function(r){this._cellSizeAndPositionManager.resetCell(r)}},{key:"_getOffsetPercentage",value:function(r){var e=r.containerSize,o=r.offset,i=r.totalSize;return i<=e?0:o/(i-e)}},{key:"_offsetToSafeOffset",value:function(r){var e=r.containerSize,o=r.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize();if(i===s)return o;var l=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:i});return Math.round(l*(s-e))}},{key:"_safeOffsetToOffset",value:function(r){var e=r.containerSize,o=r.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize();if(i===s)return o;var l=this._getOffsetPercentage({containerSize:e,offset:o,totalSize:s});return Math.round(l*(i-e))}}]),t}();function ze(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n={};return function(r){var e=r.callback,o=r.indices,i=Object.keys(o),s=!t||i.every(function(a){var c=o[a];return Array.isArray(c)?c.length>0:c>=0}),l=i.length!==Object.keys(n).length||i.some(function(a){var c=n[a],d=o[a];return Array.isArray(d)?c.join(",")!==d.join(","):c!==d});n=o,s&&l&&e(o)}}var Je=-1,ae=1;function Es(t){var n=t.cellCount,r=t.overscanCellsCount,e=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return e===ae?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(n-1,i+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(n-1,i)}}function hn(t){var n=t.cellSize,r=t.cellSizeAndPositionManager,e=t.previousCellsCount,o=t.previousCellSize,i=t.previousScrollToAlignment,s=t.previousScrollToIndex,l=t.previousSize,a=t.scrollOffset,c=t.scrollToAlignment,d=t.scrollToIndex,u=t.size,p=t.sizeJustIncreasedFromZero,m=t.updateScrollIndexCallback,f=r.getCellCount(),g=d>=0&&d<f,v=u!==l||p||!o||typeof n=="number"&&n!==o;g&&(v||c!==i||d!==s)?m(d):!g&&f>0&&(u<l||f<e)&&a>r.getTotalSize()-u&&m(f-1)}function Ps(t){for(var n=t.cellCache,r=t.cellRenderer,e=t.columnSizeAndPositionManager,o=t.columnStartIndex,i=t.columnStopIndex,s=t.deferredMeasurementCache,l=t.horizontalOffsetAdjustment,a=t.isScrolling,c=t.isScrollingOptOut,d=t.parent,u=t.rowSizeAndPositionManager,p=t.rowStartIndex,m=t.rowStopIndex,f=t.styleCache,g=t.verticalOffsetAdjustment,v=t.visibleColumnIndices,S=t.visibleRowIndices,w=[],y=e.areOffsetsAdjusted()||u.areOffsetsAdjusted(),A=!a&&!y,T=p;T<=m;T++)for(var O=u.getSizeAndPositionOfCell(T),z=o;z<=i;z++){var R=e.getSizeAndPositionOfCell(z),x=z>=v.start&&z<=v.stop&&T>=S.start&&T<=S.stop,E="".concat(T,"-").concat(z),P=void 0;A&&f[E]?P=f[E]:s&&!s.has(T,z)?P={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(P={height:O.size,left:R.offset+l,position:"absolute",top:O.offset+g,width:R.size},f[E]=P);var L={columnIndex:z,isScrolling:a,isVisible:x,key:E,parent:d,rowIndex:T,style:P},j=void 0;(c||a)&&!l&&!g?(n[E]||(n[E]=r(L)),j=n[E]):j=r(L),!(j==null||j===!1)&&w.push(j)}return w}const ks=!!(typeof window<"u"&&window.document&&window.document.createElement);var Xe;function It(t){if((!Xe&&Xe!==0||t)&&ks){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),Xe=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return Xe}var q;typeof window<"u"?q=window:typeof self<"u"?q=self:q={};var js=q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||q.oRequestAnimationFrame||q.msRequestAnimationFrame||function(t){return q.setTimeout(t,1e3/60)},Ls=q.cancelAnimationFrame||q.webkitCancelAnimationFrame||q.mozCancelAnimationFrame||q.oCancelAnimationFrame||q.msCancelAnimationFrame||function(t){q.clearTimeout(t)},fn=js,Ms=Ls,Oe=function(n){return Ms(n.id)},Bt=function(n,r){var e;Promise.resolve().then(function(){e=Date.now()});var o=function s(){Date.now()-e>=r?n.call():i.id=fn(s)},i={id:fn(o)};return i},pn,mn;function gn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function me(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gn(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gn(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ns=150,vt={OBSERVED:"observed",REQUESTED:"requested"},Ds=function(){return null},ce=(mn=pn=function(t){te(n,t);function n(r){var e;H(this,n),e=ee(this,K(n).call(this,r)),_(b(e),"_onGridRenderedMemoizer",ze()),_(b(e),"_onScrollMemoizer",ze(!1)),_(b(e),"_deferredInvalidateColumnIndex",null),_(b(e),"_deferredInvalidateRowIndex",null),_(b(e),"_recomputeScrollLeftFlag",!1),_(b(e),"_recomputeScrollTopFlag",!1),_(b(e),"_horizontalScrollBarSize",0),_(b(e),"_verticalScrollBarSize",0),_(b(e),"_scrollbarPresenceChanged",!1),_(b(e),"_scrollingContainer",void 0),_(b(e),"_childrenToDisplay",void 0),_(b(e),"_columnStartIndex",void 0),_(b(e),"_columnStopIndex",void 0),_(b(e),"_rowStartIndex",void 0),_(b(e),"_rowStopIndex",void 0),_(b(e),"_renderedColumnStartIndex",0),_(b(e),"_renderedColumnStopIndex",0),_(b(e),"_renderedRowStartIndex",0),_(b(e),"_renderedRowStopIndex",0),_(b(e),"_initialScrollTop",void 0),_(b(e),"_initialScrollLeft",void 0),_(b(e),"_disablePointerEventsTimeoutId",void 0),_(b(e),"_styleCache",{}),_(b(e),"_cellCache",{}),_(b(e),"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),_(b(e),"_invokeOnGridRenderedHelper",function(){var s=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:s,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),_(b(e),"_setScrollingContainerRef",function(s){e._scrollingContainer=s}),_(b(e),"_onScroll",function(s){s.target===e._scrollingContainer&&e.handleScrollEvent(s.target)});var o=new un({cellCount:r.columnCount,cellSizeGetter:function(l){return n._wrapSizeGetter(r.columnWidth)(l)},estimatedCellSize:n._getEstimatedColumnSize(r)}),i=new un({cellCount:r.rowCount,cellSizeGetter:function(l){return n._wrapSizeGetter(r.rowHeight)(l)},estimatedCellSize:n._getEstimatedRowSize(r)});return e.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:i,prevColumnWidth:r.columnWidth,prevRowHeight:r.rowHeight,prevColumnCount:r.columnCount,prevRowCount:r.rowCount,prevIsScrolling:r.isScrolling===!0,prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:ae,scrollDirectionVertical:ae,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},r.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(r,e.state)),r.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(r,e.state)),e}return F(n,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.alignment,i=o===void 0?this.props.scrollToAlignment:o,s=e.columnIndex,l=s===void 0?this.props.scrollToColumn:s,a=e.rowIndex,c=a===void 0?this.props.scrollToRow:a,d=me({},this.props,{scrollToAlignment:i,scrollToColumn:l,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(d),scrollTop:this._getCalculatedScrollTop(d)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var o=e.scrollLeft,i=o===void 0?0:o,s=e.scrollTop,l=s===void 0?0:s;if(!(l<0)){this._debounceScrollEnded();var a=this.props,c=a.autoHeight,d=a.autoWidth,u=a.height,p=a.width,m=this.state.instanceProps,f=m.scrollbarSize,g=m.rowSizeAndPositionManager.getTotalSize(),v=m.columnSizeAndPositionManager.getTotalSize(),S=Math.min(Math.max(0,v-p+f),i),w=Math.min(Math.max(0,g-u+f),l);if(this.state.scrollLeft!==S||this.state.scrollTop!==w){var y=S!==this.state.scrollLeft?S>this.state.scrollLeft?ae:Je:this.state.scrollDirectionHorizontal,A=w!==this.state.scrollTop?w>this.state.scrollTop?ae:Je:this.state.scrollDirectionVertical,T={isScrolling:!0,scrollDirectionHorizontal:y,scrollDirectionVertical:A,scrollPositionChangeReason:vt.OBSERVED};c||(T.scrollTop=w),d||(T.scrollLeft=S),T.needToResetStyleCache=!1,this.setState(T)}this._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:w,totalColumnsWidth:v,totalRowsHeight:g})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.columnIndex,i=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,o):o,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){var e=this.props,o=e.columnCount,i=e.rowCount,s=this.state.instanceProps;s.columnSizeAndPositionManager.getSizeAndPositionOfCell(o-1),s.rowSizeAndPositionManager.getSizeAndPositionOfCell(i-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,s=e.rowIndex,l=s===void 0?0:s,a=this.props,c=a.scrollToColumn,d=a.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(i),u.rowSizeAndPositionManager.resetCell(l),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===ae?i<=c:i>=c),this._recomputeScrollTopFlag=d>=0&&(this.state.scrollDirectionVertical===ae?l<=d:l>=d),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var o=e.columnIndex,i=e.rowIndex,s=this.props.columnCount,l=this.props;s>1&&o!==void 0&&this._updateScrollLeftForScrollToColumn(me({},l,{scrollToColumn:o})),i!==void 0&&this._updateScrollTopForScrollToRow(me({},l,{scrollToRow:i}))}},{key:"componentDidMount",value:function(){var e=this.props,o=e.getScrollbarSize,i=e.height,s=e.scrollLeft,l=e.scrollToColumn,a=e.scrollTop,c=e.scrollToRow,d=e.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState(function(f){var g=me({},f,{needToResetStyleCache:!1});return g.instanceProps.scrollbarSize=o(),g.instanceProps.scrollbarSizeMeasured=!0,g}),typeof s=="number"&&s>=0||typeof a=="number"&&a>=0){var p=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:s,scrollTop:a});p&&(p.needToResetStyleCache=!1,this.setState(p))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=i>0&&d>0;l>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:s||0,scrollTop:a||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,o){var i=this,s=this.props,l=s.autoHeight,a=s.autoWidth,c=s.columnCount,d=s.height,u=s.rowCount,p=s.scrollToAlignment,m=s.scrollToColumn,f=s.scrollToRow,g=s.width,v=this.state,S=v.scrollLeft,w=v.scrollPositionChangeReason,y=v.scrollTop,A=v.instanceProps;this._handleInvalidatedGridSize();var T=c>0&&e.columnCount===0||u>0&&e.rowCount===0;w===vt.REQUESTED&&(!a&&S>=0&&(S!==this._scrollingContainer.scrollLeft||T)&&(this._scrollingContainer.scrollLeft=S),!l&&y>=0&&(y!==this._scrollingContainer.scrollTop||T)&&(this._scrollingContainer.scrollTop=y));var O=(e.width===0||e.height===0)&&d>0&&g>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):hn({cellSizeAndPositionManager:A.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:S,scrollToAlignment:p,scrollToIndex:m,size:g,sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return i._updateScrollLeftForScrollToColumn(i.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):hn({cellSizeAndPositionManager:A.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:y,scrollToAlignment:p,scrollToIndex:f,size:d,sizeJustIncreasedFromZero:O,updateScrollIndexCallback:function(){return i._updateScrollTopForScrollToRow(i.props)}}),this._invokeOnGridRenderedHelper(),S!==o.scrollLeft||y!==o.scrollTop){var z=A.rowSizeAndPositionManager.getTotalSize(),R=A.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:y,totalColumnsWidth:R,totalRowsHeight:z})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Oe(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,o=e.autoContainerWidth,i=e.autoHeight,s=e.autoWidth,l=e.className,a=e.containerProps,c=e.containerRole,d=e.containerStyle,u=e.height,p=e.id,m=e.noContentRenderer,f=e.role,g=e.style,v=e.tabIndex,S=e.width,w=this.state,y=w.instanceProps,A=w.needToResetStyleCache,T=this._isScrolling(),O={boxSizing:"border-box",direction:"ltr",height:i?"auto":u,position:"relative",width:s?"auto":S,WebkitOverflowScrolling:"touch",willChange:"transform"};A&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var z=y.columnSizeAndPositionManager.getTotalSize(),R=y.rowSizeAndPositionManager.getTotalSize(),x=R>u?y.scrollbarSize:0,E=z>S?y.scrollbarSize:0;(E!==this._horizontalScrollBarSize||x!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=x,this._scrollbarPresenceChanged=!0),O.overflowX=z+x<=S?"hidden":"auto",O.overflowY=R+E<=u?"hidden":"auto";var P=this._childrenToDisplay,L=P.length===0&&u>0&&S>0;return I.createElement("div",re({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:oe("ReactVirtualized__Grid",l),id:p,onScroll:this._onScroll,role:f,style:me({},O,{},g),tabIndex:v}),P.length>0&&I.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:me({width:o?"auto":z,height:R,maxWidth:z,maxHeight:R,overflow:"hidden",pointerEvents:T?"none":"",position:"relative"},d)},P),L&&m())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e.cellRenderer,s=e.cellRangeRenderer,l=e.columnCount,a=e.deferredMeasurementCache,c=e.height,d=e.overscanColumnCount,u=e.overscanIndicesGetter,p=e.overscanRowCount,m=e.rowCount,f=e.width,g=e.isScrollingOptOut,v=o.scrollDirectionHorizontal,S=o.scrollDirectionVertical,w=o.instanceProps,y=this._initialScrollTop>0?this._initialScrollTop:o.scrollTop,A=this._initialScrollLeft>0?this._initialScrollLeft:o.scrollLeft,T=this._isScrolling(e,o);if(this._childrenToDisplay=[],c>0&&f>0){var O=w.columnSizeAndPositionManager.getVisibleCellRange({containerSize:f,offset:A}),z=w.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:y}),R=w.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:f,offset:A}),x=w.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:y});this._renderedColumnStartIndex=O.start,this._renderedColumnStopIndex=O.stop,this._renderedRowStartIndex=z.start,this._renderedRowStopIndex=z.stop;var E=u({direction:"horizontal",cellCount:l,overscanCellsCount:d,scrollDirection:v,startIndex:typeof O.start=="number"?O.start:0,stopIndex:typeof O.stop=="number"?O.stop:-1}),P=u({direction:"vertical",cellCount:m,overscanCellsCount:p,scrollDirection:S,startIndex:typeof z.start=="number"?z.start:0,stopIndex:typeof z.stop=="number"?z.stop:-1}),L=E.overscanStartIndex,j=E.overscanStopIndex,N=P.overscanStartIndex,V=P.overscanStopIndex;if(a){if(!a.hasFixedHeight()){for(var de=N;de<=V;de++)if(!a.has(de,0)){L=0,j=l-1;break}}if(!a.hasFixedWidth()){for(var ne=L;ne<=j;ne++)if(!a.has(0,ne)){N=0,V=m-1;break}}}this._childrenToDisplay=s({cellCache:this._cellCache,cellRenderer:i,columnSizeAndPositionManager:w.columnSizeAndPositionManager,columnStartIndex:L,columnStopIndex:j,deferredMeasurementCache:a,horizontalOffsetAdjustment:R,isScrolling:T,isScrollingOptOut:g,parent:this,rowSizeAndPositionManager:w.rowSizeAndPositionManager,rowStartIndex:N,rowStopIndex:V,scrollLeft:A,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:x,visibleColumnIndices:O,visibleRowIndices:z}),this._columnStartIndex=L,this._columnStopIndex=j,this._rowStartIndex=N,this._rowStopIndex=V}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Oe(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Bt(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,o=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:o})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var o=this,i=e.scrollLeft,s=e.scrollTop,l=e.totalColumnsWidth,a=e.totalRowsHeight;this._onScrollMemoizer({callback:function(d){var u=d.scrollLeft,p=d.scrollTop,m=o.props,f=m.height,g=m.onScroll,v=m.width;g({clientHeight:f,clientWidth:v,scrollHeight:a,scrollLeft:u,scrollTop:p,scrollWidth:l})},indices:{scrollLeft:i,scrollTop:s}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!o.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var o=e.scrollLeft,i=e.scrollTop,s=n._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:i});s&&(s.needToResetStyleCache=!1,this.setState(s))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollLeft(e,o)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=n._getScrollLeftForScrollToColumnStateUpdate(e,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return n._getCalculatedScrollTop(e,o)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,o=this._cellCache,i=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var s=this._rowStartIndex;s<=this._rowStopIndex;s++)for(var l=this._columnStartIndex;l<=this._columnStopIndex;l++){var a="".concat(s,"-").concat(l);this._styleCache[a]=e[a],i&&(this._cellCache[a]=o[a])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=n._getScrollTopForScrollToRowStateUpdate(e,o);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(e,o){var i={};e.columnCount===0&&o.scrollLeft!==0||e.rowCount===0&&o.scrollTop!==0?(i.scrollLeft=0,i.scrollTop=0):(e.scrollLeft!==o.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==o.scrollTop&&e.scrollToRow<0)&&Object.assign(i,n._getScrollToPositionStateUpdate({prevState:o,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var s=o.instanceProps;i.needToResetStyleCache=!1,(e.columnWidth!==s.prevColumnWidth||e.rowHeight!==s.prevRowHeight)&&(i.needToResetStyleCache=!0),s.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:n._getEstimatedColumnSize(e),cellSizeGetter:n._wrapSizeGetter(e.columnWidth)}),s.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:n._getEstimatedRowSize(e),cellSizeGetter:n._wrapSizeGetter(e.rowHeight)}),(s.prevColumnCount===0||s.prevRowCount===0)&&(s.prevColumnCount=0,s.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&s.prevIsScrolling===!0&&Object.assign(i,{isScrolling:!1});var l,a;return dn({cellCount:s.prevColumnCount,cellSize:typeof s.prevColumnWidth=="number"?s.prevColumnWidth:null,computeMetadataCallback:function(){return s.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:s.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){l=n._getScrollLeftForScrollToColumnStateUpdate(e,o)}}),dn({cellCount:s.prevRowCount,cellSize:typeof s.prevRowHeight=="number"?s.prevRowHeight:null,computeMetadataCallback:function(){return s.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:s.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=n._getScrollTopForScrollToRowStateUpdate(e,o)}}),s.prevColumnCount=e.columnCount,s.prevColumnWidth=e.columnWidth,s.prevIsScrolling=e.isScrolling===!0,s.prevRowCount=e.rowCount,s.prevRowHeight=e.rowHeight,s.prevScrollToColumn=e.scrollToColumn,s.prevScrollToRow=e.scrollToRow,s.scrollbarSize=e.getScrollbarSize(),s.scrollbarSize===void 0?(s.scrollbarSizeMeasured=!1,s.scrollbarSize=0):s.scrollbarSizeMeasured=!0,i.instanceProps=s,me({},i,{},l,{},a)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var o=e.prevState,i=e.scrollLeft,s=e.scrollTop,l={scrollPositionChangeReason:vt.REQUESTED};return typeof i=="number"&&i>=0&&(l.scrollDirectionHorizontal=i>o.scrollLeft?ae:Je,l.scrollLeft=i),typeof s=="number"&&s>=0&&(l.scrollDirectionVertical=s>o.scrollTop?ae:Je,l.scrollTop=s),typeof i=="number"&&i>=0&&i!==o.scrollLeft||typeof s=="number"&&s>=0&&s!==o.scrollTop?l:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,o){var i=e.columnCount,s=e.height,l=e.scrollToAlignment,a=e.scrollToColumn,c=e.width,d=o.scrollLeft,u=o.instanceProps;if(i>0){var p=i-1,m=a<0?p:Math.min(p,a),f=u.rowSizeAndPositionManager.getTotalSize(),g=u.scrollbarSizeMeasured&&f>s?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:l,containerSize:c-g,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,o){var i=o.scrollLeft,s=n._getCalculatedScrollLeft(e,o);return typeof s=="number"&&s>=0&&i!==s?n._getScrollToPositionStateUpdate({prevState:o,scrollLeft:s,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,o){var i=e.height,s=e.rowCount,l=e.scrollToAlignment,a=e.scrollToRow,c=e.width,d=o.scrollTop,u=o.instanceProps;if(s>0){var p=s-1,m=a<0?p:Math.min(p,a),f=u.columnSizeAndPositionManager.getTotalSize(),g=u.scrollbarSizeMeasured&&f>c?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:l,containerSize:i-g,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,o){var i=o.scrollTop,s=n._getCalculatedScrollTop(e,o);return typeof s=="number"&&s>=0&&i!==s?n._getScrollToPositionStateUpdate({prevState:o,scrollLeft:-1,scrollTop:s}):{}}}]),n}(I.PureComponent),_(pn,"propTypes",null),mn);_(ce,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:Ps,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:It,noContentRenderer:Ds,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:Es,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Ns,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});We(ce);var Bs=1;function jr(t){var n=t.cellCount,r=t.overscanCellsCount,e=t.scrollDirection,o=t.startIndex,i=t.stopIndex;return r=Math.max(1,r),e===Bs?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(n-1,i+r)}:{overscanStartIndex:Math.max(0,o-r),overscanStopIndex:Math.min(n-1,i+1)}}var vn,Sn;function _n(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function Gs(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_n(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_n(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Lr=(Sn=vn=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),_(b(e),"_columnStartIndex",0),_(b(e),"_columnStopIndex",0),_(b(e),"_rowStartIndex",0),_(b(e),"_rowStopIndex",0),_(b(e),"_onKeyDown",function(l){var a=e.props,c=a.columnCount,d=a.disabled,u=a.mode,p=a.rowCount;if(!d){var m=e._getScrollState(),f=m.scrollToColumn,g=m.scrollToRow,v=e._getScrollState(),S=v.scrollToColumn,w=v.scrollToRow;switch(l.key){case"ArrowDown":w=Math.min(u==="cells"?w+1:e._rowStopIndex+1,p-1);break;case"ArrowLeft":S=Math.max(u==="cells"?S-1:e._columnStartIndex-1,0);break;case"ArrowRight":S=Math.min(u==="cells"?S+1:e._columnStopIndex+1,c-1);break;case"ArrowUp":w=Math.max(u==="cells"?w-1:e._rowStartIndex-1,0);break}(S!==f||w!==g)&&(l.preventDefault(),e._updateScrollState({scrollToColumn:S,scrollToRow:w}))}}),_(b(e),"_onSectionRendered",function(l){var a=l.columnStartIndex,c=l.columnStopIndex,d=l.rowStartIndex,u=l.rowStopIndex;e._columnStartIndex=a,e._columnStopIndex=c,e._rowStartIndex=d,e._rowStopIndex=u}),e}return F(n,[{key:"setScrollIndexes",value:function(e){var o=e.scrollToColumn,i=e.scrollToRow;this.setState({scrollToRow:i,scrollToColumn:o})}},{key:"render",value:function(){var e=this.props,o=e.className,i=e.children,s=this._getScrollState(),l=s.scrollToColumn,a=s.scrollToRow;return I.createElement("div",{className:o,onKeyDown:this._onKeyDown},i({onSectionRendered:this._onSectionRendered,scrollToColumn:l,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var o=e.scrollToColumn,i=e.scrollToRow,s=this.props,l=s.isControlled,a=s.onScrollToChange;typeof a=="function"&&a({scrollToColumn:o,scrollToRow:i}),l||this.setState({scrollToColumn:o,scrollToRow:i})}}],[{key:"getDerivedStateFromProps",value:function(e,o){return e.isControlled?{}:e.scrollToColumn!==o.instanceProps.prevScrollToColumn||e.scrollToRow!==o.instanceProps.prevScrollToRow?Gs({},o,{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}]),n}(I.PureComponent),_(vn,"propTypes",null),Sn);_(Lr,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});We(Lr);function Mr(t,n){var r;typeof n<"u"?r=n:typeof window<"u"?r=window:typeof self<"u"?r=self:r=global;var e=typeof r.document<"u"&&r.document.attachEvent;if(!e){var o=function(){var z=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(R){return r.setTimeout(R,20)};return function(R){return z(R)}}(),i=function(){var z=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(R){return z(R)}}(),s=function(R){var x=R.__resizeTriggers__,E=x.firstElementChild,P=x.lastElementChild,L=E.firstElementChild;P.scrollLeft=P.scrollWidth,P.scrollTop=P.scrollHeight,L.style.width=E.offsetWidth+1+"px",L.style.height=E.offsetHeight+1+"px",E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight},l=function(R){return R.offsetWidth!=R.__resizeLast__.width||R.offsetHeight!=R.__resizeLast__.height},a=function(R){if(!(R.target.className&&typeof R.target.className.indexOf=="function"&&R.target.className.indexOf("contract-trigger")<0&&R.target.className.indexOf("expand-trigger")<0)){var x=this;s(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o(function(){l(x)&&(x.__resizeLast__.width=x.offsetWidth,x.__resizeLast__.height=x.offsetHeight,x.__resizeListeners__.forEach(function(E){E.call(x,R)}))})}},c=!1,d="",u="animationstart",p="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="";{var g=r.document.createElement("fakeelement");if(g.style.animationName!==void 0&&(c=!0),c===!1){for(var v=0;v<p.length;v++)if(g.style[p[v]+"AnimationName"]!==void 0){f=p[v],d="-"+f.toLowerCase()+"-",u=m[v],c=!0;break}}}var S="resizeanim",w="@"+d+"keyframes "+S+" { from { opacity: 0; } to { opacity: 0; } } ",y=d+"animation: 1ms "+S+"; "}var A=function(R){if(!R.getElementById("detectElementResize")){var x=(w||"")+".resize-triggers { "+(y||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',E=R.head||R.getElementsByTagName("head")[0],P=R.createElement("style");P.id="detectElementResize",P.type="text/css",t!=null&&P.setAttribute("nonce",t),P.styleSheet?P.styleSheet.cssText=x:P.appendChild(R.createTextNode(x)),E.appendChild(P)}},T=function(R,x){if(e)R.attachEvent("onresize",x);else{if(!R.__resizeTriggers__){var E=R.ownerDocument,P=r.getComputedStyle(R);P&&P.position=="static"&&(R.style.position="relative"),A(E),R.__resizeLast__={},R.__resizeListeners__=[],(R.__resizeTriggers__=E.createElement("div")).className="resize-triggers";var L='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var j=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return L}});R.__resizeTriggers__.innerHTML=j.createHTML("")}else R.__resizeTriggers__.innerHTML=L;R.appendChild(R.__resizeTriggers__),s(R),R.addEventListener("scroll",a,!0),u&&(R.__resizeTriggers__.__animationListener__=function(V){V.animationName==S&&s(R)},R.__resizeTriggers__.addEventListener(u,R.__resizeTriggers__.__animationListener__))}R.__resizeListeners__.push(x)}},O=function(R,x){if(e)R.detachEvent("onresize",x);else if(R.__resizeListeners__.splice(R.__resizeListeners__.indexOf(x),1),!R.__resizeListeners__.length){R.removeEventListener("scroll",a,!0),R.__resizeTriggers__.__animationListener__&&(R.__resizeTriggers__.removeEventListener(u,R.__resizeTriggers__.__animationListener__),R.__resizeTriggers__.__animationListener__=null);try{R.__resizeTriggers__=!R.removeChild(R.__resizeTriggers__)}catch{}}};return{addResizeListener:T,removeResizeListener:O}}var wn,yn;function Cn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function Hs(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Cn(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cn(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Fs=(yn=wn=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"state",{height:e.props.defaultHeight||0,width:e.props.defaultWidth||0}),_(b(e),"_parentNode",void 0),_(b(e),"_autoSizer",void 0),_(b(e),"_window",void 0),_(b(e),"_detectElementResize",void 0),_(b(e),"_onResize",function(){var l=e.props,a=l.disableHeight,c=l.disableWidth,d=l.onResize;if(e._parentNode){var u=e._parentNode.offsetHeight||0,p=e._parentNode.offsetWidth||0,m=e._window||window,f=m.getComputedStyle(e._parentNode)||{},g=parseInt(f.paddingLeft,10)||0,v=parseInt(f.paddingRight,10)||0,S=parseInt(f.paddingTop,10)||0,w=parseInt(f.paddingBottom,10)||0,y=u-S-w,A=p-g-v;(!a&&e.state.height!==y||!c&&e.state.width!==A)&&(e.setState({height:u-S-w,width:p-g-v}),d({height:u,width:p}))}}),_(b(e),"_setRef",function(l){e._autoSizer=l}),e}return F(n,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Mr(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,o=e.children,i=e.className,s=e.disableHeight,l=e.disableWidth,a=e.style,c=this.state,d=c.height,u=c.width,p={overflow:"visible"},m={};return s||(p.height=0,m.height=d),l||(p.width=0,m.width=u),I.createElement("div",{className:i,ref:this._setRef,style:Hs({},p,{},a)},o(m))}}]),n}(I.Component),_(wn,"propTypes",null),yn);_(Fs,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var bn,xn,Us=(xn=bn=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"_child",void 0),_(b(e),"_measure",function(){var l=e.props,a=l.cache,c=l.columnIndex,d=c===void 0?0:c,u=l.parent,p=l.rowIndex,m=p===void 0?e.props.index||0:p,f=e._getCellMeasurements(),g=f.height,v=f.width;(g!==a.getHeight(m,d)||v!==a.getWidth(m,d))&&(a.set(m,d,v,g),u&&typeof u.recomputeGridSize=="function"&&u.recomputeGridSize({columnIndex:d,rowIndex:m}))}),_(b(e),"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),e._child=l,l&&e._maybeMeasureCell()}),e}return F(n,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return typeof e=="function"?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,o=this._child||st.findDOMNode(this);if(o&&o.ownerDocument&&o.ownerDocument.defaultView&&o instanceof o.ownerDocument.defaultView.HTMLElement){var i=o.style.width,s=o.style.height;e.hasFixedWidth()||(o.style.width="auto"),e.hasFixedHeight()||(o.style.height="auto");var l=Math.ceil(o.offsetHeight),a=Math.ceil(o.offsetWidth);return i&&(o.style.width=i),s&&(o.style.height=s),{height:l,width:a}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,o=e.cache,i=e.columnIndex,s=i===void 0?0:i,l=e.parent,a=e.rowIndex,c=a===void 0?this.props.index||0:a;if(!o.has(c,s)){var d=this._getCellMeasurements(),u=d.height,p=d.width;o.set(c,s,p,u),l&&typeof l.invalidateCellSizeAfterRender=="function"&&l.invalidateCellSizeAfterRender({columnIndex:s,rowIndex:c})}}}]),n}(I.PureComponent),_(bn,"propTypes",null),xn);_(Us,"__internalCellMeasurerFlag",!1);function Rn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function Ws(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Rn(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rn(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var $s=150,Ce={OBSERVED:"observed",REQUESTED:"requested"},ct=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),_(b(e),"_calculateSizeAndPositionDataOnNextUpdate",!1),_(b(e),"_onSectionRenderedMemoizer",ze()),_(b(e),"_onScrollMemoizer",ze(!1)),_(b(e),"_invokeOnSectionRenderedHelper",function(){var l=e.props,a=l.cellLayoutManager,c=l.onSectionRendered;e._onSectionRenderedMemoizer({callback:c,indices:{indices:a.getLastRenderedIndices()}})}),_(b(e),"_setScrollingContainerRef",function(l){e._scrollingContainer=l}),_(b(e),"_updateScrollPositionForScrollToCell",function(){var l=e.props,a=l.cellLayoutManager,c=l.height,d=l.scrollToAlignment,u=l.scrollToCell,p=l.width,m=e.state,f=m.scrollLeft,g=m.scrollTop;if(u>=0){var v=a.getScrollPositionForCell({align:d,cellIndex:u,height:c,scrollLeft:f,scrollTop:g,width:p});(v.scrollLeft!==f||v.scrollTop!==g)&&e._setScrollPosition(v)}}),_(b(e),"_onScroll",function(l){if(l.target===e._scrollingContainer){e._enablePointerEventsAfterDelay();var a=e.props,c=a.cellLayoutManager,d=a.height,u=a.isScrollingChange,p=a.width,m=e._scrollbarSize,f=c.getTotalSize(),g=f.height,v=f.width,S=Math.max(0,Math.min(v-p+m,l.target.scrollLeft)),w=Math.max(0,Math.min(g-d+m,l.target.scrollTop));if(e.state.scrollLeft!==S||e.state.scrollTop!==w){var y=l.cancelable?Ce.OBSERVED:Ce.REQUESTED;e.state.isScrolling||u(!0),e.setState({isScrolling:!0,scrollLeft:S,scrollPositionChangeReason:y,scrollTop:w})}e._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:w,totalWidth:v,totalHeight:g})}}),e._scrollbarSize=It(),e._scrollbarSize===void 0?(e._scrollbarSizeMeasured=!1,e._scrollbarSize=0):e._scrollbarSizeMeasured=!0,e}return F(n,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,o=e.cellLayoutManager,i=e.scrollLeft,s=e.scrollToCell,l=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=It(),this._scrollbarSizeMeasured=!0,this.setState({})),s>=0?this._updateScrollPositionForScrollToCell():(i>=0||l>=0)&&this._setScrollPosition({scrollLeft:i,scrollTop:l}),this._invokeOnSectionRenderedHelper();var a=o.getTotalSize(),c=a.height,d=a.width;this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:l||0,totalHeight:c,totalWidth:d})}},{key:"componentDidUpdate",value:function(e,o){var i=this.props,s=i.height,l=i.scrollToAlignment,a=i.scrollToCell,c=i.width,d=this.state,u=d.scrollLeft,p=d.scrollPositionChangeReason,m=d.scrollTop;p===Ce.REQUESTED&&(u>=0&&u!==o.scrollLeft&&u!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=u),m>=0&&m!==o.scrollTop&&m!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=m)),(s!==e.height||l!==e.scrollToAlignment||a!==e.scrollToCell||c!==e.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,o=e.autoHeight,i=e.cellCount,s=e.cellLayoutManager,l=e.className,a=e.height,c=e.horizontalOverscanSize,d=e.id,u=e.noContentRenderer,p=e.style,m=e.verticalOverscanSize,f=e.width,g=this.state,v=g.isScrolling,S=g.scrollLeft,w=g.scrollTop;(this._lastRenderedCellCount!==i||this._lastRenderedCellLayoutManager!==s||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=i,this._lastRenderedCellLayoutManager=s,this._calculateSizeAndPositionDataOnNextUpdate=!1,s.calculateSizeAndPositionData());var y=s.getTotalSize(),A=y.height,T=y.width,O=Math.max(0,S-c),z=Math.max(0,w-m),R=Math.min(T,S+f+c),x=Math.min(A,w+a+m),E=a>0&&f>0?s.cellRenderers({height:x-z,isScrolling:v,width:R-O,x:O,y:z}):[],P={boxSizing:"border-box",direction:"ltr",height:o?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:f,willChange:"transform"},L=A>a?this._scrollbarSize:0,j=T>f?this._scrollbarSize:0;return P.overflowX=T+L<=f?"hidden":"auto",P.overflowY=A+j<=a?"hidden":"auto",I.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:oe("ReactVirtualized__Collection",l),id:d,onScroll:this._onScroll,role:"grid",style:Ws({},P,{},p),tabIndex:0},i>0&&I.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:A,maxHeight:A,maxWidth:T,overflow:"hidden",pointerEvents:v?"none":"",width:T}},E),i===0&&u())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var o=e.props.isScrollingChange;o(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},$s)}},{key:"_invokeOnScrollMemoizer",value:function(e){var o=this,i=e.scrollLeft,s=e.scrollTop,l=e.totalHeight,a=e.totalWidth;this._onScrollMemoizer({callback:function(d){var u=d.scrollLeft,p=d.scrollTop,m=o.props,f=m.height,g=m.onScroll,v=m.width;g({clientHeight:f,clientWidth:v,scrollHeight:l,scrollLeft:u,scrollTop:p,scrollWidth:a})},indices:{scrollLeft:i,scrollTop:s}})}},{key:"_setScrollPosition",value:function(e){var o=e.scrollLeft,i=e.scrollTop,s={scrollPositionChangeReason:Ce.REQUESTED};o>=0&&(s.scrollLeft=o),i>=0&&(s.scrollTop=i),(o>=0&&o!==this.state.scrollLeft||i>=0&&i!==this.state.scrollTop)&&this.setState(s)}}],[{key:"getDerivedStateFromProps",value:function(e,o){return e.cellCount===0&&(o.scrollLeft!==0||o.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Ce.REQUESTED}:e.scrollLeft!==o.scrollLeft||e.scrollTop!==o.scrollTop?{scrollLeft:e.scrollLeft!=null?e.scrollLeft:o.scrollLeft,scrollTop:e.scrollTop!=null?e.scrollTop:o.scrollTop,scrollPositionChangeReason:Ce.REQUESTED}:null}}]),n}(I.PureComponent);_(ct,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});ct.propTypes={};We(ct);var Vs=function(){function t(n){var r=n.height,e=n.width,o=n.x,i=n.y;H(this,t),this.height=r,this.width=e,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return F(t,[{key:"addCellIndex",value:function(r){var e=r.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),qs=100,Ks=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:qs;H(this,t),this._sectionSize=n,this._cellMetadata=[],this._sections={}}return F(t,[{key:"getCellIndices",value:function(r){var e=r.height,o=r.width,i=r.x,s=r.y,l={};return this.getSections({height:e,width:o,x:i,y:s}).forEach(function(a){return a.getCellIndices().forEach(function(c){l[c]=c})}),Object.keys(l).map(function(a){return l[a]})}},{key:"getCellMetadata",value:function(r){var e=r.index;return this._cellMetadata[e]}},{key:"getSections",value:function(r){for(var e=r.height,o=r.width,i=r.x,s=r.y,l=Math.floor(i/this._sectionSize),a=Math.floor((i+o-1)/this._sectionSize),c=Math.floor(s/this._sectionSize),d=Math.floor((s+e-1)/this._sectionSize),u=[],p=l;p<=a;p++)for(var m=c;m<=d;m++){var f="".concat(p,".").concat(m);this._sections[f]||(this._sections[f]=new Vs({height:this._sectionSize,width:this._sectionSize,x:p*this._sectionSize,y:m*this._sectionSize})),u.push(this._sections[f])}return u}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var r=this;return Object.keys(this._sections).map(function(e){return r._sections[e].toString()})}},{key:"registerCell",value:function(r){var e=r.cellMetadatum,o=r.index;this._cellMetadata[o]=e,this.getSections(e).forEach(function(i){return i.addCellIndex({index:o})})}}]),t}();function Js(t){for(var n=t.cellCount,r=t.cellSizeAndPositionGetter,e=t.sectionSize,o=[],i=new Ks(e),s=0,l=0,a=0;a<n;a++){var c=r({index:a});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(a,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));s=Math.max(s,c.y+c.height),l=Math.max(l,c.x+c.width),o[a]=c,i.registerCell({cellMetadatum:c,index:a})}return{cellMetadata:o,height:s,sectionManager:i,width:l}}function Tn(t){var n=t.align,r=n===void 0?"auto":n,e=t.cellOffset,o=t.cellSize,i=t.containerSize,s=t.currentOffset,l=e,a=l-i+o;switch(r){case"start":return l;case"end":return a;case"center":return l-(i-o)/2;default:return Math.max(a,Math.min(l,s))}}var Nr=function(t){te(n,t);function n(r,e){var o;return H(this,n),o=ee(this,K(n).call(this,r,e)),o._cellMetadata=[],o._lastRenderedCellIndices=[],o._cellCache=[],o._isScrollingChange=o._isScrollingChange.bind(b(o)),o._setCollectionViewRef=o._setCollectionViewRef.bind(b(o)),o}return F(n,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=re({},this.props);return I.createElement(ct,re({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,o=e.cellCount,i=e.cellSizeAndPositionGetter,s=e.sectionSize,l=Js({cellCount:o,cellSizeAndPositionGetter:i,sectionSize:s});this._cellMetadata=l.cellMetadata,this._sectionManager=l.sectionManager,this._height=l.height,this._width=l.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var o=e.align,i=e.cellIndex,s=e.height,l=e.scrollLeft,a=e.scrollTop,c=e.width,d=this.props.cellCount;if(i>=0&&i<d){var u=this._cellMetadata[i];l=Tn({align:o,cellOffset:u.x,cellSize:u.width,containerSize:c,currentOffset:l,targetIndex:i}),a=Tn({align:o,cellOffset:u.y,cellSize:u.height,containerSize:s,currentOffset:a,targetIndex:i})}return{scrollLeft:l,scrollTop:a}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var o=this,i=e.height,s=e.isScrolling,l=e.width,a=e.x,c=e.y,d=this.props,u=d.cellGroupRenderer,p=d.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:i,width:l,x:a,y:c}),u({cellCache:this._cellCache,cellRenderer:p,cellSizeAndPositionGetter:function(f){var g=f.index;return o._sectionManager.getCellMetadata({index:g})},indices:this._lastRenderedCellIndices,isScrolling:s})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),n}(I.PureComponent);_(Nr,"defaultProps",{"aria-label":"grid",cellGroupRenderer:Xs});Nr.propTypes={};function Xs(t){var n=t.cellCache,r=t.cellRenderer,e=t.cellSizeAndPositionGetter,o=t.indices,i=t.isScrolling;return o.map(function(s){var l=e({index:s}),a={index:s,isScrolling:i,key:s,style:{height:l.height,left:l.x,position:"absolute",top:l.y,width:l.width}};return i?(s in n||(n[s]=r(a)),n[s]):r(a)}).filter(function(s){return!!s})}function At(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);r<n;r++)e[r]=t[r];return e}function Zs(t){if(Array.isArray(t))return At(t)}function Qs(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dr(t,n){if(t){if(typeof t=="string")return At(t,n);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(t,n):void 0}}function Ys(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function el(t){return Zs(t)||Qs(t)||Dr(t)||Ys()}var Br=function(t){te(n,t);function n(r,e){var o;return H(this,n),o=ee(this,K(n).call(this,r,e)),o._loadMoreRowsMemoizer=ze(),o._onRowsRendered=o._onRowsRendered.bind(b(o)),o._registerChild=o._registerChild.bind(b(o)),o}return F(n,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=ze(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var e=this.props.children;return e({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var o=this,i=this.props.loadMoreRows;e.forEach(function(s){var l=i(s);l&&l.then(function(){tl({lastRenderedStartIndex:o._lastRenderedStartIndex,lastRenderedStopIndex:o._lastRenderedStopIndex,startIndex:s.startIndex,stopIndex:s.stopIndex})&&o._registeredChild&&rl(o._registeredChild,o._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(e){var o=e.startIndex,i=e.stopIndex;this._lastRenderedStartIndex=o,this._lastRenderedStopIndex=i,this._doStuff(o,i)}},{key:"_doStuff",value:function(e,o){var i,s=this,l=this.props,a=l.isRowLoaded,c=l.minimumBatchSize,d=l.rowCount,u=l.threshold,p=nl({isRowLoaded:a,minimumBatchSize:c,rowCount:d,startIndex:Math.max(0,e-u),stopIndex:Math.min(d-1,o+u)}),m=(i=[]).concat.apply(i,el(p.map(function(f){var g=f.startIndex,v=f.stopIndex;return[g,v]})));this._loadMoreRowsMemoizer({callback:function(){s._loadUnloadedRanges(p)},indices:{squashedUnloadedRanges:m}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),n}(I.PureComponent);_(Br,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});Br.propTypes={};function tl(t){var n=t.lastRenderedStartIndex,r=t.lastRenderedStopIndex,e=t.startIndex,o=t.stopIndex;return!(e>r||o<n)}function nl(t){for(var n=t.isRowLoaded,r=t.minimumBatchSize,e=t.rowCount,o=t.startIndex,i=t.stopIndex,s=[],l=null,a=null,c=o;c<=i;c++){var d=n({index:c});d?a!==null&&(s.push({startIndex:l,stopIndex:a}),l=a=null):(a=c,l===null&&(l=c))}if(a!==null){for(var u=Math.min(Math.max(a,l+r-1),e-1),p=a+1;p<=u&&!n({index:p});p++)a=p;s.push({startIndex:l,stopIndex:a})}if(s.length)for(var m=s[0];m.stopIndex-m.startIndex+1<r&&m.startIndex>0;){var f=m.startIndex-1;if(!n({index:f}))m.startIndex=f;else break}return s}function rl(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;r?r.call(t,n):t.forceUpdate()}var In,An,ol=(An=In=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"Grid",void 0),_(b(e),"_cellRenderer",function(l){var a=l.parent,c=l.rowIndex,d=l.style,u=l.isScrolling,p=l.isVisible,m=l.key,f=e.props.rowRenderer,g=Object.getOwnPropertyDescriptor(d,"width");return g&&g.writable&&(d.width="100%"),f({index:c,style:d,isScrolling:u,isVisible:p,key:m,parent:a})}),_(b(e),"_setRef",function(l){e.Grid=l}),_(b(e),"_onScroll",function(l){var a=l.clientHeight,c=l.scrollHeight,d=l.scrollTop,u=e.props.onScroll;u({clientHeight:a,scrollHeight:c,scrollTop:d})}),_(b(e),"_onSectionRendered",function(l){var a=l.rowOverscanStartIndex,c=l.rowOverscanStopIndex,d=l.rowStartIndex,u=l.rowStopIndex,p=e.props.onRowsRendered;p({overscanStartIndex:a,overscanStopIndex:c,startIndex:d,stopIndex:u})}),e}return F(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var o=e.alignment,i=e.index;if(this.Grid){var s=this.Grid.getOffsetForCell({alignment:o,rowIndex:i,columnIndex:0}),l=s.scrollTop;return l}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.columnIndex,i=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:o})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,s=e.rowIndex,l=s===void 0?0:s;this.Grid&&this.Grid.recomputeGridSize({rowIndex:l,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,o=e.className,i=e.noRowsRenderer,s=e.scrollToIndex,l=e.width,a=oe("ReactVirtualized__List",o);return I.createElement(ce,re({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:l,columnCount:1,noContentRenderer:i,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:s}))}}]),n}(I.PureComponent),_(In,"propTypes",null),An);_(ol,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:jr,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function il(t){if(Array.isArray(t))return t}function sl(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var e,o,i,s,l=[],a=!0,c=!1;try{if(i=(r=r.call(t)).next,n!==0)for(;!(a=(e=i.call(r)).done)&&(l.push(e.value),l.length!==n);a=!0);}catch(d){c=!0,o=d}finally{try{if(!a&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}function ll(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function al(t,n){return il(t)||sl(t,n)||Dr(t,n)||ll()}function cl(t,n,r,e){for(var o=r+1;n<=r;){var i=n+r>>>1,s=t[i];s>=e?(o=i,r=i-1):n=i+1}return o}function dl(t,n,r,e,o){for(var i=r+1;n<=r;){var s=n+r>>>1,l=t[s];o(l,e)>=0?(i=s,r=s-1):n=s+1}return i}function ul(t,n,r,e,o){return typeof r=="function"?dl(t,e===void 0?0:e|0,o===void 0?t.length-1:o|0,n,r):cl(t,r===void 0?0:r|0,e===void 0?t.length-1:e|0,n)}function hl(t,n,r,e){for(var o=r+1;n<=r;){var i=n+r>>>1,s=t[i];s>e?(o=i,r=i-1):n=i+1}return o}function fl(t,n,r,e,o){for(var i=r+1;n<=r;){var s=n+r>>>1,l=t[s];o(l,e)>0?(i=s,r=s-1):n=s+1}return i}function pl(t,n,r,e,o){return typeof r=="function"?fl(t,e===void 0?0:e|0,o===void 0?t.length-1:o|0,n,r):hl(t,r===void 0?0:r|0,e===void 0?t.length-1:e|0,n)}function ml(t,n,r,e){for(var o=n-1;n<=r;){var i=n+r>>>1,s=t[i];s<e?(o=i,n=i+1):r=i-1}return o}function gl(t,n,r,e,o){for(var i=n-1;n<=r;){var s=n+r>>>1,l=t[s];o(l,e)<0?(i=s,n=s+1):r=s-1}return i}function vl(t,n,r,e,o){return typeof r=="function"?gl(t,e===void 0?0:e|0,o===void 0?t.length-1:o|0,n,r):ml(t,r===void 0?0:r|0,e===void 0?t.length-1:e|0,n)}function Sl(t,n,r,e){for(var o=n-1;n<=r;){var i=n+r>>>1,s=t[i];s<=e?(o=i,n=i+1):r=i-1}return o}function _l(t,n,r,e,o){for(var i=n-1;n<=r;){var s=n+r>>>1,l=t[s];o(l,e)<=0?(i=s,n=s+1):r=s-1}return i}function wl(t,n,r,e,o){return typeof r=="function"?_l(t,e===void 0?0:e|0,o===void 0?t.length-1:o|0,n,r):Sl(t,r===void 0?0:r|0,e===void 0?t.length-1:e|0,n)}function yl(t,n,r,e){for(;n<=r;){var o=n+r>>>1,i=t[o];if(i===e)return o;i<=e?n=o+1:r=o-1}return-1}function Cl(t,n,r,e,o){for(;n<=r;){var i=n+r>>>1,s=t[i],l=o(s,e);if(l===0)return i;l<=0?n=i+1:r=i-1}return-1}function bl(t,n,r,e,o){return typeof r=="function"?Cl(t,e===void 0?0:e|0,o===void 0?t.length-1:o|0,n,r):yl(t,r===void 0?0:r|0,e===void 0?t.length-1:e|0,n)}const nt={ge:ul,gt:pl,lt:vl,le:wl,eq:bl};var Re=0,ge=1,Ze=2;function Gt(t,n,r,e,o){this.mid=t,this.left=n,this.right=r,this.leftPoints=e,this.rightPoints=o,this.count=(n?n.count:0)+(r?r.count:0)+e.length}var $e=Gt.prototype;function St(t,n){t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function Gr(t,n){var r=Ge(n);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function zn(t,n){var r=t.intervals([]);r.push(n),Gr(t,r)}function On(t,n){var r=t.intervals([]),e=r.indexOf(n);return e<0?Re:(r.splice(e,1),Gr(t,r),ge)}$e.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};$e.insert=function(t){var n=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(n+1)?zn(this,t):this.left.insert(t):this.left=Ge([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(n+1)?zn(this,t):this.right.insert(t):this.right=Ge([t]);else{var r=nt.ge(this.leftPoints,t,Ht),e=nt.ge(this.rightPoints,t,Ft);this.leftPoints.splice(r,0,t),this.rightPoints.splice(e,0,t)}};$e.remove=function(t){var n=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return Re;var r=this.right?this.right.count:0;if(4*r>3*(n-1))return On(this,t);var e=this.left.remove(t);return e===Ze?(this.left=null,this.count-=1,ge):(e===ge&&(this.count-=1),e)}else if(t[0]>this.mid){if(!this.right)return Re;var o=this.left?this.left.count:0;if(4*o>3*(n-1))return On(this,t);var e=this.right.remove(t);return e===Ze?(this.right=null,this.count-=1,ge):(e===ge&&(this.count-=1),e)}else{if(this.count===1)return this.leftPoints[0]===t?Ze:Re;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,s=this.left;s.right;)i=s,s=s.right;if(i===this)s.right=this.right;else{var l=this.left,e=this.right;i.count-=s.count,i.right=s.left,s.left=l,s.right=e}St(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?St(this,this.left):St(this,this.right);return ge}for(var l=nt.ge(this.leftPoints,t,Ht);l<this.leftPoints.length&&this.leftPoints[l][0]===t[0];++l)if(this.leftPoints[l]===t){this.count-=1,this.leftPoints.splice(l,1);for(var e=nt.ge(this.rightPoints,t,Ft);e<this.rightPoints.length&&this.rightPoints[e][1]===t[1];++e)if(this.rightPoints[e]===t)return this.rightPoints.splice(e,1),ge}return Re}};function Hr(t,n,r){for(var e=0;e<t.length&&t[e][0]<=n;++e){var o=r(t[e]);if(o)return o}}function Fr(t,n,r){for(var e=t.length-1;e>=0&&t[e][1]>=n;--e){var o=r(t[e]);if(o)return o}}function Ur(t,n){for(var r=0;r<t.length;++r){var e=n(t[r]);if(e)return e}}$e.queryPoint=function(t,n){if(t<this.mid){if(this.left){var r=this.left.queryPoint(t,n);if(r)return r}return Hr(this.leftPoints,t,n)}else if(t>this.mid){if(this.right){var r=this.right.queryPoint(t,n);if(r)return r}return Fr(this.rightPoints,t,n)}else return Ur(this.leftPoints,n)};$e.queryInterval=function(t,n,r){if(t<this.mid&&this.left){var e=this.left.queryInterval(t,n,r);if(e)return e}if(n>this.mid&&this.right){var e=this.right.queryInterval(t,n,r);if(e)return e}return n<this.mid?Hr(this.leftPoints,n,r):t>this.mid?Fr(this.rightPoints,t,r):Ur(this.leftPoints,r)};function xl(t,n){return t-n}function Ht(t,n){var r=t[0]-n[0];return r||t[1]-n[1]}function Ft(t,n){var r=t[1]-n[1];return r||t[0]-n[0]}function Ge(t){if(t.length===0)return null;for(var n=[],r=0;r<t.length;++r)n.push(t[r][0],t[r][1]);n.sort(xl);for(var e=n[n.length>>1],o=[],i=[],s=[],r=0;r<t.length;++r){var l=t[r];l[1]<e?o.push(l):e<l[0]?i.push(l):s.push(l)}var a=s,c=s.slice();return a.sort(Ht),c.sort(Ft),new Gt(e,Ge(o),Ge(i),a,c)}function Wr(t){this.root=t}var Ee=Wr.prototype;Ee.insert=function(t){this.root?this.root.insert(t):this.root=new Gt(t[0],null,null,[t],[t])};Ee.remove=function(t){if(this.root){var n=this.root.remove(t);return n===Ze&&(this.root=null),n!==Re}return!1};Ee.queryPoint=function(t,n){if(this.root)return this.root.queryPoint(t,n)};Ee.queryInterval=function(t,n,r){if(t<=n&&this.root)return this.root.queryInterval(t,n,r)};Object.defineProperty(Ee,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Ee,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Rl(t){return new Wr(null)}var _t=function(){function t(){H(this,t),_(this,"_columnSizeMap",{}),_(this,"_intervalTree",Rl()),_(this,"_leftMap",{})}return F(t,[{key:"estimateTotalHeight",value:function(r,e,o){var i=r-this.count;return this.tallestColumnSize+Math.ceil(i/e)*o}},{key:"range",value:function(r,e,o){var i=this;this._intervalTree.queryInterval(r,r+e,function(s){var l=al(s,3),a=l[0];l[1];var c=l[2];return o(c,i._leftMap[c],a)})}},{key:"setPosition",value:function(r,e,o,i){this._intervalTree.insert([o,o+i,r]),this._leftMap[r]=e;var s=this._columnSizeMap,l=s[e];l===void 0?s[e]=o+i:s[e]=Math.max(l,o+i)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var r=this._columnSizeMap,e=0;for(var o in r){var i=r[o];e=e===0?i:Math.min(e,i)}return e}},{key:"tallestColumnSize",get:function(){var r=this._columnSizeMap,e=0;for(var o in r){var i=r[o];e=Math.max(e,i)}return e}}]),t}(),En,Pn;function kn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function Tl(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kn(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kn(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Il={},Al=150,$r=(Pn=En=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"state",{isScrolling:!1,scrollTop:0}),_(b(e),"_debounceResetIsScrollingId",void 0),_(b(e),"_invalidateOnUpdateStartIndex",null),_(b(e),"_invalidateOnUpdateStopIndex",null),_(b(e),"_positionCache",new _t),_(b(e),"_startIndex",null),_(b(e),"_startIndexMemoized",null),_(b(e),"_stopIndex",null),_(b(e),"_stopIndexMemoized",null),_(b(e),"_debounceResetIsScrollingCallback",function(){e.setState({isScrolling:!1})}),_(b(e),"_setScrollingContainerRef",function(l){e._scrollingContainer=l}),_(b(e),"_onScroll",function(l){var a=e.props.height,c=l.currentTarget.scrollTop,d=Math.min(Math.max(0,e._getEstimatedTotalHeight()-a),c);c===d&&(e._debounceResetIsScrolling(),e.state.scrollTop!==d&&e.setState({isScrolling:!0,scrollTop:d}))}),e}return F(n,[{key:"clearCellPositions",value:function(){this._positionCache=new _t,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=o,this._invalidateOnUpdateStopIndex=o):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,o),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,o))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new _t,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,o){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Oe(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,o=this.props,i=o.autoHeight,s=o.cellCount,l=o.cellMeasurerCache,a=o.cellRenderer,c=o.className,d=o.height,u=o.id,p=o.keyMapper,m=o.overscanByPixels,f=o.role,g=o.style,v=o.tabIndex,S=o.width,w=o.rowDirection,y=this.state,A=y.isScrolling,T=y.scrollTop,O=[],z=this._getEstimatedTotalHeight(),R=this._positionCache.shortestColumnSize,x=this._positionCache.count,E=0,P;if(this._positionCache.range(Math.max(0,T-m),d+m*2,function(N,V,de){var ne;typeof P>"u"?(E=N,P=N):(E=Math.min(E,N),P=Math.max(P,N)),O.push(a({index:N,isScrolling:A,key:p(N),parent:e,style:(ne={height:l.getHeight(N)},_(ne,w==="ltr"?"left":"right",V),_(ne,"position","absolute"),_(ne,"top",de),_(ne,"width",l.getWidth(N)),ne)}))}),R<T+d+m&&x<s)for(var L=Math.min(s-x,Math.ceil((T+d+m-R)/l.defaultHeight*S/l.defaultWidth)),j=x;j<x+L;j++)P=j,O.push(a({index:j,isScrolling:A,key:p(j),parent:this,style:{width:l.getWidth(j)}}));return this._startIndex=E,this._stopIndex=P,I.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:oe("ReactVirtualized__Masonry",c),id:u,onScroll:this._onScroll,role:f,style:Tl({boxSizing:"border-box",direction:"ltr",height:i?"auto":d,overflowX:"hidden",overflowY:z<d?"hidden":"auto",position:"relative",width:S,WebkitOverflowScrolling:"touch",willChange:"transform"},g),tabIndex:v},I.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:z,maxWidth:"100%",maxHeight:z,overflow:"hidden",pointerEvents:A?"none":"",position:"relative"}},O))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var e=this._invalidateOnUpdateStartIndex,o=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,o),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Oe(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Bt(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,o=e.cellCount,i=e.cellMeasurerCache,s=e.width,l=Math.max(1,Math.floor(s/i.defaultWidth));return this._positionCache.estimateTotalHeight(o,l,i.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,o=e.height,i=e.onScroll,s=this.state.scrollTop;this._onScrollMemoized!==s&&(i({clientHeight:o,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:s}),this._onScrollMemoized=s)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var e=this.props.onCellsRendered;e({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(e,o){for(var i=this.props,s=i.cellMeasurerCache,l=i.cellPositioner,a=e;a<=o;a++){var c=l(a),d=c.left,u=c.top;this._positionCache.setPosition(a,d,u,s.getHeight(a))}}}],[{key:"getDerivedStateFromProps",value:function(e,o){return e.scrollTop!==void 0&&o.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),n}(I.PureComponent),_(En,"propTypes",null),Pn);_($r,"defaultProps",{autoHeight:!1,keyMapper:zl,onCellsRendered:jn,onScroll:jn,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:Al,style:Il,tabIndex:0,rowDirection:"ltr"});function zl(t){return t}function jn(){}We($r);var wt=function(){function t(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};H(this,t),_(this,"_cellMeasurerCache",void 0),_(this,"_columnIndexOffset",void 0),_(this,"_rowIndexOffset",void 0),_(this,"columnWidth",function(a){var c=a.index;n._cellMeasurerCache.columnWidth({index:c+n._columnIndexOffset})}),_(this,"rowHeight",function(a){var c=a.index;n._cellMeasurerCache.rowHeight({index:c+n._rowIndexOffset})});var e=r.cellMeasurerCache,o=r.columnIndexOffset,i=o===void 0?0:o,s=r.rowIndexOffset,l=s===void 0?0:s;this._cellMeasurerCache=e,this._columnIndexOffset=i,this._rowIndexOffset=l}return F(t,[{key:"clear",value:function(r,e){this._cellMeasurerCache.clear(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(r,e,o,i){this._cellMeasurerCache.set(r+this._rowIndexOffset,e+this._columnIndexOffset,o,i)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function Ln(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function $(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ln(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ln(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Mn=20,Ut=function(t){te(n,t);function n(r,e){var o;H(this,n),o=ee(this,K(n).call(this,r,e)),_(b(o),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),_(b(o),"_deferredInvalidateColumnIndex",null),_(b(o),"_deferredInvalidateRowIndex",null),_(b(o),"_bottomLeftGridRef",function(a){o._bottomLeftGrid=a}),_(b(o),"_bottomRightGridRef",function(a){o._bottomRightGrid=a}),_(b(o),"_cellRendererBottomLeftGrid",function(a){var c=a.rowIndex,d=Le(a,["rowIndex"]),u=o.props,p=u.cellRenderer,m=u.fixedRowCount,f=u.rowCount;return c===f-m?I.createElement("div",{key:d.key,style:$({},d.style,{height:Mn})}):p($({},d,{parent:b(o),rowIndex:c+m}))}),_(b(o),"_cellRendererBottomRightGrid",function(a){var c=a.columnIndex,d=a.rowIndex,u=Le(a,["columnIndex","rowIndex"]),p=o.props,m=p.cellRenderer,f=p.fixedColumnCount,g=p.fixedRowCount;return m($({},u,{columnIndex:c+f,parent:b(o),rowIndex:d+g}))}),_(b(o),"_cellRendererTopRightGrid",function(a){var c=a.columnIndex,d=Le(a,["columnIndex"]),u=o.props,p=u.cellRenderer,m=u.columnCount,f=u.fixedColumnCount;return c===m-f?I.createElement("div",{key:d.key,style:$({},d.style,{width:Mn})}):p($({},d,{columnIndex:c+f,parent:b(o)}))}),_(b(o),"_columnWidthRightGrid",function(a){var c=a.index,d=o.props,u=d.columnCount,p=d.fixedColumnCount,m=d.columnWidth,f=o.state,g=f.scrollbarSize,v=f.showHorizontalScrollbar;return v&&c===u-p?g:typeof m=="function"?m({index:c+p}):m}),_(b(o),"_onScroll",function(a){var c=a.scrollLeft,d=a.scrollTop;o.setState({scrollLeft:c,scrollTop:d});var u=o.props.onScroll;u&&u(a)}),_(b(o),"_onScrollbarPresenceChange",function(a){var c=a.horizontal,d=a.size,u=a.vertical,p=o.state,m=p.showHorizontalScrollbar,f=p.showVerticalScrollbar;if(c!==m||u!==f){o.setState({scrollbarSize:d,showHorizontalScrollbar:c,showVerticalScrollbar:u});var g=o.props.onScrollbarPresenceChange;typeof g=="function"&&g({horizontal:c,size:d,vertical:u})}}),_(b(o),"_onScrollLeft",function(a){var c=a.scrollLeft;o._onScroll({scrollLeft:c,scrollTop:o.state.scrollTop})}),_(b(o),"_onScrollTop",function(a){var c=a.scrollTop;o._onScroll({scrollTop:c,scrollLeft:o.state.scrollLeft})}),_(b(o),"_rowHeightBottomGrid",function(a){var c=a.index,d=o.props,u=d.fixedRowCount,p=d.rowCount,m=d.rowHeight,f=o.state,g=f.scrollbarSize,v=f.showVerticalScrollbar;return v&&c===p-u?g:typeof m=="function"?m({index:c+u}):m}),_(b(o),"_topLeftGridRef",function(a){o._topLeftGrid=a}),_(b(o),"_topRightGridRef",function(a){o._topRightGrid=a});var i=r.deferredMeasurementCache,s=r.fixedColumnCount,l=r.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=l>0?new wt({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:l}):i,o._deferredMeasurementCacheBottomRightGrid=s>0||l>0?new wt({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:l}):i,o._deferredMeasurementCacheTopRightGrid=s>0?new wt({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:0}):i),o}return F(n,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,s=e.rowIndex,l=s===void 0?0:s;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,i):i,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,l):l}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,s=e.rowIndex,l=s===void 0?0:s,a=this.props,c=a.fixedColumnCount,d=a.fixedRowCount,u=Math.max(0,i-c),p=Math.max(0,l-d);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:p}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:u,rowIndex:p}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:l}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:u,rowIndex:l}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,o=e.scrollLeft,i=e.scrollTop;if(o>0||i>0){var s={};o>0&&(s.scrollLeft=o),i>0&&(s.scrollTop=i),this.setState(s)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,o=e.onScroll,i=e.onSectionRendered;e.onScrollbarPresenceChange,e.scrollLeft;var s=e.scrollToColumn;e.scrollTop;var l=e.scrollToRow,a=Le(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var c=this.state,d=c.scrollLeft,u=c.scrollTop;return I.createElement("div",{style:this._containerOuterStyle},I.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid($({},a,{onScroll:o,scrollLeft:d}))),I.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid($({},a,{onScroll:o,scrollTop:u})),this._renderBottomRightGrid($({},a,{onScroll:o,onSectionRendered:i,scrollLeft:d,scrollToColumn:s,scrollToRow:l,scrollTop:u}))))}},{key:"_getBottomGridHeight",value:function(e){var o=e.height,i=this._getTopGridHeight(e);return o-i}},{key:"_getLeftGridWidth",value:function(e){var o=e.fixedColumnCount,i=e.columnWidth;if(this._leftGridWidth==null)if(typeof i=="function"){for(var s=0,l=0;l<o;l++)s+=i({index:l});this._leftGridWidth=s}else this._leftGridWidth=i*o;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){var o=e.width,i=this._getLeftGridWidth(e);return o-i}},{key:"_getTopGridHeight",value:function(e){var o=e.fixedRowCount,i=e.rowHeight;if(this._topGridHeight==null)if(typeof i=="function"){for(var s=0,l=0;l<o;l++)s+=i({index:l});this._topGridHeight=s}else this._topGridHeight=i*o;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var e=this._deferredInvalidateColumnIndex,o=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:o}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var o=this.props,i=o.columnWidth,s=o.enableFixedColumnScroll,l=o.enableFixedRowScroll,a=o.height,c=o.fixedColumnCount,d=o.fixedRowCount,u=o.rowHeight,p=o.style,m=o.styleBottomLeftGrid,f=o.styleBottomRightGrid,g=o.styleTopLeftGrid,v=o.styleTopRightGrid,S=o.width,w=e||a!==this._lastRenderedHeight||S!==this._lastRenderedWidth,y=e||i!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,A=e||d!==this._lastRenderedFixedRowCount||u!==this._lastRenderedRowHeight;(e||w||p!==this._lastRenderedStyle)&&(this._containerOuterStyle=$({height:a,overflow:"visible",width:S},p)),(e||w||A)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:S},this._containerBottomStyle={height:a-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:S}),(e||m!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=$({left:0,overflowX:"hidden",overflowY:s?"auto":"hidden",position:"absolute"},m)),(e||y||f!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=$({left:this._getLeftGridWidth(this.props),position:"absolute"},f)),(e||g!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=$({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},g)),(e||y||v!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=$({left:this._getLeftGridWidth(this.props),overflowX:l?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},v)),this._lastRenderedColumnWidth=i,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=d,this._lastRenderedHeight=a,this._lastRenderedRowHeight=u,this._lastRenderedStyle=p,this._lastRenderedStyleBottomLeftGrid=m,this._lastRenderedStyleBottomRightGrid=f,this._lastRenderedStyleTopLeftGrid=g,this._lastRenderedStyleTopRightGrid=v,this._lastRenderedWidth=S}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var o=e.enableFixedColumnScroll,i=e.fixedColumnCount,s=e.fixedRowCount,l=e.rowCount,a=e.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!i)return null;var d=c?1:0,u=this._getBottomGridHeight(e),p=this._getLeftGridWidth(e),m=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,f=a?p+m:p,g=I.createElement(ce,re({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:i,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:o?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,l-s)+d,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:f}));return a?I.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:$({},this._bottomLeftGridStyle,{height:u,width:p,overflowY:"hidden"})},g):g}},{key:"_renderBottomRightGrid",value:function(e){var o=e.columnCount,i=e.fixedColumnCount,s=e.fixedRowCount,l=e.rowCount,a=e.scrollToColumn,c=e.scrollToRow;return I.createElement(ce,re({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,o-i),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,l-s),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-i,scrollToRow:c-s,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var o=e.fixedColumnCount,i=e.fixedRowCount;return!o||!i?null:I.createElement(ce,re({},e,{className:this.props.classNameTopLeftGrid,columnCount:o,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:i,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)}))}},{key:"_renderTopRightGrid",value:function(e){var o=e.columnCount,i=e.enableFixedRowScroll,s=e.fixedColumnCount,l=e.fixedRowCount,a=e.scrollLeft,c=e.hideTopRightGridScrollbar,d=this.state,u=d.showHorizontalScrollbar,p=d.scrollbarSize;if(!l)return null;var m=u?1:0,f=this._getTopGridHeight(e),g=this._getRightGridWidth(e),v=u?p:0,S=f,w=this._topRightGridStyle;c&&(S=f+v,w=$({},this._topRightGridStyle,{left:0}));var y=I.createElement(ce,re({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,o-s)+m,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:S,onScroll:i?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:l,scrollLeft:a,style:w,tabIndex:null,width:g}));return c?I.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:$({},this._topRightGridStyle,{height:f,width:g,overflowX:"hidden"})},y):y}}],[{key:"getDerivedStateFromProps",value:function(e,o){return e.scrollLeft!==o.scrollLeft||e.scrollTop!==o.scrollTop?{scrollLeft:e.scrollLeft!=null&&e.scrollLeft>=0?e.scrollLeft:o.scrollLeft,scrollTop:e.scrollTop!=null&&e.scrollTop>=0?e.scrollTop:o.scrollTop}:null}}]),n}(I.PureComponent);_(Ut,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});Ut.propTypes={};We(Ut);function Ol(t){var n=t.dataKey,r=t.rowData;return typeof r.get=="function"?r.get(n):r[n]}function El(t){var n=t.cellData;return n==null?"":String(n)}function Vr(t){var n=t.className,r=t.columns,e=t.style;return I.createElement("div",{className:n,role:"row",style:e},r)}Vr.propTypes=null;var he={ASC:"ASC",DESC:"DESC"};function qr(t){var n=t.sortDirection,r=oe("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":n===he.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":n===he.DESC});return I.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},n===he.ASC?I.createElement("path",{d:"M7 14l5-5 5 5z"}):I.createElement("path",{d:"M7 10l5 5 5-5z"}),I.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}qr.propTypes={};function Kr(t){var n=t.dataKey,r=t.label,e=t.sortBy,o=t.sortDirection,i=e===n,s=[I.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof r=="string"?r:null},r)];return i&&s.push(I.createElement(qr,{key:"SortIndicator",sortDirection:o})),s}Kr.propTypes=null;function Jr(t){var n=t.className,r=t.columns,e=t.index,o=t.key,i=t.onRowClick,s=t.onRowDoubleClick,l=t.onRowMouseOut,a=t.onRowMouseOver,c=t.onRowRightClick,d=t.rowData,u=t.style,p={"aria-rowindex":e+1};return(i||s||l||a||c)&&(p["aria-label"]="row",p.tabIndex=0,i&&(p.onClick=function(m){return i({event:m,index:e,rowData:d})}),s&&(p.onDoubleClick=function(m){return s({event:m,index:e,rowData:d})}),l&&(p.onMouseOut=function(m){return l({event:m,index:e,rowData:d})}),a&&(p.onMouseOver=function(m){return a({event:m,index:e,rowData:d})}),c&&(p.onContextMenu=function(m){return c({event:m,index:e,rowData:d})})),I.createElement("div",re({},p,{className:n,key:o,role:"row",style:u}),r)}Jr.propTypes=null;var Xr=function(t){te(n,t);function n(){return H(this,n),ee(this,K(n).apply(this,arguments))}return n}(I.Component);_(Xr,"defaultProps",{cellDataGetter:Ol,cellRenderer:El,defaultSortDirection:he.ASC,flexGrow:0,flexShrink:1,headerRenderer:Kr,style:{}});Xr.propTypes={};function Nn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function be(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Nn(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nn(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Zr=function(t){te(n,t);function n(r){var e;return H(this,n),e=ee(this,K(n).call(this,r)),e.state={scrollbarWidth:0},e._createColumn=e._createColumn.bind(b(e)),e._createRow=e._createRow.bind(b(e)),e._onScroll=e._onScroll.bind(b(e)),e._onSectionRendered=e._onSectionRendered.bind(b(e)),e._setRef=e._setRef.bind(b(e)),e}return F(n,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var o=e.alignment,i=e.index;if(this.Grid){var s=this.Grid.getOffsetForCell({alignment:o,rowIndex:i}),l=s.scrollTop;return l}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var o=e.columnIndex,i=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:o})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.columnIndex,i=o===void 0?0:o,s=e.rowIndex,l=s===void 0?0:s;this.Grid&&this.Grid.recomputeGridSize({rowIndex:l,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=st.findDOMNode(this.Grid),o=e.clientWidth||0,i=e.offsetWidth||0;return i-o}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,o=this.props,i=o.children,s=o.className,l=o.disableHeader,a=o.gridClassName,c=o.gridStyle,d=o.headerHeight,u=o.headerRowRenderer,p=o.height,m=o.id,f=o.noRowsRenderer,g=o.rowClassName,v=o.rowStyle,S=o.scrollToIndex,w=o.style,y=o.width,A=this.state.scrollbarWidth,T=l?p:p-d,O=typeof g=="function"?g({index:-1}):g,z=typeof v=="function"?v({index:-1}):v;return this._cachedColumnStyles=[],I.Children.toArray(i).forEach(function(R,x){var E=e._getFlexStyleForColumn(R,R.props.style);e._cachedColumnStyles[x]=be({overflow:"hidden"},E)}),I.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":I.Children.toArray(i).length,"aria-rowcount":this.props.rowCount,className:oe("ReactVirtualized__Table",s),id:m,role:"grid",style:w},!l&&u({className:oe("ReactVirtualized__Table__headerRow",O),columns:this._getHeaderColumns(),style:be({height:d,overflow:"hidden",paddingRight:A,width:y},z)}),I.createElement(ce,re({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:oe("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:y,columnCount:1,height:T,id:void 0,noContentRenderer:f,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:A,scrollToRow:S,style:be({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var o=e.column,i=e.columnIndex,s=e.isScrolling,l=e.parent,a=e.rowData,c=e.rowIndex,d=this.props.onColumnClick,u=o.props,p=u.cellDataGetter,m=u.cellRenderer,f=u.className,g=u.columnData,v=u.dataKey,S=u.id,w=p({columnData:g,dataKey:v,rowData:a}),y=m({cellData:w,columnData:g,columnIndex:i,dataKey:v,isScrolling:s,parent:l,rowData:a,rowIndex:c}),A=function(R){d&&d({columnData:g,dataKey:v,event:R})},T=this._cachedColumnStyles[i],O=typeof y=="string"?y:null;return I.createElement("div",{"aria-colindex":i+1,"aria-describedby":S,className:oe("ReactVirtualized__Table__rowColumn",f),key:"Row"+c+"-Col"+i,onClick:A,role:"gridcell",style:T,title:O},y)}},{key:"_createHeader",value:function(e){var o=e.column,i=e.index,s=this.props,l=s.headerClassName,a=s.headerStyle,c=s.onHeaderClick,d=s.sort,u=s.sortBy,p=s.sortDirection,m=o.props,f=m.columnData,g=m.dataKey,v=m.defaultSortDirection,S=m.disableSort,w=m.headerRenderer,y=m.id,A=m.label,T=!S&&d,O=oe("ReactVirtualized__Table__headerColumn",l,o.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:T}),z=this._getFlexStyleForColumn(o,be({},a,{},o.props.headerStyle)),R=w({columnData:f,dataKey:g,disableSort:S,label:A,sortBy:u,sortDirection:p}),x,E,P,L,j;if(T||c){var N=u!==g,V=N?v:p===he.DESC?he.ASC:he.DESC,de=function(ye){T&&d({defaultSortDirection:v,event:ye,sortBy:g,sortDirection:V}),c&&c({columnData:f,dataKey:g,event:ye})},ne=function(ye){(ye.key==="Enter"||ye.key===" ")&&de(ye)};j=o.props["aria-label"]||A||g,L="none",P=0,x=de,E=ne}return u===g&&(L=p===he.ASC?"ascending":"descending"),I.createElement("div",{"aria-label":j,"aria-sort":L,className:O,id:y,key:"Header-Col"+i,onClick:x,onKeyDown:E,role:"columnheader",style:z,tabIndex:P},R)}},{key:"_createRow",value:function(e){var o=this,i=e.rowIndex,s=e.isScrolling,l=e.key,a=e.parent,c=e.style,d=this.props,u=d.children,p=d.onRowClick,m=d.onRowDoubleClick,f=d.onRowRightClick,g=d.onRowMouseOver,v=d.onRowMouseOut,S=d.rowClassName,w=d.rowGetter,y=d.rowRenderer,A=d.rowStyle,T=this.state.scrollbarWidth,O=typeof S=="function"?S({index:i}):S,z=typeof A=="function"?A({index:i}):A,R=w({index:i}),x=I.Children.toArray(u).map(function(L,j){return o._createColumn({column:L,columnIndex:j,isScrolling:s,parent:a,rowData:R,rowIndex:i,scrollbarWidth:T})}),E=oe("ReactVirtualized__Table__row",O),P=be({},c,{height:this._getRowHeight(i),overflow:"hidden",paddingRight:T},z);return y({className:E,columns:x,index:i,isScrolling:s,key:l,onRowClick:p,onRowDoubleClick:m,onRowRightClick:f,onRowMouseOver:g,onRowMouseOut:v,rowData:R,style:P})}},{key:"_getFlexStyleForColumn",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),s=be({},o,{flex:i,msFlex:i,WebkitFlex:i});return e.props.maxWidth&&(s.maxWidth=e.props.maxWidth),e.props.minWidth&&(s.minWidth=e.props.minWidth),s}},{key:"_getHeaderColumns",value:function(){var e=this,o=this.props,i=o.children,s=o.disableHeader,l=s?[]:I.Children.toArray(i);return l.map(function(a,c){return e._createHeader({column:a,index:c})})}},{key:"_getRowHeight",value:function(e){var o=this.props.rowHeight;return typeof o=="function"?o({index:e}):o}},{key:"_onScroll",value:function(e){var o=e.clientHeight,i=e.scrollHeight,s=e.scrollTop,l=this.props.onScroll;l({clientHeight:o,scrollHeight:i,scrollTop:s})}},{key:"_onSectionRendered",value:function(e){var o=e.rowOverscanStartIndex,i=e.rowOverscanStopIndex,s=e.rowStartIndex,l=e.rowStopIndex,a=this.props.onRowsRendered;a({overscanStartIndex:o,overscanStopIndex:i,startIndex:s,stopIndex:l})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),n}(I.PureComponent);_(Zr,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:jr,overscanRowCount:10,rowRenderer:Jr,headerRowRenderer:Vr,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});Zr.propTypes={};var fe=[],Ne=null,Se=null;function Qr(){Se&&(Se=null,document.body&&Ne!=null&&(document.body.style.pointerEvents=Ne),Ne=null)}function Pl(){Qr(),fe.forEach(function(t){return t.__resetIsScrolling()})}function kl(){Se&&Oe(Se);var t=0;fe.forEach(function(n){t=Math.max(t,n.props.scrollingResetTimeInterval)}),Se=Bt(Pl,t)}function Yr(t){t.currentTarget===window&&Ne==null&&document.body&&(Ne=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),kl(),fe.forEach(function(n){n.props.scrollElement===t.currentTarget&&n.__handleWindowScrollEvent()})}function Dn(t,n){fe.some(function(r){return r.props.scrollElement===n})||n.addEventListener("scroll",Yr),fe.push(t)}function Bn(t,n){fe=fe.filter(function(r){return r!==t}),fe.length||(n.removeEventListener("scroll",Yr),Se&&(Oe(Se),Qr()))}var Wt=function(n){return n===window},Me=function(n){return n.getBoundingClientRect()};function Gn(t,n){if(t)if(Wt(t)){var r=window,e=r.innerHeight,o=r.innerWidth;return{height:typeof e=="number"?e:0,width:typeof o=="number"?o:0}}else return Me(t);else return{height:n.serverHeight,width:n.serverWidth}}function jl(t,n){if(Wt(n)&&document.documentElement){var r=document.documentElement,e=Me(t),o=Me(r);return{top:e.top-o.top,left:e.left-o.left}}else{var i=eo(n),s=Me(t),l=Me(n);return{top:s.top+i.top-l.top,left:s.left+i.left-l.left}}}function eo(t){return Wt(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var Hn,Fn;function Un(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,e)}return r}function Ll(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Un(r,!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Un(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Ml=150,to=function(){return typeof window<"u"?window:void 0},Nl=(Fn=Hn=function(t){te(n,t);function n(){var r,e;H(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=ee(this,(r=K(n)).call.apply(r,[this].concat(i))),_(b(e),"_window",to()),_(b(e),"_isMounted",!1),_(b(e),"_positionFromTop",0),_(b(e),"_positionFromLeft",0),_(b(e),"_detectElementResize",void 0),_(b(e),"_child",void 0),_(b(e),"state",Ll({},Gn(e.props.scrollElement,e.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),_(b(e),"_registerChild",function(l){l&&!(l instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),e._child=l,e.updatePosition()}),_(b(e),"_onChildScroll",function(l){var a=l.scrollTop;if(e.state.scrollTop!==a){var c=e.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,a+e._positionFromTop):c.scrollTop=a+e._positionFromTop)}}),_(b(e),"_registerResizeListener",function(l){l===window?window.addEventListener("resize",e._onResize,!1):e._detectElementResize.addResizeListener(l,e._onResize)}),_(b(e),"_unregisterResizeListener",function(l){l===window?window.removeEventListener("resize",e._onResize,!1):l&&e._detectElementResize.removeResizeListener(l,e._onResize)}),_(b(e),"_onResize",function(){e.updatePosition()}),_(b(e),"__handleWindowScrollEvent",function(){if(e._isMounted){var l=e.props.onScroll,a=e.props.scrollElement;if(a){var c=eo(a),d=Math.max(0,c.left-e._positionFromLeft),u=Math.max(0,c.top-e._positionFromTop);e.setState({isScrolling:!0,scrollLeft:d,scrollTop:u}),l({scrollLeft:d,scrollTop:u})}}}),_(b(e),"__resetIsScrolling",function(){e.setState({isScrolling:!1})}),e}return F(n,[{key:"updatePosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,o=this.props.onResize,i=this.state,s=i.height,l=i.width,a=this._child||st.findDOMNode(this);if(a instanceof Element&&e){var c=jl(a,e);this._positionFromTop=c.top,this._positionFromLeft=c.left}var d=Gn(e,this.props);(s!==d.height||l!==d.width)&&(this.setState({height:d.height,width:d.width}),o({height:d.height,width:d.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Mr(),this.updatePosition(e),e&&(Dn(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,o){var i=this.props.scrollElement,s=e.scrollElement;s!==i&&s!=null&&i!=null&&(this.updatePosition(i),Bn(this,s),Dn(this,i),this._unregisterResizeListener(s),this._registerResizeListener(i))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Bn(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,o=this.state,i=o.isScrolling,s=o.scrollTop,l=o.scrollLeft,a=o.height,c=o.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:a,isScrolling:i,scrollLeft:l,scrollTop:s,width:c})}}]),n}(I.PureComponent),_(Hn,"propTypes",null),Fn);_(Nl,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Ml,scrollElement:to(),serverHeight:0,serverWidth:0});const $t=()=>{const[t,n]=Ie("passives",[]);return{passives:t,addPassive:i=>{var l;const s=((l=t[t.length-1])==null?void 0:l.id)??0;n(t.concat({...i,id:s+1}).toSorted((a,c)=>a.id-c.id))},removePassive:i=>{const s=t.findIndex(l=>l.id===i);s<0||n(t.toSpliced(s,1))},getPassive:i=>{const s=t.find(l=>l.id===i);if(s)return s}}},Dl="_card_qgmt1_1",Bl="_highlight_qgmt1_26",Gl="_search_qgmt1_29",De={card:Dl,highlight:Bl,search:Gl},Wn=670,$n=6,Hl=({open:t,onClose:n})=>{const{passives:r,removePassive:e,getPassive:o}=$t(),{tokens:i}=J(),{currentCharacter:s,updateCurrentCharacter:l}=W(),[a,c]=I.useState(!1),[d,u]=I.useState(s.passives??[]);return h.jsxs(Ue,{open:t,onClose:n,children:[h.jsx("div",{className:"flex flex-wrap w-[180mm] gap-[5mm] items-center",children:h.jsxs("div",{className:"flex flex-col gap-[3mm] w-full",children:[h.jsxs("div",{className:"flex gap-[2mm]  bg-[#ffffff77] p-[2mm] rounded-[1.5mm]",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("h2",{className:"font-Advent",children:[i.UI.preview,":"]}),h.jsx("button",{onClick:()=>{l({...s,passives:d}),n()},className:"font-Advent border border-black p-[1mm] w-fit rounded bg-white",children:i.UI.save})]}),h.jsx("div",{className:"flex flex-wrap gap-[2mm]",children:d.map((p,m)=>{const f=o(p);return f?h.jsx(rt,{passive:f,className:"cursor-pointer",onClick:()=>{u(d.toSpliced(m,1))}},f.id):!1})})]}),h.jsx("h1",{className:"font-Advent flex justify-center",children:h.jsx("span",{className:"border-black border-b border-t w-[60%] block  text-center",children:i.UI.passivesGallery})}),h.jsxs("div",{className:"flex gap-[2mm] flex-wrap  bg-[#ffffff77] p-[2mm] rounded-[1.5mm]",children:[h.jsx("button",{onClick:()=>c(!0),className:"border border-black bg-white rounded-[1.5mm] pt-[0.5mm] pb-[0.5mm] pl-[2mm] pr-[2mm] font-Advent",children:i.UI.addPassive}),r.map(p=>h.jsxs("div",{className:"relative",children:[h.jsx(rt,{className:M("cursor-copy",{"bg-[#ffe1b7] !cursor-pointer":d.includes(p.id)}),passive:p,onClick:()=>{d.includes(p.id)?u(d.toSpliced(d.findIndex(m=>p.id==m),1)):u(d.concat(p.id))}}),h.jsx("img",{src:at,className:"w-[3mm] absolute top-[-4mm] right-[-4mm] p-[2mm] box-content cursor-pointer invert hover:invert-0",onClick:()=>{e(p.id),d.includes(p.id)&&u(d.toSpliced(d.findIndex(m=>p.id===m),1))}})]},p.id))]})]})}),h.jsx(Fl,{open:a,onClose:()=>c(!1)})]})},Fl=({open:t,onClose:n})=>{const{tokens:r}=J(),{addPassive:e}=$t(),[o,i]=I.useState(""),[s,l]=I.useState(r.UI.defaultPassive),[a,c]=I.useState([]),[d,u]=I.useState(-1),[p,m]=I.useState(!0),{getAll:f}=pe.useIndexedDB("icon"),g=ni(a.filter(S=>S.name.toLowerCase().includes(o.toLowerCase().replaceAll(" ",""))),$n),v=({columnIndex:S,key:w,rowIndex:y,style:A})=>g[y][S]&&h.jsxs("div",{className:M("flex flex-col items-center cursor-pointer",De.highlight),style:A,onClick:()=>u(g[y][S].id),children:[h.jsx("img",{src:g[y][S].image,className:"w-[10mm]"}),h.jsx("span",{className:"font-Advent font-light text-center",children:oi(ri(g[y][S].name),o,"#69212c")})]},w);return I.useEffect(()=>{t?(m(!0),f().then(S=>{c(S),m(!1)})):c([])},[t]),h.jsxs(Ue,{open:t,onClose:n,children:[p&&h.jsx("span",{children:"Please wait"}),!p&&h.jsxs("div",{className:"flex flex-col gap-[2mm]",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("div",{className:"flex items-center gap-[2mm]",children:[h.jsxs("span",{className:"font-Advent",children:[r.UI.passiveName,":"]}),h.jsx("input",{type:"text",placeholder:r.UI.passiveName,maxLength:48,value:s,onChange:S=>l(S.target.value),className:De.search})]}),h.jsxs("div",{className:"flex items-center gap-[2mm]",children:[h.jsxs("h2",{className:"font-Advent",children:[r.UI.preview,":"]})," ",h.jsx(rt,{passive:{id:-1,name:s,icon:d},className:"bg-[#ffffff77]"})]}),h.jsx("div",{className:"flex",children:h.jsx("button",{onClick:()=>{e({name:s,icon:d}),n()},className:"font-Advent border border-black p-[1mm] w-fit rounded bg-white",children:r.UI.save})})]}),h.jsxs("div",{className:"flex flex-col gap-[5mm]",children:[h.jsx("input",{type:"text",placeholder:r.UI.search,value:o,onChange:S=>i(S.target.value),className:De.search}),h.jsx(ce,{cellRenderer:v,columnCount:g[0]?g[0].length:0,columnWidth:Wn/$n,height:500-Be(21),rowCount:g.length,rowHeight:90,width:Wn,style:{overflowX:"hidden"}})]})]})]})},Ul="_container_7ryi3_1",Wl="_canActivate_7ryi3_14",$l="_header_7ryi3_31",Vl="_statuses_7ryi3_35",ql="_skills_7ryi3_40",Kl="_status_7ryi3_35",Jl="_passives_7ryi3_55",Xl="_passive_7ryi3_55",U={container:Ul,canActivate:Wl,header:$l,statuses:Vl,skills:ql,status:Kl,passives:Jl,passive:Xl},Zl=()=>{const{tokens:t}=J(),{isEdit:n,currentCharacter:r}=W(),{getPassive:e}=$t(),[o,i]=I.useState(!1);return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:M(U.container,U.passives,{[U.canActivate]:n}),onClick:()=>{n&&i(!0)},children:[h.jsx("h1",{className:U.header,children:t.UI.passives}),h.jsx("div",{className:U.statuses,children:(r.passives??[]).map(e).filter(Boolean).map(s=>h.jsx(rt,{passive:s},s.id))})]}),n&&h.jsx(Hl,{open:o,onClose:()=>{i(!1)}})]})},rt=({passive:t,onClick:n,className:r})=>{const{getByID:e}=pe.useIndexedDB("icon"),[o,i]=I.useState("");return I.useEffect(()=>{t.icon!==-1&&e(t.icon).then(s=>i(s.image))},[t]),h.jsxs("div",{className:M(U.status,U.passive,r),onClick:n,children:[t.icon!==-1&&h.jsx("img",{src:o}),t.name]})},Ql="/character-sheet/assets/perception-hd-transparent-BGRwEmjZ.png",Yl="/character-sheet/assets/hammer-hd-transparent-BGqlbb0s.png",ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnwAAAJ8CAMAAABTM4xkAAAABlBMVEVMaXEAAACaXKEdAAAAAXRSTlMAQObYZgAAAAlwSFlzAAALEwAACxMBAJqcGAAADEVJREFUeJzt3NF23UYMQ9HB//90V9N2tU0c25JmBBI8+zmWSAK9frhJ1wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjCTJPQIm0r/co2Bu92gffN2jfXgT5UOR7tE++LpH+fAWyodC5aN9eAnlgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lgw3lG6dOzDXLpzKTxKkUdMXuqdIwYWpFXa98KjVNlmJZlyufao0ThbCb3SeJql239DSyD5Tk1+Paz1t2lhITJdFHygxVZpD/cg+VQ0XvW2WID7inyvHRdTnwX7iN58BceHEa24U5sTiMrXzTjyzuch7t+xBn8V558pnFUV5B+37FTd7CpX/GRd7Drf+Pc7yJ9v0X13gX9/4Xt3gbF/8Hl3gfN/8Ld3Dg6n/iCB60b3EDGy6v8RfwmX57Dd/fa/b1NXp7v8n319zVi5jbPo3dvI6pGWjo3rXMTEEjt65nYg4auHNN85LQtIULm9Y+Ddu3tllpaNS29Tny+OSdrvcuOLyayBe1s718weOlTC707u0BFmxOh3+rdtu7IcpX0slYnjbvhUEWnE4Fs6l5Z0dZ8DqRzNbmHZtmwW573geqd2ScBb+d4Rwq3omRFirYls651u0faqGGPfGc7Nz2sRaq2JDP2cZtHmyhkIcBnS/c3uEWKnkS0Btt2zreQi07w33FemE1vORmQvJZZzfDi+4kJK91fcoHB8JJT0I1WWc2g8GlgFTBOrEZilMVC9OojoVRVMvCHCpnYQZVtDDBkaLQPnztbEFoHz7xSjGoH371XiVoH/7v5TrQPvzDUQXqhx88NaB9uFYC46u1990owBs/7ZvMn71/AniUCL7EEHhbldSrzIH3FIqc+g1TKu9Sw+C0amlXmwfnFIy64Eg4oWbONafCjJSrzoUJGavsZNijdMCqPBweqx2vao+HR6pnq+oD4rYG0arBjLihRa7qMCRCY1WPMREZqroMim9rFKnaTIq07i3al6VV9xbtS9IuzHYDIydLdRsYv9MxSTWcGSkfI+o4NEJiVMupkdC91XVuJGSotpPjb40TVN/R0T5AdR4ezeNT6+mna16+1Xz82bqHp+4LDNY/OrXfYKqE5BSww0gRwSlgh4EiurcythgnJDVlrDFLTGhKWWSQmMyUssgcQZEpZ5UhghJTziozRAWmpGUGyIpLUdukC/usUNY64dLCUtg+0eLCUtpCufKiUtxGsfKSEu1rIjEoBe4UKTEoBe6UKDMnJS6VZ1r55B4N/wpNSZlrhQlNSZlrZYkNSamLBYnNSKmLBcmNSLmrhQhOSLmrhQgOSMG7ZUgOSMG7JYj+dFDycgGi81HycgGy41H0dt2FfzYoe73mwtNR9nrNpYej8P1aSw9H4ft1Fv9rSeH7dZafjdIX7Gtu+eQeDPnRKH7DtvKjUfyGbQ1IRvkrNjUgGeWv2NOE30kasGNLE4LRgB2td/zK5QeuHNp2lJtHznD3Kr8/zIQ76tqSD44cdbZ9V/ndYSZcUVsu8uTK/T28ysd3GXFDbTjIkyP39/QqHx9mxA31/B6PjtyfTtxlxgm14SBPrtzfkbPMuKC+veWGI2ed7m9HzjLjgvr2lhuOnHW6fWe5cOyVRM/v8ejK7Z05y4wD6vk9Hl25vTNnmXFAPb/Hoyv3d+QqQ+6n76654chpt/vhyFmGHFDfXXPDkdNu98ORsww5oB4f5NGVA5y4ypAD6vlFnlw5wImzDLmgnl/kwZEjHDjLkBNqw0keXDnD9qMMOaG2HOX2lXNsPcmQI2rbYW5dGR8ackjNWLOZIaloxprNDElFM9ZsZkgqmrFmM0NS0Yw1mxmSimasGZJKWCwasWU3M8qnEVu2MyMWjdiynRmxaMSW7cyIRSO2bGdGLBqxZT8jYtGILfsZEYsmLNnQiFw0YcmGJuSiCUt2NCEXTViyownBaMCOLU0IRgN27GlAMBqwY08DglH+ik0NSEb5KzaV/ztJ8Ru2lR+N4jdsKz8axW+YF01MNgrfr7P08il8v9bSw1H4fq2lh6Pw/TLDyUhH2et1l52OstfrLjsdRW/XXvRng5KXCxCdj5KXS5Ccj4J3ixD86aDc1UIEJ6Tc1VLkJqTYzWLEfj4odbEgsRkpdbEkoSEpc60woSkpc60wioxJkVvliYxJiUsFSvyQUOBOkRKDUuBOmfKCUt5KqfKiUtxGudKyUtg+0dLCUtg+2bLSUtY66bLSUtQ2+ZLyUtIyEwQFppxVhghKTDmrTBETmVIWGSQmM6UsMklIaMpYYxhFxKaILeZJyE0BO4yUEJwCdpipf3Jqv8Fc3bNT8/lHU+/01Hv86Xqnp9bTj9f6s0Odh0frANV3dDSPUG0nR/cM1XRu9E9RLafGtRhr5qiOQyMiSPUbGSFRqtvAuJ1ltTDVbF7kpKlW0yIpTzWaFVmJqs2k2BVplUzVZE7ktU89xsQ1LVJViylxWYNc1WBG3FI/WZWfEKHZqvh8CE5XpadDcvtUeThEB6y6o2GPsgmr7GTYpmjGKjoXtqqZskpOhQk5V5wJz3ycW72gL3dPNLK432ZXrn0XB5LxvxN8x/fSK9G+290T9SvpQn7u9j3pnmhfPRcTdJbvWfdE+6r5uk512ndxEtG+2u6F6En06hyifaXdTrFe+da3/vhrw+IrT2J8PdCrQ4j2VfYwx3fzvDyDaF9hz4N8M89d5dMr0+Jzl7pkb9/1AUT7yrqYjbl8d8ov2lfU5SZ523fn7aJ9NV0Ppm751vUfOj4v1tZYnO2792rRvoLupeIr393ei/aVczOTuxU4OrDu/uDRgbE9EVf5HrRetK+UB3mY2vfktaJ9hTwKw9K+Zy8V7StDUeVb538c2zxNwpDk48KL9pXwOIfHTdg6sx4/4dDMOJJCqfKtskPjZzsi0NtBbnmfaJ/ZngRalm/RPq9d9383x55T49D1e5Zv0T6fjad/M8WNlRHtM9l5+TdT3Pkq0T6LrXfvWr5F+xw2X/29ENsOjlM3r1C+VXxy/GX/wd+KcH9XRPtepcTyrf2PpH37Hbn2Swm+O7p2jo5jt3aXb514KO3b7NSlXwnw9dm1bXQc7Ejn8i3a94pzV7aWb516MOXb5+CRX4iv9/TjHbzxwWZ8+YpV+9n4wZFej/ItynfayfseL9/heovyBZZvV36nXyDKd1Tnbpg+Whc2OXrd9uVbdO+ok9c9XI7fPl57nv/xO/Y9Gydve7gdL3RvraMPH+/kbQPKt+jeSQdPm1C+RfdOOnfaiPKtgwfCn17+99zlH/4zitdPTPnQz8mCUD58ivLBhvLBx1C+DY9GBMoHG8oHG8oHm981hH/hg8DybRkbCSgfbCgfbCgffCgfbCgfbCgfbCgfbCgfbCgfbCgfbCgfbF7/H9fuGRsJKB/iynes1MhB+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WBD+WCjMy059FhkOVITuodnPVGpZyLQJ0W5WZX9T0Qovcu9Lkqhe7ChfLChfPChe7ChfLChe/ChfPChe7ChfPChe/Che7ChfPChe/Che/Che/ChezCievChe/Che3CiefChe3CieXCieQAAAAAAAAAAAACQ/BcK+JoXVbpH++DrHu2Dr3u0D77uUT74ykf78CnKBxvKh8juUT58hvLBh/LBhvLBhvLBh+7Bh+7Bh+7Bh+7Bh+oBAAAAAAAAAIB+9n/DwVcccFWP9sHYPeoHY/doH75C+RDYPdqHz1E+2FA+RHaP8uEzlA8+lA82lA82lA8+dA82lA8+dA8+dA9GVA8AAAAAAAAAAGTg2wyY8GUamnSP9sHXPdoHX/doH7a41T3ahx0oH5p1j/LhOcoHG8oHG8oHG8oHH8oHG8oHH7oHG7oHH8oHH6oHK5oHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFj/9Qfvj4X6w33N+gAAAABJRU5ErkJggg==",ta="/character-sheet/assets/insp-hd-transparent-CbCLZpF6.png",na=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsxs("div",{className:M(U.container,U.skills),style:n?le:void 0,children:[h.jsx("h1",{className:U.header,children:t.skills.title}),h.jsxs("div",{className:U.statuses,children:[h.jsxs("div",{className:U.status,children:[h.jsx("img",{src:ea}),t.skills.initiative]}),h.jsxs("div",{className:U.status,children:[h.jsx("img",{src:Yl}),t.skills.proficiency]}),h.jsxs("div",{className:U.status,children:[h.jsx("img",{src:Ql}),t.skills.perception]}),h.jsxs("div",{className:U.status,children:[h.jsx("img",{src:ta}),t.skills.inspiration]})]})]})},ra=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsxs("div",{className:U.container,style:n?le:void 0,children:[h.jsx("h1",{className:U.header,children:t.speed.title}),h.jsxs("ul",{children:[h.jsxs("li",{children:[t.speed.walk,":"]}),h.jsxs("li",{children:[t.speed.run,":"]}),h.jsxs("li",{children:[t.speed.climb,":"]}),h.jsxs("li",{children:[t.speed.swim,":"]})]})]})},oa="_weapons_786nm_1",ia="_title_786nm_9",sa="_weapon_786nm_1",la="_spell_786nm_76",He={weapons:oa,title:ia,weapon:sa,spell:la},aa="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ca=(t=21)=>{let n="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)n+=aa[r[t]&63];return n};const da=(t,n)=>t.map((r,e)=>h.jsxs(I.Fragment,{children:[r,e!==t.length-1&&n]},`joined-element-${ca()}`)),ua=({levels:t})=>{const{tokens:n}=J();return h.jsxs("div",{className:He.weapon,children:[n.weapons.spellSlots,":",h.jsx("div",{className:He.spell,children:da(Array(t).fill(0).map((r,e)=>h.jsxs("div",{className:"flex flex-col flex-1 items-center",children:[h.jsx("span",{className:"border-b border-b-black w-full text-center",children:e+1}),h.jsx("span",{className:"h-[1.5em] border-b border-b-black w-[80%]"}),h.jsx("span",{className:"h-[1.5em]"})]})),h.jsx("span",{className:"h-full w-[1px] bg-black"}))})]})},ha=()=>{const{tokens:t}=J(),{isEdit:n}=W();return h.jsxs("div",{className:He.weapon,style:n?le:void 0,children:[h.jsxs("span",{children:[t.weapons.name,":"]}),h.jsxs("span",{children:[t.weapons.attackBonus,":"]}),h.jsxs("span",{children:[t.weapons.damageType,":"]})]})},fa=()=>{const{tokens:t}=J(),{currentCharacter:n,isEdit:r}=W();return h.jsxs("div",{className:He.weapons,children:[h.jsx("div",{className:He.title,style:r?le:void 0,children:h.jsx("h1",{children:t.weapons.title})}),n.manaTracker&&h.jsx(ua,{levels:n.manaSlots}),Array(n.manaTracker?3:4).fill(0).map((e,o)=>h.jsx(ha,{},`weapon-${o}`))]})},pa=()=>{const{currentCharacter:t}=W(),{getByID:n}=pe.useIndexedDB("background"),[r,e]=I.useState("");return I.useEffect(()=>{t.backgroundImage!==-1?n(t.backgroundImage).then(o=>(o==null?void 0:o.image)&&Dt(o.image)).then(o=>o&&e(o)).catch(console.error):e("")},[t]),h.jsx(Do,{background:r,className:"print",children:h.jsx("div",{className:"flex flex-col h-full gap-[5mm] items-center pt-[2mm]",children:h.jsxs("div",{className:"flex h-full",children:[h.jsxs("div",{className:"flex flex-col gap-[2mm]",children:[h.jsx(Ar,{character:t}),h.jsx(_s,{}),h.jsx(Ji,{}),h.jsx(fa,{})]}),h.jsxs("div",{className:"flex flex-col w-full gap-[5mm] h-full",children:[h.jsx("div",{className:"flex justify-between w-full gap-[1mm]",children:Rr(xr).map(o=>h.jsx(is,{data:t.stats[o],color:tn[o].color,icon:tn[o].icon,name:o},o))}),h.jsxs("div",{className:"flex gap-[2mm]",children:[h.jsx(ra,{}),h.jsx(na,{}),h.jsx(Zl,{})]}),h.jsx(gs,{}),h.jsx(Cs,{})]})]})})})},ma=({open:t,onClose:n})=>{const{updateCurrentCharacter:r,currentCharacter:e}=W(),[o,i]=I.useState(Te()),s=I.useRef(null),[l,a]=I.useState([]),{getAll:c,add:d,deleteRecord:u}=pe.useIndexedDB("background"),p=async m=>{const f=m.target.files[0];f&&(await d({name:`char-upload-${f.name}`.replaceAll("_","-").replaceAll(" ","-"),image:f}),i(Te()),s.current.value="")};return I.useEffect(()=>{t?c().then(m=>{Promise.all(m.map(async f=>{const g=await Dt(f.image);return{...f,image:g}})).then(f=>{a(f)})}):a([])},[t,o]),h.jsx(Ue,{open:t,onClose:n,children:h.jsxs("div",{className:"flex flex-wrap max-w-[180mm] gap-[2mm]",children:[l.length>0?h.jsxs("div",{className:M(De.card,"bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl flex justify-center items-center"),onClick:()=>s.current.click(),children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:p,ref:s}),"+"]}):h.jsx("h2",{className:"font-Advent",children:"Loading backgrounds, please wait"}),t&&l.map(m=>{const f=m.name.split("/"),g=f[f.length-1].split(".");g.pop();const v=g.join("");return h.jsxs("div",{className:"relative",children:[h.jsx("div",{style:{background:`url(${m.image})`},className:De.card,onClick:()=>{r({...e,backgroundImage:m.id}),n()},"aria-label":v.replace("char-upload-","")}),m.name.includes("char-upload-")&&h.jsx("img",{src:at,className:"w-[4mm] absolute top-[-4mm] right-[-4mm] p-[2mm] box-content cursor-pointer hover:invert",onClick:()=>{u(m.id).then(()=>i(Te()))}})]},m.name)})]})})},ga=({open:t,onClose:n})=>{const{addNewCharacter:r,allCharacters:e,setLastCharacter:o,removeCharacter:i}=W();return h.jsx(Ue,{open:t,onClose:n,children:h.jsxs("div",{className:"flex flex-wrap max-w-[180mm] gap-[5mm] items-center",children:[h.jsx("div",{className:"w-[40mm] h-[40mm] rounded-full overflow-hidden flex justify-center items-center bg-[#00000099] hover:bg-[#000000aa] text-white text-5xl cursor-pointer hover:border-white",onClick:()=>r(),children:"+"}),e.map(s=>h.jsxs("div",{className:"hover:brightness-125 cursor-pointer relative",onClick:()=>{o(s.id),n()},children:[h.jsx("img",{src:at,className:"w-[4mm] absolute top-0 right-[50%] p-[2mm] box-content cursor-pointer translate-x-[50%] hover:invert",onClick:l=>{l.stopPropagation(),i(s.id)}}),h.jsx(Ar,{character:s,isPreview:!0})]},s.id))]})})};function no(t,n){return function(){return t.apply(n,arguments)}}const{toString:va}=Object.prototype,{getPrototypeOf:Vt}=Object,dt=(t=>n=>{const r=va.call(n);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ie=t=>(t=t.toLowerCase(),n=>dt(n)===t),ut=t=>n=>typeof n===t,{isArray:Pe}=Array,Fe=ut("undefined");function Sa(t){return t!==null&&!Fe(t)&&t.constructor!==null&&!Fe(t.constructor)&&Y(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ro=ie("ArrayBuffer");function _a(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&ro(t.buffer),n}const wa=ut("string"),Y=ut("function"),oo=ut("number"),ht=t=>t!==null&&typeof t=="object",ya=t=>t===!0||t===!1,Qe=t=>{if(dt(t)!=="object")return!1;const n=Vt(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ca=ie("Date"),ba=ie("File"),xa=ie("Blob"),Ra=ie("FileList"),Ta=t=>ht(t)&&Y(t.pipe),Ia=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||Y(t.append)&&((n=dt(t))==="formdata"||n==="object"&&Y(t.toString)&&t.toString()==="[object FormData]"))},Aa=ie("URLSearchParams"),[za,Oa,Ea,Pa]=["ReadableStream","Request","Response","Headers"].map(ie),ka=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ve(t,n,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let e,o;if(typeof t!="object"&&(t=[t]),Pe(t))for(e=0,o=t.length;e<o;e++)n.call(null,t[e],e,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let l;for(e=0;e<s;e++)l=i[e],n.call(null,t[l],l,t)}}function io(t,n){n=n.toLowerCase();const r=Object.keys(t);let e=r.length,o;for(;e-- >0;)if(o=r[e],n===o.toLowerCase())return o;return null}const ve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,so=t=>!Fe(t)&&t!==ve;function zt(){const{caseless:t}=so(this)&&this||{},n={},r=(e,o)=>{const i=t&&io(n,o)||o;Qe(n[i])&&Qe(e)?n[i]=zt(n[i],e):Qe(e)?n[i]=zt({},e):Pe(e)?n[i]=e.slice():n[i]=e};for(let e=0,o=arguments.length;e<o;e++)arguments[e]&&Ve(arguments[e],r);return n}const ja=(t,n,r,{allOwnKeys:e}={})=>(Ve(n,(o,i)=>{r&&Y(o)?t[i]=no(o,r):t[i]=o},{allOwnKeys:e}),t),La=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ma=(t,n,r,e)=>{t.prototype=Object.create(n.prototype,e),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),r&&Object.assign(t.prototype,r)},Na=(t,n,r,e)=>{let o,i,s;const l={};if(n=n||{},t==null)return n;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!e||e(s,t,n))&&!l[s]&&(n[s]=t[s],l[s]=!0);t=r!==!1&&Vt(t)}while(t&&(!r||r(t,n))&&t!==Object.prototype);return n},Da=(t,n,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=n.length;const e=t.indexOf(n,r);return e!==-1&&e===r},Ba=t=>{if(!t)return null;if(Pe(t))return t;let n=t.length;if(!oo(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=t[n];return r},Ga=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Vt(Uint8Array)),Ha=(t,n)=>{const e=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=e.next())&&!o.done;){const i=o.value;n.call(t,i[0],i[1])}},Fa=(t,n)=>{let r;const e=[];for(;(r=t.exec(n))!==null;)e.push(r);return e},Ua=ie("HTMLFormElement"),Wa=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,e,o){return e.toUpperCase()+o}),Vn=(({hasOwnProperty:t})=>(n,r)=>t.call(n,r))(Object.prototype),$a=ie("RegExp"),lo=(t,n)=>{const r=Object.getOwnPropertyDescriptors(t),e={};Ve(r,(o,i)=>{let s;(s=n(o,i,t))!==!1&&(e[i]=s||o)}),Object.defineProperties(t,e)},Va=t=>{lo(t,(n,r)=>{if(Y(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const e=t[r];if(Y(e)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},qa=(t,n)=>{const r={},e=o=>{o.forEach(i=>{r[i]=!0})};return Pe(t)?e(t):e(String(t).split(n)),r},Ka=()=>{},Ja=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,yt="abcdefghijklmnopqrstuvwxyz",qn="0123456789",ao={DIGIT:qn,ALPHA:yt,ALPHA_DIGIT:yt+yt.toUpperCase()+qn},Xa=(t=16,n=ao.ALPHA_DIGIT)=>{let r="";const{length:e}=n;for(;t--;)r+=n[Math.random()*e|0];return r};function Za(t){return!!(t&&Y(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Qa=t=>{const n=new Array(10),r=(e,o)=>{if(ht(e)){if(n.indexOf(e)>=0)return;if(!("toJSON"in e)){n[o]=e;const i=Pe(e)?[]:{};return Ve(e,(s,l)=>{const a=r(s,o+1);!Fe(a)&&(i[l]=a)}),n[o]=void 0,i}}return e};return r(t,0)},Ya=ie("AsyncFunction"),ec=t=>t&&(ht(t)||Y(t))&&Y(t.then)&&Y(t.catch),co=((t,n)=>t?setImmediate:n?((r,e)=>(ve.addEventListener("message",({source:o,data:i})=>{o===ve&&i===r&&e.length&&e.shift()()},!1),o=>{e.push(o),ve.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Y(ve.postMessage)),tc=typeof queueMicrotask<"u"?queueMicrotask.bind(ve):typeof process<"u"&&process.nextTick||co,C={isArray:Pe,isArrayBuffer:ro,isBuffer:Sa,isFormData:Ia,isArrayBufferView:_a,isString:wa,isNumber:oo,isBoolean:ya,isObject:ht,isPlainObject:Qe,isReadableStream:za,isRequest:Oa,isResponse:Ea,isHeaders:Pa,isUndefined:Fe,isDate:Ca,isFile:ba,isBlob:xa,isRegExp:$a,isFunction:Y,isStream:Ta,isURLSearchParams:Aa,isTypedArray:Ga,isFileList:Ra,forEach:Ve,merge:zt,extend:ja,trim:ka,stripBOM:La,inherits:Ma,toFlatObject:Na,kindOf:dt,kindOfTest:ie,endsWith:Da,toArray:Ba,forEachEntry:Ha,matchAll:Fa,isHTMLForm:Ua,hasOwnProperty:Vn,hasOwnProp:Vn,reduceDescriptors:lo,freezeMethods:Va,toObjectSet:qa,toCamelCase:Wa,noop:Ka,toFiniteNumber:Ja,findKey:io,global:ve,isContextDefined:so,ALPHABET:ao,generateString:Xa,isSpecCompliantForm:Za,toJSONObject:Qa,isAsyncFn:Ya,isThenable:ec,setImmediate:co,asap:tc};function k(t,n,r,e,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),e&&(this.request=e),o&&(this.response=o,this.status=o.status?o.status:null)}C.inherits(k,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const uo=k.prototype,ho={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ho[t]={value:t}});Object.defineProperties(k,ho);Object.defineProperty(uo,"isAxiosError",{value:!0});k.from=(t,n,r,e,o,i)=>{const s=Object.create(uo);return C.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),k.call(s,t.message,n,r,e,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const nc=null;function Ot(t){return C.isPlainObject(t)||C.isArray(t)}function fo(t){return C.endsWith(t,"[]")?t.slice(0,-2):t}function Kn(t,n,r){return t?t.concat(n).map(function(o,i){return o=fo(o),!r&&i?"["+o+"]":o}).join(r?".":""):n}function rc(t){return C.isArray(t)&&!t.some(Ot)}const oc=C.toFlatObject(C,{},null,function(n){return/^is[A-Z]/.test(n)});function ft(t,n,r){if(!C.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,r=C.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!C.isUndefined(v[g])});const e=r.metaTokens,o=r.visitor||d,i=r.dots,s=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(n);if(!C.isFunction(o))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(C.isDate(f))return f.toISOString();if(!a&&C.isBlob(f))throw new k("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(f)||C.isTypedArray(f)?a&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,g,v){let S=f;if(f&&!v&&typeof f=="object"){if(C.endsWith(g,"{}"))g=e?g:g.slice(0,-2),f=JSON.stringify(f);else if(C.isArray(f)&&rc(f)||(C.isFileList(f)||C.endsWith(g,"[]"))&&(S=C.toArray(f)))return g=fo(g),S.forEach(function(y,A){!(C.isUndefined(y)||y===null)&&n.append(s===!0?Kn([g],A,i):s===null?g:g+"[]",c(y))}),!1}return Ot(f)?!0:(n.append(Kn(v,g,i),c(f)),!1)}const u=[],p=Object.assign(oc,{defaultVisitor:d,convertValue:c,isVisitable:Ot});function m(f,g){if(!C.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(f),C.forEach(f,function(S,w){(!(C.isUndefined(S)||S===null)&&o.call(n,S,C.isString(w)?w.trim():w,g,p))===!0&&m(S,g?g.concat(w):[w])}),u.pop()}}if(!C.isObject(t))throw new TypeError("data must be an object");return m(t),n}function Jn(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(e){return n[e]})}function qt(t,n){this._pairs=[],t&&ft(t,this,n)}const po=qt.prototype;po.append=function(n,r){this._pairs.push([n,r])};po.toString=function(n){const r=n?function(e){return n.call(this,e,Jn)}:Jn;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function ic(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mo(t,n,r){if(!n)return t;const e=r&&r.encode||ic,o=r&&r.serialize;let i;if(o?i=o(n,r):i=C.isURLSearchParams(n)?n.toString():new qt(n,r).toString(e),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Xn{constructor(){this.handlers=[]}use(n,r,e){return this.handlers.push({fulfilled:n,rejected:r,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){C.forEach(this.handlers,function(e){e!==null&&n(e)})}}const go={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sc=typeof URLSearchParams<"u"?URLSearchParams:qt,lc=typeof FormData<"u"?FormData:null,ac=typeof Blob<"u"?Blob:null,cc={isBrowser:!0,classes:{URLSearchParams:sc,FormData:lc,Blob:ac},protocols:["http","https","file","blob","url","data"]},Kt=typeof window<"u"&&typeof document<"u",Et=typeof navigator=="object"&&navigator||void 0,dc=Kt&&(!Et||["ReactNative","NativeScript","NS"].indexOf(Et.product)<0),uc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hc=Kt&&window.location.href||"http://localhost",fc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kt,hasStandardBrowserEnv:dc,hasStandardBrowserWebWorkerEnv:uc,navigator:Et,origin:hc},Symbol.toStringTag,{value:"Module"})),Z={...fc,...cc};function pc(t,n){return ft(t,new Z.classes.URLSearchParams,Object.assign({visitor:function(r,e,o,i){return Z.isNode&&C.isBuffer(r)?(this.append(e,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function mc(t){return C.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function gc(t){const n={},r=Object.keys(t);let e;const o=r.length;let i;for(e=0;e<o;e++)i=r[e],n[i]=t[i];return n}function vo(t){function n(r,e,o,i){let s=r[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),a=i>=r.length;return s=!s&&C.isArray(o)?o.length:s,a?(C.hasOwnProp(o,s)?o[s]=[o[s],e]:o[s]=e,!l):((!o[s]||!C.isObject(o[s]))&&(o[s]=[]),n(r,e,o[s],i)&&C.isArray(o[s])&&(o[s]=gc(o[s])),!l)}if(C.isFormData(t)&&C.isFunction(t.entries)){const r={};return C.forEachEntry(t,(e,o)=>{n(mc(e),o,r,0)}),r}return null}function vc(t,n,r){if(C.isString(t))try{return(n||JSON.parse)(t),C.trim(t)}catch(e){if(e.name!=="SyntaxError")throw e}return(0,JSON.stringify)(t)}const qe={transitional:go,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const e=r.getContentType()||"",o=e.indexOf("application/json")>-1,i=C.isObject(n);if(i&&C.isHTMLForm(n)&&(n=new FormData(n)),C.isFormData(n))return o?JSON.stringify(vo(n)):n;if(C.isArrayBuffer(n)||C.isBuffer(n)||C.isStream(n)||C.isFile(n)||C.isBlob(n)||C.isReadableStream(n))return n;if(C.isArrayBufferView(n))return n.buffer;if(C.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(i){if(e.indexOf("application/x-www-form-urlencoded")>-1)return pc(n,this.formSerializer).toString();if((l=C.isFileList(n))||e.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return ft(l?{"files[]":n}:n,a&&new a,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),vc(n)):n}],transformResponse:[function(n){const r=this.transitional||qe.transitional,e=r&&r.forcedJSONParsing,o=this.responseType==="json";if(C.isResponse(n)||C.isReadableStream(n))return n;if(n&&C.isString(n)&&(e&&!this.responseType||o)){const s=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?k.from(l,k.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Z.classes.FormData,Blob:Z.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],t=>{qe.headers[t]={}});const Sc=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_c=t=>{const n={};let r,e,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),r=s.substring(0,o).trim().toLowerCase(),e=s.substring(o+1).trim(),!(!r||n[r]&&Sc[r])&&(r==="set-cookie"?n[r]?n[r].push(e):n[r]=[e]:n[r]=n[r]?n[r]+", "+e:e)}),n},Zn=Symbol("internals");function je(t){return t&&String(t).trim().toLowerCase()}function Ye(t){return t===!1||t==null?t:C.isArray(t)?t.map(Ye):String(t)}function wc(t){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=r.exec(t);)n[e[1]]=e[2];return n}const yc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ct(t,n,r,e,o){if(C.isFunction(e))return e.call(this,n,r);if(o&&(n=r),!!C.isString(n)){if(C.isString(e))return n.indexOf(e)!==-1;if(C.isRegExp(e))return e.test(n)}}function Cc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,e)=>r.toUpperCase()+e)}function bc(t,n){const r=C.toCamelCase(" "+n);["get","set","has"].forEach(e=>{Object.defineProperty(t,e+r,{value:function(o,i,s){return this[e].call(this,n,o,i,s)},configurable:!0})})}class Q{constructor(n){n&&this.set(n)}set(n,r,e){const o=this;function i(l,a,c){const d=je(a);if(!d)throw new Error("header name must be a non-empty string");const u=C.findKey(o,d);(!u||o[u]===void 0||c===!0||c===void 0&&o[u]!==!1)&&(o[u||a]=Ye(l))}const s=(l,a)=>C.forEach(l,(c,d)=>i(c,d,a));if(C.isPlainObject(n)||n instanceof this.constructor)s(n,r);else if(C.isString(n)&&(n=n.trim())&&!yc(n))s(_c(n),r);else if(C.isHeaders(n))for(const[l,a]of n.entries())i(a,l,e);else n!=null&&i(r,n,e);return this}get(n,r){if(n=je(n),n){const e=C.findKey(this,n);if(e){const o=this[e];if(!r)return o;if(r===!0)return wc(o);if(C.isFunction(r))return r.call(this,o,e);if(C.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=je(n),n){const e=C.findKey(this,n);return!!(e&&this[e]!==void 0&&(!r||Ct(this,this[e],e,r)))}return!1}delete(n,r){const e=this;let o=!1;function i(s){if(s=je(s),s){const l=C.findKey(e,s);l&&(!r||Ct(e,e[l],l,r))&&(delete e[l],o=!0)}}return C.isArray(n)?n.forEach(i):i(n),o}clear(n){const r=Object.keys(this);let e=r.length,o=!1;for(;e--;){const i=r[e];(!n||Ct(this,this[i],i,n,!0))&&(delete this[i],o=!0)}return o}normalize(n){const r=this,e={};return C.forEach(this,(o,i)=>{const s=C.findKey(e,i);if(s){r[s]=Ye(o),delete r[i];return}const l=n?Cc(i):String(i).trim();l!==i&&delete r[i],r[l]=Ye(o),e[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return C.forEach(this,(e,o)=>{e!=null&&e!==!1&&(r[o]=n&&C.isArray(e)?e.join(", "):e)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const e=new this(n);return r.forEach(o=>e.set(o)),e}static accessor(n){const e=(this[Zn]=this[Zn]={accessors:{}}).accessors,o=this.prototype;function i(s){const l=je(s);e[l]||(bc(o,s),e[l]=!0)}return C.isArray(n)?n.forEach(i):i(n),this}}Q.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Q.prototype,({value:t},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(e){this[r]=e}}});C.freezeMethods(Q);function bt(t,n){const r=this||qe,e=n||r,o=Q.from(e.headers);let i=e.data;return C.forEach(t,function(l){i=l.call(r,i,o.normalize(),n?n.status:void 0)}),o.normalize(),i}function So(t){return!!(t&&t.__CANCEL__)}function ke(t,n,r){k.call(this,t??"canceled",k.ERR_CANCELED,n,r),this.name="CanceledError"}C.inherits(ke,k,{__CANCEL__:!0});function _o(t,n,r){const e=r.config.validateStatus;!r.status||!e||e(r.status)?t(r):n(new k("Request failed with status code "+r.status,[k.ERR_BAD_REQUEST,k.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xc(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Rc(t,n){t=t||10;const r=new Array(t),e=new Array(t);let o=0,i=0,s;return n=n!==void 0?n:1e3,function(a){const c=Date.now(),d=e[i];s||(s=c),r[o]=a,e[o]=c;let u=i,p=0;for(;u!==o;)p+=r[u++],u=u%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<n)return;const m=d&&c-d;return m?Math.round(p*1e3/m):void 0}}function Tc(t,n){let r=0,e=1e3/n,o,i;const s=(c,d=Date.now())=>{r=d,o=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),u=d-r;u>=e?s(c,d):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},e-u)))},()=>o&&s(o)]}const ot=(t,n,r=3)=>{let e=0;const o=Rc(50,250);return Tc(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,a=s-e,c=o(a),d=s<=l;e=s;const u={loaded:s,total:l,progress:l?s/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&d?(l-s)/c:void 0,event:i,lengthComputable:l!=null,[n?"download":"upload"]:!0};t(u)},r)},Qn=(t,n)=>{const r=t!=null;return[e=>n[0]({lengthComputable:r,total:t,loaded:e}),n[1]]},Yn=t=>(...n)=>C.asap(()=>t(...n)),Ic=Z.hasStandardBrowserEnv?function(){const n=Z.navigator&&/(msie|trident)/i.test(Z.navigator.userAgent),r=document.createElement("a");let e;function o(i){let s=i;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(s){const l=C.isString(s)?o(s):s;return l.protocol===e.protocol&&l.host===e.host}}():function(){return function(){return!0}}(),Ac=Z.hasStandardBrowserEnv?{write(t,n,r,e,o,i){const s=[t+"="+encodeURIComponent(n)];C.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),C.isString(e)&&s.push("path="+e),C.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Oc(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function wo(t,n){return t&&!zc(n)?Oc(t,n):n}const er=t=>t instanceof Q?{...t}:t;function we(t,n){n=n||{};const r={};function e(c,d,u){return C.isPlainObject(c)&&C.isPlainObject(d)?C.merge.call({caseless:u},c,d):C.isPlainObject(d)?C.merge({},d):C.isArray(d)?d.slice():d}function o(c,d,u){if(C.isUndefined(d)){if(!C.isUndefined(c))return e(void 0,c,u)}else return e(c,d,u)}function i(c,d){if(!C.isUndefined(d))return e(void 0,d)}function s(c,d){if(C.isUndefined(d)){if(!C.isUndefined(c))return e(void 0,c)}else return e(void 0,d)}function l(c,d,u){if(u in n)return e(c,d);if(u in t)return e(void 0,c)}const a={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,d)=>o(er(c),er(d),!0)};return C.forEach(Object.keys(Object.assign({},t,n)),function(d){const u=a[d]||o,p=u(t[d],n[d],d);C.isUndefined(p)&&u!==l||(r[d]=p)}),r}const yo=t=>{const n=we({},t);let{data:r,withXSRFToken:e,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:l}=n;n.headers=s=Q.from(s),n.url=mo(wo(n.baseURL,n.url),t.params,t.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let a;if(C.isFormData(r)){if(Z.hasStandardBrowserEnv||Z.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[c,...d]=a?a.split(";").map(u=>u.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Z.hasStandardBrowserEnv&&(e&&C.isFunction(e)&&(e=e(n)),e||e!==!1&&Ic(n.url))){const c=o&&i&&Ac.read(i);c&&s.set(o,c)}return n},Ec=typeof XMLHttpRequest<"u",Pc=Ec&&function(t){return new Promise(function(r,e){const o=yo(t);let i=o.data;const s=Q.from(o.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=o,d,u,p,m,f;function g(){m&&m(),f&&f(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(o.method.toUpperCase(),o.url,!0),v.timeout=o.timeout;function S(){if(!v)return;const y=Q.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:t,request:v};_o(function(z){r(z),g()},function(z){e(z),g()},T),v=null}"onloadend"in v?v.onloadend=S:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(S)},v.onabort=function(){v&&(e(new k("Request aborted",k.ECONNABORTED,t,v)),v=null)},v.onerror=function(){e(new k("Network Error",k.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let A=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||go;o.timeoutErrorMessage&&(A=o.timeoutErrorMessage),e(new k(A,T.clarifyTimeoutError?k.ETIMEDOUT:k.ECONNABORTED,t,v)),v=null},i===void 0&&s.setContentType(null),"setRequestHeader"in v&&C.forEach(s.toJSON(),function(A,T){v.setRequestHeader(T,A)}),C.isUndefined(o.withCredentials)||(v.withCredentials=!!o.withCredentials),l&&l!=="json"&&(v.responseType=o.responseType),c&&([p,f]=ot(c,!0),v.addEventListener("progress",p)),a&&v.upload&&([u,m]=ot(a),v.upload.addEventListener("progress",u),v.upload.addEventListener("loadend",m)),(o.cancelToken||o.signal)&&(d=y=>{v&&(e(!y||y.type?new ke(null,t,v):y),v.abort(),v=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const w=xc(o.url);if(w&&Z.protocols.indexOf(w)===-1){e(new k("Unsupported protocol "+w+":",k.ERR_BAD_REQUEST,t));return}v.send(i||null)})},kc=(t,n)=>{const{length:r}=t=t?t.filter(Boolean):[];if(n||r){let e=new AbortController,o;const i=function(c){if(!o){o=!0,l();const d=c instanceof Error?c:this.reason;e.abort(d instanceof k?d:new ke(d instanceof Error?d.message:d))}};let s=n&&setTimeout(()=>{s=null,i(new k(`timeout ${n} of ms exceeded`,k.ETIMEDOUT))},n);const l=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:a}=e;return a.unsubscribe=()=>C.asap(l),a}},jc=function*(t,n){let r=t.byteLength;if(r<n){yield t;return}let e=0,o;for(;e<r;)o=e+n,yield t.slice(e,o),e=o},Lc=async function*(t,n){for await(const r of Mc(t))yield*jc(r,n)},Mc=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:r,value:e}=await n.read();if(r)break;yield e}}finally{await n.cancel()}},tr=(t,n,r,e)=>{const o=Lc(t,n);let i=0,s,l=a=>{s||(s=!0,e&&e(a))};return new ReadableStream({async pull(a){try{const{done:c,value:d}=await o.next();if(c){l(),a.close();return}let u=d.byteLength;if(r){let p=i+=u;r(p)}a.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(a){return l(a),o.return()}},{highWaterMark:2})},pt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Co=pt&&typeof ReadableStream=="function",Nc=pt&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bo=(t,...n)=>{try{return!!t(...n)}catch{return!1}},Dc=Co&&bo(()=>{let t=!1;const n=new Request(Z.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n}),nr=64*1024,Pt=Co&&bo(()=>C.isReadableStream(new Response("").body)),it={stream:Pt&&(t=>t.body)};pt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!it[n]&&(it[n]=C.isFunction(t[n])?r=>r[n]():(r,e)=>{throw new k(`Response type '${n}' is not supported`,k.ERR_NOT_SUPPORT,e)})})})(new Response);const Bc=async t=>{if(t==null)return 0;if(C.isBlob(t))return t.size;if(C.isSpecCompliantForm(t))return(await new Request(Z.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(C.isArrayBufferView(t)||C.isArrayBuffer(t))return t.byteLength;if(C.isURLSearchParams(t)&&(t=t+""),C.isString(t))return(await Nc(t)).byteLength},Gc=async(t,n)=>{const r=C.toFiniteNumber(t.getContentLength());return r??Bc(n)},Hc=pt&&(async t=>{let{url:n,method:r,data:e,signal:o,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:a,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=yo(t);c=c?(c+"").toLowerCase():"text";let m=kc([o,i&&i.toAbortSignal()],s),f;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(a&&Dc&&r!=="get"&&r!=="head"&&(v=await Gc(d,e))!==0){let T=new Request(n,{method:"POST",body:e,duplex:"half"}),O;if(C.isFormData(e)&&(O=T.headers.get("content-type"))&&d.setContentType(O),T.body){const[z,R]=Qn(v,ot(Yn(a)));e=tr(T.body,nr,z,R)}}C.isString(u)||(u=u?"include":"omit");const S="credentials"in Request.prototype;f=new Request(n,{...p,signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:e,duplex:"half",credentials:S?u:void 0});let w=await fetch(f);const y=Pt&&(c==="stream"||c==="response");if(Pt&&(l||y&&g)){const T={};["status","statusText","headers"].forEach(x=>{T[x]=w[x]});const O=C.toFiniteNumber(w.headers.get("content-length")),[z,R]=l&&Qn(O,ot(Yn(l),!0))||[];w=new Response(tr(w.body,nr,z,()=>{R&&R(),g&&g()}),T)}c=c||"text";let A=await it[C.findKey(it,c)||"text"](w,t);return!y&&g&&g(),await new Promise((T,O)=>{_o(T,O,{data:A,headers:Q.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:f})})}catch(S){throw g&&g(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new k("Network Error",k.ERR_NETWORK,t,f),{cause:S.cause||S}):k.from(S,S&&S.code,t,f)}}),kt={http:nc,xhr:Pc,fetch:Hc};C.forEach(kt,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const rr=t=>`- ${t}`,Fc=t=>C.isFunction(t)||t===null||t===!1,xo={getAdapter:t=>{t=C.isArray(t)?t:[t];const{length:n}=t;let r,e;const o={};for(let i=0;i<n;i++){r=t[i];let s;if(e=r,!Fc(r)&&(e=kt[(s=String(r)).toLowerCase()],e===void 0))throw new k(`Unknown adapter '${s}'`);if(e)break;o[s||"#"+i]=e}if(!e){const i=Object.entries(o).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=n?i.length>1?`since :
`+i.map(rr).join(`
`):" "+rr(i[0]):"as no adapter specified";throw new k("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return e},adapters:kt};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ke(null,t)}function or(t){return xt(t),t.headers=Q.from(t.headers),t.data=bt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xo.getAdapter(t.adapter||qe.adapter)(t).then(function(e){return xt(t),e.data=bt.call(t,t.transformResponse,e),e.headers=Q.from(e.headers),e},function(e){return So(e)||(xt(t),e&&e.response&&(e.response.data=bt.call(t,t.transformResponse,e.response),e.response.headers=Q.from(e.response.headers))),Promise.reject(e)})}const Ro="1.7.7",Jt={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Jt[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}});const ir={};Jt.transitional=function(n,r,e){function o(i,s){return"[Axios v"+Ro+"] Transitional option '"+i+"'"+s+(e?". "+e:"")}return(i,s,l)=>{if(n===!1)throw new k(o(s," has been removed"+(r?" in "+r:"")),k.ERR_DEPRECATED);return r&&!ir[s]&&(ir[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(i,s,l):!0}};function Uc(t,n,r){if(typeof t!="object")throw new k("options must be an object",k.ERR_BAD_OPTION_VALUE);const e=Object.keys(t);let o=e.length;for(;o-- >0;){const i=e[o],s=n[i];if(s){const l=t[i],a=l===void 0||s(l,i,t);if(a!==!0)throw new k("option "+i+" must be "+a,k.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new k("Unknown option "+i,k.ERR_BAD_OPTION)}}const jt={assertOptions:Uc,validators:Jt},ue=jt.validators;class _e{constructor(n){this.defaults=n,this.interceptors={request:new Xn,response:new Xn}}async request(n,r){try{return await this._request(n,r)}catch(e){if(e instanceof Error){let o;Error.captureStackTrace?Error.captureStackTrace(o={}):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+=`
`+i):e.stack=i}catch{}}throw e}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=we(this.defaults,r);const{transitional:e,paramsSerializer:o,headers:i}=r;e!==void 0&&jt.assertOptions(e,{silentJSONParsing:ue.transitional(ue.boolean),forcedJSONParsing:ue.transitional(ue.boolean),clarifyTimeoutError:ue.transitional(ue.boolean)},!1),o!=null&&(C.isFunction(o)?r.paramsSerializer={serialize:o}:jt.assertOptions(o,{encode:ue.function,serialize:ue.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&C.merge(i.common,i[r.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),r.headers=Q.concat(s,i);const l=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(a=a&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,u=0,p;if(!a){const f=[or.bind(this),void 0];for(f.unshift.apply(f,l),f.push.apply(f,c),p=f.length,d=Promise.resolve(r);u<p;)d=d.then(f[u++],f[u++]);return d}p=l.length;let m=r;for(u=0;u<p;){const f=l[u++],g=l[u++];try{m=f(m)}catch(v){g.call(this,v);break}}try{d=or.call(this,m)}catch(f){return Promise.reject(f)}for(u=0,p=c.length;u<p;)d=d.then(c[u++],c[u++]);return d}getUri(n){n=we(this.defaults,n);const r=wo(n.baseURL,n.url);return mo(r,n.params,n.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(n){_e.prototype[n]=function(r,e){return this.request(we(e||{},{method:n,url:r,data:(e||{}).data}))}});C.forEach(["post","put","patch"],function(n){function r(e){return function(i,s,l){return this.request(we(l||{},{method:n,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}_e.prototype[n]=r(),_e.prototype[n+"Form"]=r(!0)});class Xt{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const e=this;this.promise.then(o=>{if(!e._listeners)return;let i=e._listeners.length;for(;i-- >0;)e._listeners[i](o);e._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(l=>{e.subscribe(l),i=l}).then(o);return s.cancel=function(){e.unsubscribe(i)},s},n(function(i,s,l){e.reason||(e.reason=new ke(i,s,l),r(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=e=>{n.abort(e)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new Xt(function(o){n=o}),cancel:n}}}function Wc(t){return function(r){return t.apply(null,r)}}function $c(t){return C.isObject(t)&&t.isAxiosError===!0}const Lt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lt).forEach(([t,n])=>{Lt[n]=t});function To(t){const n=new _e(t),r=no(_e.prototype.request,n);return C.extend(r,_e.prototype,n,{allOwnKeys:!0}),C.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return To(we(t,o))},r}const B=To(qe);B.Axios=_e;B.CanceledError=ke;B.CancelToken=Xt;B.isCancel=So;B.VERSION=Ro;B.toFormData=ft;B.AxiosError=k;B.Cancel=B.CanceledError;B.all=function(n){return Promise.all(n)};B.spread=Wc;B.isAxiosError=$c;B.mergeConfig=we;B.AxiosHeaders=Q;B.formToJSON=t=>vo(C.isHTMLForm(t)?new FormData(t):t);B.getAdapter=xo.getAdapter;B.HttpStatusCode=Lt;B.default=B;const Vc=Be(210),qc=Be(297),Kc=(t,n)=>{const r=window.open("","",`left=0,top=0,width=${Vc},height=${qc},toolbar=0,scrollbars=0,status=0`);r.document.title=n??"Export";const e=()=>{setTimeout(()=>{r.print()},5e3)};r.document.body.innerHTML=document.head.innerHTML;const o=t.cloneNode(!0);r.document.body.appendChild(o),r.document.addEventListener("click",()=>r.print()),r.document.close(),r.focus(),e()};let sr=!1;const Jc=()=>{const{isEdit:t,toggleEdit:n,currentCharacter:r,updateCurrentCharacter:e,saveCharacter:o,lastSelectedCharacter:i}=W(),{tokens:s,load:l,availableLanguages:a,currentLocale:c}=J(),[d,u]=I.useState(!1),[p,m]=I.useState(!1),[f,g]=I.useState(0),[v,S]=I.useState(0),{getAll:w,add:y}=pe.useIndexedDB("background"),{getAll:A,add:T}=pe.useIndexedDB("icon"),O=()=>{Kc(document.getElementsByClassName("print")[0],`${r.name}_${r.surname}`)},z=()=>{t&&o(r),n()};I.useEffect(()=>{e(i)},[i]),I.useEffect(()=>{sr||(sr=!0,w().then(x=>{if(x.length>0){S(50);return}B.get("backgrounds.json").then(E=>{const P=50/E.data.length,L=E.data.map(j=>B.get(j,{responseType:"blob"}).then(async({data:N})=>(S(V=>V+P),{name:j,image:N})));Promise.all(L).then(j=>j.forEach(N=>y(N)))})}),A().then(x=>{if(x.length>0){g(50);return}B.get("icons.json",{onDownloadProgress:E=>{const P=Number(E.progress);g(Math.min((Number.isNaN(P)?1:P)*50,50))}}).then(E=>{const{template:P,icons:L}=E.data;nn(L).map(([j,N])=>{const V={name:j,image:Ai(P.replace("{path}",N))};return T(V),V})})}))},[]);const R=Math.min(f+v,100);return R<98?h.jsxs("div",{className:"flex justify-center items-center flex-col text-white h-[90vh] gap-[5mm] w-full",children:[h.jsxs("div",{className:"flex justify-center flex-col",children:[h.jsx("span",{className:"text-[20pt]",children:"Loading assets, please wait.."}),h.jsx("div",{className:"border w-full h-[30px] rounded relative p-[3px]",children:h.jsx("div",{className:"h-full bg-white rounded-[3px]",style:{width:`${R}%`}})})]}),h.jsxs("span",{className:"font-Advent text-center",children:["This is single time load,",h.jsx("br",{})," please dont refresh/close this page."]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex gap-2 p-2.5 w-fit text-[#ebebeb]",children:[h.jsx("button",{className:"border border-[#ebebeb] rounded p-0.5 min-w-[25mm] hover:bg-gray-200 hover:text-black",onClick:z,children:t?s.UI.save:s.UI.edit}),!t&&h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"border border-[#ebebeb] rounded p-0.5 min-w-[15mm] hover:bg-gray-200 hover:text-black",onClick:O,children:s.UI.print}),h.jsx("button",{className:"border border-[#ebebeb] rounded p-0.5 min-w-[35mm] hover:bg-gray-200 hover:text-black",onClick:()=>m(!0),children:s.UI.changeCharacter}),h.jsxs("span",{className:"flex gap-2 items-center",children:[h.jsxs("label",{children:[s.UI.language,":"]}),h.jsx("select",{className:"border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black",onChange:x=>l(x.target.value),value:c,children:nn(a).map(([x,E])=>h.jsx("option",{value:x,children:E},x))})]}),h.jsx(ga,{open:p,onClose:()=>m(!1)})]}),t&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[h.jsxs("label",{children:[s.UI.name,":"]}),h.jsx("input",{type:"text",maxLength:14,className:"border border-[#ebebeb] rounded p-0.5 bg-background hover:bg-gray-200 hover:text-black focus:bg-gray-200 focus:text-black outline-0",value:r.name,onChange:x=>e({...r,name:x.target.value})})]}),h.jsxs("span",{className:"flex gap-2 items-center",children:[h.jsxs("label",{children:[s.UI.surname,":"]}),h.jsx("input",{type:"text",maxLength:14,className:"border border-[#ebebeb] rounded p-0.5 bg-background hover:bg-gray-200 hover:text-black focus:bg-gray-200 focus:text-black outline-0",value:r.surname,onChange:x=>e({...r,surname:x.target.value})})]}),h.jsxs("span",{className:"flex gap-2 items-center",children:[h.jsxs("label",{children:[s.UI.dice,":"]}),h.jsx("select",{className:"cursor-pointer border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black outline-0",onChange:x=>e({...r,dice:x.target.value}),value:r.dice,children:Rr(Rt).map(x=>h.jsx("option",{value:Rt[x],children:x},x))})]}),h.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[h.jsxs("label",{children:[s.UI.manaTracker,":"]}),h.jsx("input",{type:"checkbox",className:"border border-[#ebebeb] rounded p-0.5",checked:r.manaTracker,onChange:x=>e({...r,manaTracker:x.target.checked})})]}),h.jsxs("span",{className:"flex gap-2 items-center flex-shrink-0",children:[h.jsxs("label",{children:[s.UI.manaSlots,":"]}),h.jsx("select",{className:"cursor-pointer border border-[#ebebeb] rounded p-0.5 font-Advent bg-background hover:bg-gray-200 hover:text-black outline-0",onChange:x=>e({...r,manaSlots:Number(x.target.value)}),value:r.manaSlots,children:[1,2,3,4,5,6,7,8,9].map(x=>h.jsx("option",{value:x,children:x},x))})]}),h.jsxs("span",{className:"flex gap-2 items-center",children:[h.jsx("button",{type:"button",className:"border border-[#ebebeb] rounded p-0.5 min-w-[15mm] hover:bg-gray-200 hover:text-black",onClick:()=>u(!0),children:s.UI.background}),h.jsx(ma,{open:d,onClose:()=>u(!1)})]})]})]}),h.jsx("div",{className:"rounded-[2mm] overflow-hidden shadow-highlight w-fit",children:h.jsx(pa,{})})]})},Xc=()=>h.jsx("div",{className:"w-full flex items-center flex-col pb-[30px] small:items-start small:pr-[2mm] small:pl-[2mm]",children:h.jsx(Jc,{})}),Zc={name:"ImagesDB",version:1,objectStoresMeta:[{store:"avatar",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]},{store:"background",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]},{store:"icon",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"name",keypath:"name",options:{unique:!1}},{name:"image",keypath:"image",options:{unique:!1}}]}]},Qc=document.getElementById("root");pe.initDB(Zc);Ao.createRoot(Qc).render(h.jsx(Nt.StrictMode,{children:h.jsx(Ko,{translations:Vo,defaultLocale:"en",children:h.jsx(ii,{children:h.jsx(Xc,{})})})}));
